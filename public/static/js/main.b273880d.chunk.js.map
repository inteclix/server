{"version":3,"sources":["stores.js","containers/SideNavigation.js","containers/TopBar.js","components/Loading.js","components/Page.js","containers/Home.js","components/BackButton.js","routes/Users.js","routes/Cars.js","routes/EMR.js","routes/Drivers.js","routes/Clients.js","constants.js","routes/Affectations.js","components/PrintDecharge.js","components/PrintRestitition.js","routes/Decharges.js","routes/GACheckList.js","routes/Notifications.js","routes/EtatAffectations.js","routes/CarsState.js","routes/Settings.js","containers/Main.js","containers/Login.js","components/ScrollToTopOnLocationChange.js","App.js","hooks/useApi.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","AppProvider","children","value","Provider","useAppStore","useContext","Container","styled","minWidth","borderRight","position","height","history","useHistory","location","useLocation","useState","navItems","setNavItems","user","hasRole","r","has","roles","map","role","name","useEffect","items","push","title","itemId","activePredicate","item","pathname","split","onChange","event","preventDefault","width","borderBottom","top","zIndex","backgroundColor","display","flexDirection","alignItems","justifyContent","style","marginLeft","color","textDecoration","fontWeight","to","marginRight","overrides","Body","content","padding","firstname","lastname","kind","KIND","primary","size","SIZE","mini","shape","SHAPE","pill","onClick","localStorage","setItem","document","reload","returnFocus","autoFocus","secondary","endEnhancer","compact","toUpperCase","Loading","infinite","successValue","flex","paddingLeft","api","loading","setLoading","data","setData","get","then","res","catch","err","console","log","Page","flexWrap","nb","nbCars","nbCarsAffecte","nbCarsNonAffecte","nbCarsEntreAtelie","nbClients","nbAff","nbRes","nbDrivers","nbDech","nbRDech","State","cursor","margin","paddingBottom","border","fontSize","right","bottom","borderRadius","BackButton","startEnhancer","goBack","marginBottom","marginTop","Users","path","exact","All","Add","Edit","columns","StringColumn","mapDataToValue","React","rows","setRows","enqueue","useSnackbar","removeRow","id","ids","nextRows","filter","row","includes","removeRows","rowActions","label","renderIcon","window","confirm","delete","message","batchActions","clearSelection","setRoles","checkedUserRoles","useForm","control","handleSubmit","errors","onSubmit","a","rolesTab","post","checkedRoles","checked","response","caption","error","defaultValue","as","Input","required","placeholder","type","e","target","index","indexOf","splice","checkmarkType","STYLE_TYPE","toggle","labelPlacement","LABEL_PLACEMENT","left","params","useRouteMatch","selectedUser","setSelectedUser","hookForm","roleIDs","put","resUser","resRoles","rolesData","allRoles","i","length","username","mail","poste","tel","newRoles","Cars","Show","CarClients","CarDrivers","carProp","setcarProp","options","selected","setSelected","prop","matricule","old_matricule","code_gps","genre","marque","puissance","energie","carrosserie","clientColumns","car","setCar","clients","driverColumns","drivers","CategoricalColumn","state","latestState","toast","dark","code_paie","clientValue","setClientValue","clientOptions","setClientOptions","clientOption","setClientOption","nextValue","option","searchTerm","callback","mapOptionToString","designation","client","code","_carStates","_motifs_restitition_driver","_motifs_restitition_client","Affectations","Restitition","carValue","setCarValue","carOptions","setCarOptions","carOption","setCarOption","Date","date_affectation","setDate_affectation","date_end_prestation","setDateEndPrestation","affectation_client_comment","setAffectation_client_comment","alert","date","formatString","mask","locale","fr","clearOnEscape","driverOption","withDriver","carteGrise","assurance","vignette","carteGpl","permisCirculer","scanner","disabled","affectation","setAffectation","date_restitition","setDate_restitition","motif_restitition","setMotif_restitition","restitition_comment","setRestitition_comment","styles","hide","page","pageHeader","pageBody","paddingTop","pageFooter","textAlign","PrintDecharge","decharge","this","props","src","moment","year","latestClient","km","cle_vehicule","driver","date_affectation_driver","format","affectation_comment","minHeight","createdby","toString","Component","Document","carte_grise","carte_grise_restitition","assurance_restitition","vignette_restitition","carte_gpl","carte_gpl_restitition","permis_circuler","permis_circuler_restitition","scanner_restitition","roue_secour","roue_secour_restitition","cric","cric_restitition","cle_roue","cle_roue_restitition","poste_radio","poste_radio_restitition","Decharges","driverValue","setDriverValue","driverOptions","setDriverOptions","setDriverOption","setCarteGrise","setAssurance","setVignette","setCarteGpl","setPermisCirculer","setScanner","setRoue_secour","setPoste_radio","setCric","setCle_roue","setCle_vehicule","km_vehicule","setKm_vehicule","gmComment","setGmComment","toDate","comment","setDecharge","printDecharge","useRef","printRestitition","handlePrintDecharge","useReactToPrint","current","onBeforeGetContent","handlePrintRestitition","date_restitition_driver","ref","km_restitition","setKm_restitition","motif_restitition_driver","cle_vehicule_restitition","gaComment","setGaComment","Notifications","notifications","setNotifications","fecthNotifications","interval","setInterval","clearInterval","n","is_read","sub_title","from","url","created_at","startOf","endOf","dateRange","setDateRange","fetchAffectation","date1","isBefore","date2","isAfter","diff","Array","isArray","range","CarsState","carState","setCarState","state_date","setState_date","setComment","dir","Settings","file","setFile","files","formData","FormData","append","responseType","FileDownload","MainContainer","App","TopBar","SideNavigation","Home","GACheckList","Login","useStyletron","css","setToken","setUsername","password","setPassword","className","overflowY","token","clearable","ButtonSIZE","ScrollToTopOnLocationChange","prevProps","scrollTo","getElementById","withRouter","AppContainer","autoClose","newestOnTop","hideProgressBar","rtl","pauseOnFocusLoss","draggable","pauseOnHover","isLoadingUser","setIsLoadingUser","setUser","getItem","updateToken","useMemo","axios","create","baseURL","headers","useApi","isSubscribed","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","engine","Styletron","ReactDOM","render","theme","LightTheme"],"mappings":"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","file":"static/js/main.b273880d.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst AppContext = createContext(null);\r\n\r\nexport function AppProvider({ children, value }) {\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...value,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useAppStore = () => useContext(AppContext);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Navigation } from \"baseui/side-navigation\";\r\nimport { styled } from \"baseui\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\nimport { useHistory, useLocation, useRouteMatch } from \"react-router-dom\";\r\n\r\nconst nav = [\r\n  {\r\n    title: \"Utiisateurs\",\r\n    itemId: \"/users\",\r\n  },\r\n  {\r\n    title: \"Véhicules\",\r\n    itemId: \"/cars\",\r\n  },\r\n  {\r\n    title: \"Conducteurs\",\r\n    itemId: \"/drivers\",\r\n  },\r\n  {\r\n    title: \"Clients\",\r\n    itemId: \"/clients\",\r\n  },\r\n];\r\n\r\nconst Container = styled(\"div\", {\r\n  minWidth: \"280px\",\r\n  borderRight: \"1px solid lightgray\",\r\n  position: \"fixed\",\r\n  height: \"100vh\",\r\n});\r\n\r\nexport default () => {\r\n  const history = useHistory();\r\n  //const [location, setLocation] = useState(\"\");\r\n  const location = useLocation();\r\n  const [navItems, setNavItems] = useState([]);\r\n  const { user } = useAppStore();\r\n\r\n  const hasRole = (r) => {\r\n    let has = false;\r\n    user.roles.map((role) => {\r\n      if (role.name === r) {\r\n        has = true;\r\n      }\r\n    });\r\n    return has;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const items = [];\r\n    items.push({\r\n      title: \"Notifications\",\r\n      itemId: \"/notifications\",\r\n    });\r\n    items.push({\r\n      title: \"Etat Des Véhicules\",\r\n      itemId: \"/emr\",\r\n    });\r\n    items.push({\r\n      title: \"Etat Des Affectations Clients\",\r\n      itemId: \"/etat_affectations\",\r\n    });\r\n    items.push({\r\n      title: \"Gestion Des Status Véhicules\",\r\n      itemId: \"/cars_state\",\r\n    });\r\n    if (hasRole(\"ADD_EDIT_AFFECTATIONS_CLIENTS\")) {\r\n      items.push({\r\n        title: \"Affectations Clients\",\r\n        itemId: \"/affectations\",\r\n      });\r\n    }\r\n\r\n    if (hasRole(\"ADD_EDIT_DRIVERS\")) {\r\n      items.push({\r\n        title: \"Décharges Conducteurs\",\r\n        itemId: \"/decharges\",\r\n      });\r\n    }\r\n    if (hasRole(\"ADD_EDIT_CLIENTS\")) {\r\n      items.push({\r\n        title: \"Gestion Des Clients\",\r\n        itemId: \"/clients\",\r\n      });\r\n    }\r\n    if (hasRole(\"ADD_EDIT_DRIVERS\")) {\r\n      items.push({\r\n        title: \"Gestion Des Conducteurs\",\r\n        itemId: \"/drivers\",\r\n      });\r\n    }\r\n    if (hasRole(\"ADD_EDIT_CARS\")) {\r\n      items.push({\r\n        title: \"Gestion Des Véhicules\",\r\n        itemId: \"/cars\",\r\n      });\r\n    }\r\n    if (hasRole(\"ADD_EDIT_USERS\")) {\r\n      items.push({\r\n        title: \"Gestion Des Utilisateurs\",\r\n        itemId: \"/users\",\r\n      });\r\n    }\r\n\r\n    setNavItems(items);\r\n  }, []);\r\n  return (\r\n    <Container>\r\n      <Navigation\r\n        items={navItems}\r\n        activePredicate={(item) => {\r\n          return (location?.pathname?.split(\"/\")[1]) === (item.itemId?.split(\"/\")[1]);\r\n        }}\r\n        onChange={({ event, item }) => {\r\n          event.preventDefault();\r\n          history.push(item.itemId);\r\n          //      setLocation(item.itemId);\r\n        }}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"baseui\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { StatefulPopover } from \"baseui/popover\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE, KIND } from \"baseui/button\";\r\nimport { Block } from \"baseui/block\";\r\nimport ChevronDown from \"baseui/icon/chevron-down\";\r\nimport { useAppStore } from \"../stores\";\r\nimport { Avatar } from \"baseui/avatar\";\r\n\r\n\r\nconst Container = styled(\"div\", {\r\n  height: \"48px\",\r\n  width: \"100%\",\r\n  borderBottom: \"1px solid lightgray\",\r\n  position: \"fixed\",\r\n  top: 0,\r\n  zIndex: 1,\r\n  backgroundColor: \"white\",\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"space-between\",\r\n});\r\n\r\nexport default () => {\r\n  const { user } = useAppStore();\r\n  const history = useHistory()\r\n  return (\r\n    <Container>\r\n      <Link style={{ marginLeft: 20, color: \"black\", textDecoration: \"none\", fontWeight: 'bold' }} to=\"/\">\r\n        iFlotte v1.0.0\r\n      </Link>\r\n      <div style={{ marginRight: 20 }}>\r\n        <StatefulPopover\r\n          overrides={{\r\n            Body: { style: { zIndex: 5 } },\r\n          }}\r\n          content={() => (\r\n            <Block padding={\"20px\"}>\r\n              <h3>{user?.firstname + \" \" + user?.lastname} 👋</h3>\r\n              <Block>\r\n                <Button\r\n                  style={{ width: \"100%\" }}\r\n                  kind={KIND.primary}\r\n                  size={SIZE.mini}\r\n                  shape={SHAPE.pill}\r\n                  onClick={() => {\r\n                    localStorage.setItem(\"token\", \"\");\r\n                    history.push(\"/\")\r\n                    document.location.reload();\r\n                  }}\r\n                >\r\n                  Déconnecté\r\n                </Button>\r\n              </Block>\r\n            </Block>\r\n          )}\r\n          returnFocus\r\n          autoFocus\r\n        >\r\n          <Button\r\n            kind={KIND.secondary}\r\n            endEnhancer={() => <ChevronDown size={16} />}\r\n            size={SIZE.compact}\r\n            shape={SHAPE.pill}\r\n          >\r\n            {user?.firstname.toUpperCase() + \" \" + user?.lastname.toUpperCase()}\r\n          </Button>\r\n        </StatefulPopover>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ProgressBar } from \"baseui/progress-bar\";\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div>\r\n      <ProgressBar infinite successValue={100} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\n\r\nexport default function ({ style, children, title }) {\r\n  useEffect(() => {\r\n    title ? document.title = title + \" - iFlotte v1.0.0\" : document.title = \"iFlotte v1.0.0\"\r\n  }, [title])\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 20,\r\n        height: \"100%\",\r\n        flex: 1,\r\n        paddingLeft: 300,\r\n        ...style\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Loading from \"../components/Loading\";\r\nimport Page from \"../components/Page\";\r\nimport { useAppStore } from \"../stores\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/states\")\r\n      .then((res) => {\r\n        setData(res.data.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page>\r\n      <h2>Véhicules:</h2>\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n        <State title=\"Nbs Véhicules\" nb={data?.nbCars}></State>\r\n        <State title=\"Véhicules Affectés\" nb={data?.nbCarsAffecte}></State>\r\n        <State\r\n          title=\"Véhicules Non Affectés\"\r\n          nb={data?.nbCarsNonAffecte}\r\n        ></State>\r\n        <State title=\"Véhicules En Panne\" nb={data?.nbCarsEntreAtelie}></State>\r\n      </div>\r\n      <hr />\r\n      <h2>Clients:</h2>\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n        <State title=\"Nbs Des Clients\" nb={data?.nbClients}></State>\r\n        <State title=\"Nbs Affectations ce mois\" nb={data?.nbAff}></State>\r\n        <State title=\"Nbs Restititions ce mois\" nb={data?.nbRes}></State>\r\n      </div>\r\n      <hr />\r\n      <h2>Conducteurs:</h2>\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n        <State title=\"Nbs Des Conducteurs\" nb={data?.nbDrivers}></State>\r\n        <State title=\"Nbs Décharges ce mois\" nb={data?.nbDech}></State>\r\n        <State title=\"Nbs Restititions ce mois\" nb={data?.nbRDech}></State>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n\r\nconst State = ({ title, nb }) => (\r\n  <div\r\n    style={{\r\n      cursor: \"pointer\",\r\n      position: \"relative\",\r\n      width: 290,\r\n      height: 50,\r\n      margin: 10,\r\n      padding: 10,\r\n      paddingBottom: 50,\r\n      color: \"#1e54b7\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      border: \"2px dashed lightgray\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      backgroundColor: \"ghostwhite\",\r\n      fontSize: 20,\r\n    }}\r\n  >\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        right: 5,\r\n        bottom: 5,\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: 39,\r\n        width: 39,\r\n        borderRadius: 40,\r\n        backgroundColor: \"#1e54b7\",\r\n        color: \"white\",\r\n      }}\r\n    >\r\n      {\" \"}\r\n      {nb}\r\n    </div>\r\n    <div style={{ fontWeight: \"bold\" }}>{title}</div>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport ArrowLeft from \"baseui/icon/arrow-left\";\r\n\r\nexport default function BackButton({ title }) {\r\n  const history = useHistory();\r\n  return (\r\n    <>\r\n      <div\r\n        style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\",height: 36 }}\r\n      >\r\n        <Button\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n          startEnhancer={() => <ArrowLeft size={16} />}\r\n          onClick={() => history.goBack()}\r\n        >\r\n          Retour arrière\r\n        </Button>\r\n        <h2 style={{ marginLeft: 20, marginBottom: 0, marginTop: 0 }}>\r\n          {title}\r\n        </h2>\r\n      </div>\r\n      <hr />\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\r\n\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\nimport Show from \"baseui/icon/show\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function Users() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/users\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/users/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/users/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Nom d'utilisateur\",\r\n    mapDataToValue: (data) => data[\"username\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Nom\",\r\n    mapDataToValue: (data) => data[\"firstname\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Prenome\",\r\n    mapDataToValue: (data) => data[\"lastname\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Email\",\r\n    mapDataToValue: (data) => data[\"mail\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Poste\",\r\n    mapDataToValue: (data) => data[\"poste\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"TEL\",\r\n    mapDataToValue: (data) => data[\"tel\"],\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/auth/users\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/users/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ce utilisateur ?\")) {\r\n          api\r\n            .delete(\"/auth/users/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"80vh\"}}>\r\n      <Button\r\n        onClick={() => history.push(\"/users/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Ajouter un utilisateur\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const [roles, setRoles] = useState([]);\r\n  const history = useHistory();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const onSubmit = async (data) => {\r\n    const rolesTab = [...checkedUserRoles];\r\n    data[\"roles\"] = rolesTab;\r\n    const res = await api.post(\"/auth/users\", data);\r\n    if (res) {\r\n      enqueue({ message: \"utilisateur créé\" });\r\n      history.push(\"/users/edit/\" + res?.data?.data?.id + \"\");\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/roles\")\r\n      .then(({ data }) => {\r\n        const allRoles = data.data;\r\n        const checkedRoles = allRoles.map((role) => ({\r\n          ...role,\r\n          checked: true,\r\n        }));\r\n        setRoles(checkedRoles);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        const message = err?.response?.data?.message || \"\" + err;\r\n        enqueue({ message });\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\"Ajouter un utilisateur\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl\r\n          label=\"Nom d'utilisateur\"\r\n          caption={errors.name === \"username\" ? \"Verifier votre donnee\" : null}\r\n          error={errors.name === \"username\"}\r\n        >\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"username\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Nom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"firstname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Prenom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"lastname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Email\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"mail\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Mot de pass\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Poste\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"poste\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"TEL\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"tel\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <div\r\n          style={{\r\n            border: \"1px solid lightgray\",\r\n            padding: 10,\r\n            marginBottom: 15,\r\n          }}\r\n        >\r\n          <h3>Les permissions pour cet utilisateur:</h3>\r\n          {roles.map((role) => (\r\n            <FormControl key={role.id}>\r\n              <StatefulCheckbox\r\n                onChange={(e) => {\r\n                  console.log(e.target.checked);\r\n                  if (e.target.checked) {\r\n                    checkedUserRoles.push(role.id);\r\n                  } else {\r\n                    const index = checkedUserRoles.indexOf(role.id);\r\n                    checkedUserRoles.splice(index, 1);\r\n                    //setChecked(checked.splice(checked.indexOf(role.id), 1));\r\n                  }\r\n                  console.log(checkedUserRoles);\r\n                }}\r\n                name={role.name}\r\n                checkmarkType={STYLE_TYPE.toggle}\r\n                labelPlacement={LABEL_PLACEMENT.left}\r\n              >\r\n                # {role.name}\r\n              </StatefulCheckbox>\r\n            </FormControl>\r\n          ))}\r\n        </div>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Edit() {\r\n  const [loading, setLoading] = useState(true);\r\n  const { enqueue } = useSnackbar();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [roles, setRoles] = useState([]);\r\n\r\n  const hookForm = useForm();\r\n  const { control, handleSubmit, errors } = hookForm;\r\n\r\n  const onSubmit = async (data) => {\r\n    const roleIDs = [];\r\n    roles.map((r) => {\r\n      if (r.checked) {\r\n        roleIDs.push(r.id);\r\n      }\r\n    });\r\n    data[\"roles\"] = roleIDs;\r\n    const res = await api.put(\"/auth/users/\" + params.id, data);\r\n    if (res) {\r\n      enqueue({ message: \"utilisateur est modifier\" });\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const resUser = await api.get(\"/auth/users/\" + params.id);\r\n    if (resUser) {\r\n      setSelectedUser(resUser.data.data);\r\n    } else {\r\n    }\r\n    const resRoles = await api.get(\"/roles/\");\r\n    if (resRoles) {\r\n      const rolesData = resRoles.data.data;\r\n      const allRoles = rolesData.map((role) => {\r\n        let checked = false;\r\n        for (let i = 0; i < resUser.data.data.roles.length; i++) {\r\n          if (role.name === resUser.data.data.roles[i].name) {\r\n            checked = true;\r\n          }\r\n        }\r\n        return { ...role, checked };\r\n      });\r\n      setRoles(allRoles);\r\n    } else {\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton\r\n        title={` Modifier l'utilisateur: ${selectedUser?.username}`}\r\n      />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl\r\n          label=\"Nom d'utilisateur\"\r\n          caption={errors.name === \"username\" ? \"Verifier votre donnee\" : null}\r\n          error={errors.name === \"username\"}\r\n        >\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selectedUser?.username}\r\n            as={Input}\r\n            required\r\n            name=\"username\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Nom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selectedUser?.firstname}\r\n            as={Input}\r\n            required\r\n            name=\"firstname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Prenom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selectedUser?.lastname}\r\n            as={Input}\r\n            required\r\n            name=\"lastname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Mail\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selectedUser?.mail}\r\n            as={Input}\r\n            required\r\n            name=\"mail\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Mot de pass\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            name=\"password\"\r\n            type=\"password\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Poste\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selectedUser?.poste}\r\n            as={Input}\r\n            required\r\n            name=\"poste\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"TEL\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selectedUser?.tel}\r\n            as={Input}\r\n            required\r\n            name=\"tel\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <div\r\n          style={{\r\n            border: \"1px solid lightgray\",\r\n            padding: 10,\r\n            marginBottom: 15,\r\n          }}\r\n        >\r\n          <h3>Les permissions pour ce utilisateur:</h3>\r\n          {roles.map((role) => (\r\n            <FormControl key={role.id}>\r\n              <Checkbox\r\n                checked={role.checked}\r\n                onChange={(e) => {\r\n                  const newRoles = roles.map((r) => {\r\n                    if (r.id === role.id) {\r\n                      return {\r\n                        ...r,\r\n                        checked: e.target.checked,\r\n                      };\r\n                    }\r\n                    return r;\r\n                  });\r\n                  setRoles(newRoles);\r\n                }}\r\n                checkmarkType={STYLE_TYPE.toggle}\r\n                labelPlacement={LABEL_PLACEMENT.left}\r\n              >\r\n                # {role.name}\r\n              </Checkbox>\r\n            </FormControl>\r\n          ))}\r\n        </div>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n          type=\"submit\"\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Select, TYPE } from \"baseui/select\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\r\n\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function Cars() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/cars\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/cars/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/cars/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n      <Route path=\"/cars/show/:id\">\r\n        <Show />\r\n      </Route>\r\n      <Route path=\"/cars/clients/:id\">\r\n        <CarClients />\r\n      </Route>\r\n      <Route path=\"/cars/drivers/:id\">\r\n        <CarDrivers />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Matricule\",\r\n    mapDataToValue: (data) => data[\"matricule\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Ancien Matricule\",\r\n    mapDataToValue: (data) => data[\"old_matricule\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Code GPS\",\r\n    mapDataToValue: (data) => data[\"code_gps\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Genre\",\r\n    mapDataToValue: (data) => data[\"genre\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Genre\",\r\n    mapDataToValue: (data) => data[\"genre\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Puissance\",\r\n    mapDataToValue: (data) => data[\"puissance\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Energie\",\r\n    mapDataToValue: (data) => data[\"energie\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Carrosserie\",\r\n    mapDataToValue: (data) => data[\"carrosserie\"],\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/cars\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/cars/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ?\")) {\r\n          api\r\n            .delete(\"/cars/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"75vh\"}}>\r\n      <Button\r\n        onClick={() => history.push(\"/cars/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Ajouter une véhicule\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const [roles, setRoles] = useState([]);\r\n  const history = useHistory();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n  const [carProp, setcarProp] = useState();\r\n  const onSubmit = async (data) => {\r\n    data[\"prop\"] = carProp[0].id;\r\n    const res = await api.post(\"/cars\", data);\r\n    if (res) {\r\n      enqueue({ message: \"véhicule créé\" });\r\n      history.push(\"/cars\");\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\"Ajouter une véhicule\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Matricule\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"matricule\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Proprietaire\">\r\n          <Select\r\n            value={carProp}\r\n            options={[\r\n              { label: \"CONDOR LOGISTICS\", id: \"CONDOR LOGISTICS\" },\r\n              { label: \"CONDOR ELECTRONICS\", id: \"CONDOR ELECTRONICS\" },\r\n              { label: \"TRAVOCOVIA REALISATION\", id: \"TRAVOCOVIA REALISATION\" },\r\n            ]}\r\n            onChange={(params) => setcarProp(params.value)}\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Ancien matricule\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"old_matricule\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Color\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"color\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Code GPS\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"code_gps\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Genre\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"genre\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Marque\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"marque\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Type\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"type\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Puissance\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"puissance\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Energie\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"energie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Carrosserie\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"carrosserie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Edit() {\r\n  const [loading, setLoading] = useState(true);\r\n  const { enqueue } = useSnackbar();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const [selected, setSelected] = useState(null);\r\n  const history = useHistory();\r\n  const hookForm = useForm();\r\n  const { control, handleSubmit, errors } = hookForm;\r\n  const [carProp, setcarProp] = useState();\r\n  const onSubmit = async (data) => {\r\n    data[\"prop\"] = carProp[0].id;\r\n    const res = await api.put(\"/cars/\" + params.id, data);\r\n    if (res) {\r\n      enqueue({ message: \"Success\" });\r\n      history.push(\"/cars\");\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const res = await api.get(\"/cars/\" + params.id);\r\n    if (res) {\r\n      setSelected(res.data.data);\r\n      setcarProp({\r\n        id: res.data.data.prop,\r\n        label: res.data.data.prop,\r\n      });\r\n    } else {\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title={` Modifier la véhicule: ${selected?.matricule}`} />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Matricule\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.matricule}\r\n            as={Input}\r\n            required\r\n            name=\"matricule\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Proprietaire\">\r\n          <Select\r\n            value={carProp}\r\n            options={[\r\n              { label: \"CONDOR LOGISTICS\", id: \"CONDOR LOGISTICS\" },\r\n              { label: \"CONDOR ELECTRONICS\", id: \"CONDOR ELECTRONICS\" },\r\n              { label: \"TRAVOCOVIA REALISATION\", id: \"TRAVOCOVIA REALISATION\" },\r\n            ]}\r\n            onChange={(params) => setcarProp(params.value)}\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Ancien article\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.old_matricule}\r\n            as={Input}\r\n            required\r\n            name=\"old_matricule\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Color\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.color}\r\n            as={Input}\r\n            required\r\n            name=\"color\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Code GPS\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.code_gps}\r\n            as={Input}\r\n            required\r\n            name=\"code_gps\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Genre\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.genre}\r\n            as={Input}\r\n            required\r\n            name=\"genre\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Marque\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.marque}\r\n            as={Input}\r\n            required\r\n            name=\"marque\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Type\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.type}\r\n            as={Input}\r\n            required\r\n            name=\"type\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Puissance\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.puissance}\r\n            as={Input}\r\n            required\r\n            name=\"puissance\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Energie\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.energie}\r\n            as={Input}\r\n            required\r\n            name=\"energie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Carrosserie\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.carrosserie}\r\n            as={Input}\r\n            required\r\n            name=\"carrosserie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n          type=\"submit\"\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Show() {\r\n  const [loading, setLoading] = useState(true);\r\n  const { enqueue } = useSnackbar();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const [selected, setSelected] = useState(null);\r\n  const history = useHistory();\r\n  const hookForm = useForm();\r\n  const { control, handleSubmit, errors } = hookForm;\r\n  const [carProp, setcarProp] = useState();\r\n  const onSubmit = async (data) => {\r\n    data[\"prop\"] = carProp[0].id;\r\n    const res = await api.put(\"/cars/\" + params.id, data);\r\n    if (res) {\r\n      enqueue({ message: \"Success\" });\r\n      history.push(\"/cars\");\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const res = await api.get(\"/cars/\" + params.id);\r\n    if (res) {\r\n      setSelected(res.data.data);\r\n      setcarProp({\r\n        id: res.data.data.prop,\r\n        label: res.data.data.prop,\r\n      });\r\n    } else {\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title={`Véhicule: ${selected?.matricule}`} />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Matricule\">\r\n          <Input\r\n            value={selected.matricule}\r\n            as={Input}\r\n            name=\"matricule\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Proprietaire\">\r\n          <Select\r\n            value={carProp}\r\n            options={[\r\n              { label: \"CONDOR LOGISTICS\", id: \"CONDOR LOGISTICS\" },\r\n              { label: \"CONDOR ELECTRONICS\", id: \"CONDOR ELECTRONICS\" },\r\n              { label: \"TRAVOCOVIA REALISATION\", id: \"TRAVOCOVIA REALISATION\" },\r\n            ]}\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Ancien article\">\r\n          <Input\r\n            value={selected.old_matricule}\r\n            name=\"old_matricule\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Color\">\r\n          <Input\r\n            value={selected.color}\r\n            name=\"color\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Code GPS\">\r\n          <Input\r\n            value={selected.code_gps}\r\n            as={Input}\r\n            name=\"code_gps\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Genre\">\r\n          <Input\r\n            value={selected.genre}\r\n            name=\"genre\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Marque\">\r\n          <Input\r\n            value={selected.marque}\r\n            name=\"marque\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Type\">\r\n          <Input\r\n            value={selected.type}\r\n            name=\"type\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Puissance\">\r\n          <Input\r\n            value={selected.puissance}\r\n            name=\"puissance\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Energie\">\r\n          <Input\r\n            value={selected.energie}\r\n            as={Input}\r\n            name=\"energie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Carrosserie\">\r\n          <Input\r\n            value={selected.carrosserie}\r\n            name=\"carrosserie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nconst clientColumns = [\r\n  StringColumn({\r\n    title: \"Code\",\r\n    mapDataToValue: (data) => data[\"code\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Désignation\",\r\n    mapDataToValue: (data) => data[\"designation\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Client Hiérarchique\",\r\n    mapDataToValue: (data) =>\r\n      data[\"client\"] ? data[\"client\"][\"designation\"] : \"-\",\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Affectation\",\r\n    mapDataToValue: (data) => data[\"pivot\"][\"date_affectation\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Fin Préstation\",\r\n    mapDataToValue: (data) =>\r\n      data[\"pivot\"][\"date_end_prestation\"]\r\n        ? data[\"pivot\"][\"date_end_prestation\"]\r\n        : \"-\",\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Restitition\",\r\n    mapDataToValue: (data) =>\r\n      data[\"pivot\"][\"date_restitition\"]\r\n        ? data[\"pivot\"][\"date_restitition\"]\r\n        : \"-\",\r\n  }),\r\n];\r\nexport function CarClients() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n  const [car, setCar] = useState(null);\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/cars/clients/\" + params.id)\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.clients?.map((r) => ({ id: r.id, data: r })));\r\n        setCar(res?.data?.data?.car);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"80vh\"}}>\r\n      <BackButton\r\n        title={\"Historique Des Clients Pour La Véhicule: \" + car?.matricule}\r\n        shape={SHAPE.pill}\r\n      />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={clientColumns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nconst driverColumns = [\r\n  StringColumn({\r\n    title: \"Nom\",\r\n    mapDataToValue: (data) => data[\"firstname\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Prénom\",\r\n    mapDataToValue: (data) => data[\"lastname\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Tel\",\r\n    mapDataToValue: (data) => data[\"tel\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Code paie\",\r\n    mapDataToValue: (data) => data[\"code_paie\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Décharge\",\r\n    mapDataToValue: (data) =>\r\n      data[\"pivot\"][\"date_affectation_driver\"]\r\n        ? data[\"pivot\"][\"date_affectation_driver\"]\r\n        : \"-\",\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Restitition Décharge\",\r\n    mapDataToValue: (data) =>\r\n      data[\"pivot\"][\"date_restitition_driver\"]\r\n        ? data[\"pivot\"][\"date_restitition_driver\"]\r\n        : \"-\",\r\n  }),\r\n];\r\n\r\nexport function CarDrivers() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n  const [car, setCar] = useState(null);\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/cars/drivers/\" + params.id)\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.drivers?.map((r) => ({ id: r.id, data: r })));\r\n        setCar(res?.data?.data?.car);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"80vh\"}}>\r\n      <BackButton\r\n        title={\"Historique Des Conducteurs Pour La Véhicule: \" + car?.matricule}\r\n        shape={SHAPE.pill}\r\n      />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={driverColumns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Select, TYPE } from \"baseui/select\";\r\n\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport {\r\n  FaEdit,\r\n  FaEye,\r\n  FaTrash,\r\n  FaHistory,\r\n  FaTasks,\r\n  FaBackspace,\r\n  FaExternalLinkAlt,\r\n  FaCartPlus,\r\n  FaLevelDownAlt,\r\n  FaLevelUpAlt,\r\n  FaPeace,\r\n  FaUserTie,\r\n  FaClipboardList\r\n} from \"react-icons/fa\";\r\n\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function Cars() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/emr\" exact>\r\n        <All />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Matricule\",\r\n    mapDataToValue: (data) => data[\"matricule\"],\r\n  }),\r\n\r\n  StringColumn({\r\n    title: \"Code GPS\",\r\n    mapDataToValue: (data) => data[\"code_gps\"],\r\n  }),\r\n  CategoricalColumn({\r\n    title: \"Marque\",\r\n    mapDataToValue: (data) => data[\"marque\"],\r\n  }),\r\n  CategoricalColumn({\r\n    title: \"Genre\",\r\n    mapDataToValue: (data) => data[\"genre\"],\r\n  }),\r\n  CategoricalColumn({\r\n    title: \"Status\",\r\n    mapDataToValue: (data) => {\r\n      let state = data.latestState?.name ? data[\"latestState\"][\"name\"] : \"En marche\"\r\n      if (state === \"marche\") state = \"En marche\"\r\n      if (state === \"entre_atelie\") state = \"Entrée d'atelie\"\r\n      if (state === \"sortie_atelie\") state = \"Sortie d'atelie\"\r\n      if (state === \"accedente\") state = \"Véhicule Accedenté\"\r\n      return state\r\n    }\r\n  }),\r\n\r\n  CategoricalColumn({\r\n    title: \"Client\",\r\n    mapDataToValue: (data) =>\r\n      data[\"latestClient\"]\r\n        ? data[\"latestClient\"][\"designation\"]\r\n        : \"Non Affecté\",\r\n  }),\r\n  CategoricalColumn({\r\n    title: \"Conducteur\",\r\n    mapDataToValue: (data) =>\r\n      data[\"latestDriver\"]\r\n        ? data[\"latestDriver\"][\"firstname\"] + \" \" + data[\"latestDriver\"][\"lastname\"]\r\n        : \"Sans Conducteur\",\r\n  })\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api, user } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/cars\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [];\r\n\r\n  rowActions.push({\r\n    label: \"Historique des status\",\r\n    onClick: ({ row }) => history.push(\"/cars_state/\" + row.id),\r\n    renderIcon: ({ size }) => <FaClipboardList size={size} />,\r\n  });\r\n\r\n  rowActions.push({\r\n    label: \"Historique des conducteur\",\r\n    onClick: ({ row }) => history.push(\"/cars/drivers/\" + row.id),\r\n    renderIcon: ({ size }) => <FaPeace size={size} />,\r\n  });\r\n  rowActions.push({\r\n    label: \"Historique des clients\",\r\n    onClick: ({ row }) => history.push(\"/cars/clients/\" + row.id),\r\n    renderIcon: ({ size }) => <FaUserTie size={size} />,\r\n  });\r\n  rowActions.push({\r\n    label: \"Affiche\",\r\n    onClick: ({ row }) => history.push(\"/cars/show/\" + row.id),\r\n    renderIcon: ({ size }) => <FaEye size={size} />,\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{ height: \"80vh\" }}>\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\nimport Show from \"baseui/icon/show\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function Cars() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/drivers\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/drivers/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/drivers/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Nom\",\r\n    mapDataToValue: (data) => data[\"firstname\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Prénom\",\r\n    mapDataToValue: (data) => data[\"lastname\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Tel\",\r\n    mapDataToValue: (data) => data[\"tel\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Code paie\",\r\n    mapDataToValue: (data) => data[\"code_paie\"],\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/drivers\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/drivers/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ?\")) {\r\n          api\r\n            .delete(\"/drivers/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"75vh\"}}>\r\n      <Button\r\n        onClick={() => history.push(\"/drivers/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Ajouter un conducteur\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const [roles, setRoles] = useState([]);\r\n  const history = useHistory();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      const res = await api.post(\"/drivers\", data);\r\n      toast.dark(\"Bien ajouter.\")\r\n      history.push(\"/drivers\");\r\n    } catch (error) {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\"Ajouter un conducteur\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Nom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"firstname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Prénom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"lastname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"TEL\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"tel\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Code Paie\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"code_paie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Edit() {\r\n  const [loading, setLoading] = useState(true);\r\n  const { enqueue } = useSnackbar();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const [selected, setSelected] = useState(null);\r\n  const history = useHistory();\r\n  const hookForm = useForm();\r\n  const { control, handleSubmit, errors } = hookForm;\r\n\r\n  const onSubmit = async (data) => {\r\n    const res = await api.put(\"/drivers/\" + params.id, data);\r\n    if (res) {\r\n      enqueue({ message: \"Success\" });\r\n      history.push(\"/drivers\");\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const res = await api.get(\"/drivers/\" + params.id);\r\n    if (res) {\r\n      setSelected(res.data.data);\r\n    } else {\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton\r\n        title={` Modifier le conducteur: ${\r\n          selected?.firstname + \" \" + selected?.lastname\r\n        }`}\r\n      />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Nom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.firstname}\r\n            as={Input}\r\n            required\r\n            name=\"firstname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Prénom\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.lastname}\r\n            as={Input}\r\n            required\r\n            name=\"lastname\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"TEL\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.tel}\r\n            as={Input}\r\n            required\r\n            name=\"tel\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Code Paie\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.code_paie}\r\n            as={Input}\r\n            required\r\n            name=\"code_paie\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n          type=\"submit\"\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\r\nimport { Combobox } from \"baseui/combobox\";\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\nimport Show from \"baseui/icon/show\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function Cars() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/clients\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/clients/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/clients/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Code(SAP)\",\r\n    mapDataToValue: (data) => data[\"code\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Désignation\",\r\n    mapDataToValue: (data) => data[\"designation\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Client Hiérarchique\",\r\n    mapDataToValue: (data) =>\r\n      data[\"client\"] ? data[\"client\"][\"designation\"] : \"-\",\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/clients\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/clients/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ?\")) {\r\n          api\r\n            .delete(\"/clients/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"75vh\"}}>\r\n      <Button\r\n        onClick={() => history.push(\"/clients/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Ajouter un Client/Structure\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const [roles, setRoles] = useState([]);\r\n  const history = useHistory();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n  const onSubmit = async (data) => {\r\n    data[\"client_id\"] = clientOption?.id;\r\n    try {\r\n      const res = await api.post(\"/clients\", data);\r\n      enqueue({ message: \"Success\" });\r\n      history.push(\"/clients\");\r\n    } catch (error) {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\" Ajouter un Client/Structure\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        \r\n        <FormControl label=\"Code(SAP)\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"code\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Désignation\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue=\"\"\r\n            as={Input}\r\n            required\r\n            name=\"designation\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Client Hiérarchique\">\r\n          <Combobox\r\n            value={clientValue}\r\n            onChange={(nextValue, option) => {\r\n              setClientValue(nextValue);\r\n              setClientOption(option);\r\n              fetchClientOptions(nextValue, setClientOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.designation;\r\n            }}\r\n            options={clientOptions}\r\n            name=\"client_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Edit() {\r\n  const [loading, setLoading] = useState(true);\r\n  const { enqueue } = useSnackbar();\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const [selected, setSelected] = useState(null);\r\n  const history = useHistory();\r\n  const hookForm = useForm();\r\n  const { control, handleSubmit, errors } = hookForm;\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n  const onSubmit = async (data) => {\r\n    data[\"client_id\"] = clientOption?.id;\r\n    const res = await api.put(\"/clients/\" + params.id, data);\r\n    if (res) {\r\n      enqueue({ message: \"Success\" });\r\n      history.push(\"/clients\");\r\n    } else {\r\n      enqueue({ message: \"Error !\" });\r\n    }\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const res = await api.get(\"/clients/\" + params.id);\r\n    if (res) {\r\n      setSelected(res.data.data);\r\n      setClientOption(res.data.data?.client);\r\n      setClientValue(res.data.data?.client?.designation);\r\n    } else {\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title={` Modifier la structure: ${selected?.designation}`} />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Code(SAP)\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.code}\r\n            as={Input}\r\n            required\r\n            name=\"code\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Désingation\">\r\n          <Controller\r\n            control={control}\r\n            defaultValue={selected.designation}\r\n            as={Input}\r\n            required\r\n            name=\"designation\"\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Client Hiérarchique\">\r\n          <Combobox\r\n            value={clientValue}\r\n            onChange={(nextValue, option) => {\r\n              setClientValue(nextValue);\r\n              setClientOption(option);\r\n              fetchClientOptions(nextValue, setClientOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.designation;\r\n            }}\r\n            options={clientOptions}\r\n            name=\"client_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n          type=\"submit\"\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n","export const _carStates = [\r\n    { label: \"En marche\", id: \"marche\" },\r\n    { label: \"Entrée d'atelie\", id: \"entre_atelie\" },\r\n    { label: \"Sortie d'atelie\", id: \"sortie_atelie\" },\r\n    { label: \"Véhicule En Mission\", id: \"mission\" },\r\n    { label: \"Véhicule En Panne\", id: \"panne\" },\r\n    { label: \"Véhicule Accedenté\", id: \"accedente\" },\r\n]\r\n\r\nexport const _carGenre = [\r\n    { label: \"V P\", id: \"V P\" },\r\n    { label: \"CAMION\", id: \"CAMION\" },\r\n    { label: \"TRACTEUR\", id: \"TRACTEUR\" },\r\n    { label: \"BUS\", id: \"BUS\" },\r\n    { label: \"UTILITAIRE\", id: \"UTILITAIRE\" },\r\n    { label: \"MICRO BUS\", id: \"MICRO BUS\" },\r\n    { label: \"V H\", id: \"V H\" },\r\n    { label: \"MOTO\", id: \"MOTO\" },\r\n    { label: \"AMBULANCE\", id: \"AMBULANCE\" },\r\n    { label: \"MOTOCYCLE\", id: \"MOTOCYCLE\" }\r\n]\r\n\r\nexport const _motifs_restitition_driver = [\r\n    { label: \"Conducteur Congé\", id: \"conge\" },\r\n    { label: \"Changement de conducteur\", id: \"change\" },\r\n    { label: \"Fin Préstation\", id: \"end_prestation\" },\r\n]\r\n\r\nexport const _motifs_restitition_client = [\r\n    { label: \"Véhicule En Panne\", id: \"panne\" },\r\n    { label: \"Fin De Prestation\", id: \"end_prestation\" },\r\n    { label: \"Pour Changé La Véhicule\", id: \"change\" },\r\n]","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { DatePicker } from \"baseui/datepicker\";\r\nimport fr from \"date-fns/locale/fr\";\r\nimport * as moment from \"moment\";\r\nimport { Combobox } from \"baseui/combobox\";\r\nimport { Select, TYPE } from \"baseui/select\";\r\nimport { _motifs_restitition_client } from \"../constants\";\r\nimport {\r\n  FaEdit,\r\n  FaEye,\r\n  FaTrash,\r\n  FaHistory,\r\n  FaTasks,\r\n  FaBackspace,\r\n  FaExternalLinkAlt,\r\n  FaCartPlus,\r\n  FaLevelDownAlt,\r\n  FaLevelUpAlt,\r\n} from \"react-icons/fa\";\r\nimport { Textarea } from \"baseui/textarea\";\r\n\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\nimport ChevronRight from \"baseui/icon/chevron-right\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function Affectations() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/affectations\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/affectations/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/affectations/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n      <Route path=\"/affectations/show/:id\">\r\n        <Show />\r\n      </Route>\r\n      <Route path=\"/affectations/restitition/:id\">\r\n        <Restitition />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Véhicule\",\r\n    mapDataToValue: (data) => data[\"car\"][\"matricule\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Client\",\r\n    mapDataToValue: (data) => data[\"client\"][\"designation\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Affectation\",\r\n    mapDataToValue: (data) => data[\"date_affectation\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Fin Préstation\",\r\n    mapDataToValue: (data) => data[\"date_end_prestation\"] ? data[\"date_end_prestation\"] : \"\",\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Restitition\",\r\n    mapDataToValue: (data) => data[\"date_restitition\"] ? data[\"date_restitition\"]:\"\",\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/affectations\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Restitition\",\r\n      onClick: ({ row }) => {\r\n        history.push(\"/affectations/restitition/\" + row.data.id);\r\n      },\r\n      renderIcon: ({ size }) => <FaLevelDownAlt size={size} />,\r\n    },\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/affectations/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Modifier\",\r\n      onClick: ({ row }) => history.push(\"/affectations/show/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEye size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ?\")) {\r\n          api\r\n            .delete(\"/affectations/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"80vh\"}}>\r\n      <Button\r\n        onClick={() => history.push(\"/affectations/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Nouvelle Affectation\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const [roles, setRoles] = useState([]);\r\n  const history = useHistory();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [driverValue, setDriverValue] = React.useState(\"\");\r\n  const [driverOptions, setDriverOptions] = React.useState([]);\r\n  const [driverOption, setDriverOption] = React.useState(null);\r\n  const fetchDriverOptions = (searchTerm, callback) => {\r\n    api.get(`/drivers/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [date_affectation, setDate_affectation] = useState(new Date());\r\n  const [date_end_prestation, setDateEndPrestation] = useState(null);\r\n  const [withDriver, setWithDriver] = useState(false);\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n\r\n  const [roue_secour, setRoue_secour] = useState(false);\r\n  const [poste_radio, setPoste_radio] = useState(false);\r\n  const [cric, setCric] = useState(false);\r\n  const [cle_roue, setCle_roue] = useState(false);\r\n  const [cle_vehicule, setCle_vehicule] = useState(1);\r\n\r\n  const [affectation_client_comment, setAffectation_client_comment] = useState(\r\n    \"\"\r\n  );\r\n\r\n  const onSubmit = async (data) => {\r\n    if (!carValue || !clientValue) {\r\n      alert(\"Il ya des champs vides\");\r\n      return;\r\n    }\r\n    data[\"date_affectation\"] = date_affectation;\r\n    data[\"date_end_prestation\"] = date_end_prestation;\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"client_id\"] = clientOption?.id;\r\n    data[\"affectation_client_comment\"] = affectation_client_comment;\r\n\r\n    api\r\n      .post(\"/affectations\", data)\r\n      .then((res) => {\r\n        enqueue({ message: \"Success\" });\r\n        history.push(\"/affectations\");\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Error ! \" + err?.response?.data?.message);\r\n      });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\"Affecté une véhicule\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Combobox\r\n            value={carValue}\r\n            onChange={(nextValue, option) => {\r\n              setCarValue(nextValue);\r\n              setCarOption(option);\r\n              fetchCarOptions(nextValue, setCarOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.matricule;\r\n            }}\r\n            options={carOptions}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n            required\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Client\">\r\n          <Combobox\r\n            value={clientValue}\r\n            onChange={(nextValue, option) => {\r\n              setClientValue(nextValue);\r\n              setClientOption(option);\r\n              fetchClientOptions(nextValue, setClientOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.designation;\r\n            }}\r\n            options={clientOptions}\r\n            name=\"client_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Date Affectation\">\r\n          <DatePicker\r\n            value={date_affectation}\r\n            onChange={({ date }) => {\r\n              setDate_affectation(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_affectation\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Fin du Préstation\">\r\n          <DatePicker\r\n            value={date_end_prestation}\r\n            onChange={({ date }) => {\r\n              setDateEndPrestation(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_end_prestation\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={affectation_client_comment}\r\n            onChange={(e) => setAffectation_client_comment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n\r\n        <hr />\r\n\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Edit() {\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { params } = useRouteMatch();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [driverValue, setDriverValue] = React.useState(\"\");\r\n  const [driverOptions, setDriverOptions] = React.useState([]);\r\n  const [driverOption, setDriverOption] = React.useState(null);\r\n  const fetchDriverOptions = (searchTerm, callback) => {\r\n    api.get(`/drivers/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [date_affectation, setDate_affectation] = useState(new Date());\r\n  const [date_end_prestation, setDateEndPrestation] = useState(null);\r\n  const [withDriver, setWithDriver] = useState(false);\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n\r\n  const [roue_secour, setRoue_secour] = useState(false);\r\n  const [poste_radio, setPoste_radio] = useState(false);\r\n  const [cric, setCric] = useState(false);\r\n  const [cle_roue, setCle_roue] = useState(false);\r\n  const [cle_vehicule, setCle_vehicule] = useState(1);\r\n\r\n  const [affectation_client_comment, setAffectation_client_comment] = useState(\r\n    \"\"\r\n  );\r\n\r\n  const onSubmit = async (data) => {\r\n    if (!carValue || !clientValue) {\r\n      alert(\"Il ya des champs vides\");\r\n      return;\r\n    }\r\n    data[\"date_affectation\"] = date_affectation;\r\n    data[\"date_end_prestation\"] = date_end_prestation;\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"client_id\"] = clientOption?.id;\r\n\r\n    data[\"affectation_client_comment\"] = affectation_client_comment;\r\n\r\n    api\r\n      .put(\"/affectations/\" + params.id, data)\r\n      .then((res) => {\r\n        alert(\"Success\");\r\n        history.push(\"/affectations\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err?.response?.data?.message);\r\n        alert(\"Error ! \" + err?.response?.data?.message);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    api\r\n      .get(\"affectations/\" + params.id)\r\n      .then((res) => {\r\n        const data = res.data.data;\r\n        setCarValue(data.car.matricule);\r\n        setCarOption(data.car);\r\n        setClientValue(data.client.designation);\r\n        setClientOption(data.client);\r\n        setDate_affectation(new Date(data.date_affectation));\r\n        setDateEndPrestation(\r\n          data.date_end_prestation ? new Date(data.date_end_prestation) : null\r\n        );\r\n        setAffectation_client_comment(data.affectation_client_comment);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        alert(\"error\");\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton\r\n        title={\"Modifier l'affectation actuale de véhicule: \" + carValue}\r\n      />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Combobox\r\n            value={carValue}\r\n            onChange={(nextValue, option) => {\r\n              setCarValue(nextValue);\r\n              setCarOption(option);\r\n              fetchCarOptions(nextValue, setCarOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.matricule;\r\n            }}\r\n            options={carOptions}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Client\">\r\n          <Combobox\r\n            value={clientValue}\r\n            onChange={(nextValue, option) => {\r\n              setClientValue(nextValue);\r\n              setClientOption(option);\r\n              fetchClientOptions(nextValue, setClientOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.designation;\r\n            }}\r\n            options={clientOptions}\r\n            name=\"client_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Date Affectation\">\r\n          <DatePicker\r\n            value={date_affectation}\r\n            onChange={({ date }) => {\r\n              setDate_affectation(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_affectation\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Fin du Préstation\">\r\n          <DatePicker\r\n            value={date_end_prestation}\r\n            onChange={({ date }) => {\r\n              setDateEndPrestation(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_end_prestation\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <hr />\r\n\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={affectation_client_comment}\r\n            onChange={(e) => setAffectation_client_comment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Show() {\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { params } = useRouteMatch();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [driverValue, setDriverValue] = React.useState(\"\");\r\n  const [driverOptions, setDriverOptions] = React.useState([]);\r\n  const [driverOption, setDriverOption] = React.useState(null);\r\n  const fetchDriverOptions = (searchTerm, callback) => {\r\n    api.get(`/drivers/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [date_affectation, setDate_affectation] = useState(new Date());\r\n  const [date_end_prestation, setDateEndPrestation] = useState(null);\r\n  const [withDriver, setWithDriver] = useState(false);\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n\r\n  const [roue_secour, setRoue_secour] = useState(false);\r\n  const [poste_radio, setPoste_radio] = useState(false);\r\n  const [cric, setCric] = useState(false);\r\n  const [cle_roue, setCle_roue] = useState(false);\r\n  const [cle_vehicule, setCle_vehicule] = useState(1);\r\n\r\n  const [affectation_client_comment, setAffectation_client_comment] = useState(\r\n    \"\"\r\n  );\r\n\r\n  const onSubmit = async (data) => {\r\n    data[\"with_driver\"] = withDriver;\r\n    data[\"date_affectation\"] = date_affectation;\r\n    data[\"date_end_prestation\"] = date_end_prestation;\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"client_id\"] = clientOption?.id;\r\n\r\n    data[\"driver_id\"] = driverOption.id;\r\n    data[\"carte_grise\"] = carteGrise;\r\n    data[\"assurance\"] = assurance;\r\n    data[\"vignette\"] = vignette;\r\n    data[\"carte_gpl\"] = carteGpl;\r\n    data[\"permis_circuler\"] = permisCirculer;\r\n    data[\"scanner\"] = scanner;\r\n    data[\"affectation_client_comment\"] = affectation_client_comment;\r\n\r\n    api\r\n      .post(\"/affectations\", data)\r\n      .then((res) => {\r\n        enqueue({ message: \"Success\" });\r\n        history.push(\"/affectations\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err?.response?.data?.message);\r\n        enqueue({ message: \"Error ! \" + err?.response?.data?.message });\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    api\r\n      .get(\"affectations/\" + params.id)\r\n      .then((res) => {\r\n        const data = res.data.data;\r\n        setCarValue(data.car.matricule);\r\n        setCarOption(data.car);\r\n        setClientValue(data.client.designation);\r\n        setClientOption(data.client);\r\n        setDate_affectation(data.date_affectation);\r\n        setDateEndPrestation(data.date_end_prestation);\r\n        setAffectation_client_comment(data.affectation_client_comment);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        alert(\"error\");\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton\r\n        title={\"Affectation (N°\" + params.id + \") de véhicule: \" + carValue}\r\n      />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Input value={carValue} name=\"car_id\" size=\"compact\" />\r\n        </FormControl>\r\n        <FormControl label=\"Client\">\r\n          <Input value={clientValue} name=\"client_id\" size=\"compact\" />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Date Affectation\">\r\n          <Input\r\n            value={date_affectation}\r\n            name=\"date_affectation\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Fin du Préstation\">\r\n          <Input\r\n            value={date_end_prestation}\r\n            disabled={!date_end_prestation}\r\n            name=\"date_end_prestation\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={affectation_client_comment}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Restitition() {\r\n  const { params } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const [loading, setLoading] = useState(true);\r\n  const [affectation, setAffectation] = useState(null);\r\n  const [date_restitition, setDate_restitition] = useState(new Date());\r\n  const [motif_restitition, setMotif_restitition] = useState(\"\");\r\n  const [restitition_comment, setRestitition_comment] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"affectations/\" + params.id)\r\n      .then((res) => {\r\n        console.log(res.data.data);\r\n        setAffectation(res.data.data);\r\n        res.data.data.date_restitition\r\n          ? setDate_restitition(new Date(res.data.data.date_restitition))\r\n          : setDate_restitition(new Date());\r\n        setMotif_restitition([{ id: res.data.data.motif_restitition }]);\r\n        setRestitition_comment(res.data.data.restitition_comment);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = {};\r\n    data[\"date_restitition\"] = date_restitition;\r\n    data[\"motif_restitition\"] = motif_restitition[0].id;\r\n    data[\"restitition_comment\"] = restitition_comment;\r\n\r\n    api\r\n      .post(\"affectations/restitition/\" + params.id, data)\r\n      .then((res) => {\r\n        alert(\"Success\");\r\n        history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  };\r\n\r\n  const onDelete = (e) => {\r\n    e.preventDefault();\r\n    const data = {};\r\n    data[\"date_restitition\"] = null;\r\n    data[\"motif_restitition\"] = null;\r\n    data[\"restitition_comment\"] = null;\r\n\r\n    api\r\n      .post(\"affectations/restitition/\" + params.id, data)\r\n      .then((res) => {\r\n        alert(\"Success\");\r\n        history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  };\r\n\r\n  if (affectation?.date_restitition) {\r\n    return (\r\n      <Page>\r\n        <BackButton\r\n          title={\r\n            \"Modifier La Restitition De Véhicule: \" + affectation.car.matricule\r\n          }\r\n        />\r\n        <form style={{ width: 500 }} onSubmit={onSubmit}>\r\n          <FormControl label=\"Véhicule\">\r\n            <Input\r\n              value={affectation.car.matricule}\r\n              name=\"car_id\"\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Client\">\r\n            <Input\r\n              value={affectation.client.designation}\r\n              name=\"client_id\"\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Affectation\">\r\n            <Input value={affectation.date_affectation} size=\"compact\" />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Fin du Préstation\">\r\n            <Input\r\n              value={affectation.date_end_prestation}\r\n              disabled={!affectation.date_end_prestation}\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Restitition\">\r\n            <DatePicker\r\n              value={date_restitition}\r\n              onChange={({ date }) => {\r\n                setDate_restitition(date);\r\n              }}\r\n              formatString=\"dd/MM/yyyy\"\r\n              name=\"date_restitition\"\r\n              mask={null}\r\n              locale={fr}\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Motif De Restitition\">\r\n            <Select\r\n              value={motif_restitition}\r\n              options={_motifs_restitition_client}\r\n              onChange={(params) => setMotif_restitition(params.value)}\r\n              required\r\n              size=\"compact\"\r\n              placeholder=\"\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Commentaire\">\r\n            <Textarea\r\n              value={restitition_comment}\r\n              onChange={(e) => setRestitition_comment(e.target.value)}\r\n              placeholder=\"\"\r\n              clearOnEscape\r\n            />\r\n          </FormControl>\r\n          <hr />\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <Button\r\n              style={{ width: \"47%\" }}\r\n              type=\"submit\"\r\n              size={SIZE.compact}\r\n              shape={SHAPE.pill}\r\n            >\r\n              Enregistrer\r\n            </Button>\r\n            <Button\r\n              style={{ width: \"47%\", backgroundColor: \"#f44336\" }}\r\n              onClick={onDelete}\r\n              size={SIZE.compact}\r\n              shape={SHAPE.pill}\r\n            >\r\n              Supprimer la restitition\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Page>\r\n    );\r\n  } else {\r\n    return (\r\n      <Page>\r\n        <BackButton\r\n          title={\"Restitition de véhicule: \" + affectation.car.matricule}\r\n        />\r\n        <form style={{ width: 500 }} onSubmit={onSubmit}>\r\n          <FormControl label=\"Véhicule\">\r\n            <Input\r\n              value={affectation.car.matricule}\r\n              name=\"car_id\"\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Client\">\r\n            <Input\r\n              value={affectation.client.designation}\r\n              name=\"client_id\"\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Affectation\">\r\n            <Input value={affectation.date_affectation} size=\"compact\" />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Fin du Préstation\">\r\n            <Input\r\n              value={affectation.date_end_prestation}\r\n              disabled={!affectation.date_end_prestation}\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Restitition\">\r\n            <DatePicker\r\n              value={date_restitition}\r\n              onChange={({ date }) => {\r\n                setDate_restitition(date);\r\n              }}\r\n              formatString=\"dd/MM/yyyy\"\r\n              name=\"date_restitition\"\r\n              mask={null}\r\n              locale={fr}\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Motif De Restitition\">\r\n            <Select\r\n              value={motif_restitition}\r\n              options={_motifs_restitition_client}\r\n              onChange={(params) => setMotif_restitition(params.value)}\r\n              required\r\n              size=\"compact\"\r\n              placeholder=\"\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Commentaire\">\r\n            <Textarea\r\n              value={restitition_comment}\r\n              onChange={(e) => setRestitition_comment(e.target.value)}\r\n              placeholder=\"\"\r\n              clearOnEscape\r\n            />\r\n          </FormControl>\r\n          <hr />\r\n          <Button\r\n            style={{ width: \"100%\" }}\r\n            type=\"submit\"\r\n            size={SIZE.compact}\r\n            shape={SHAPE.pill}\r\n          >\r\n            Enregistrer\r\n          </Button>\r\n        </form>\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactToPrint from \"react-to-print\";\r\n\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n  hide: { display: \"none\" },\r\n  page: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"210mm\",\r\n    height: \"297mm\",\r\n    fontSize: \"4mm\",\r\n    backgroundColor: \"white\",\r\n    margin: 0,\r\n    padding: 0,\r\n    border: \"none\",\r\n    color: \"black\",\r\n  },\r\n  pageHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    fontWeight: \"bold\",\r\n    backgroundColor: \"white\",\r\n    border: \".15mm solid black\",\r\n    height: \"25mm\",\r\n    margin: \"5mm\",\r\n  },\r\n  pageBody: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n    padding: \"5mm\",\r\n    paddingTop: \"1mm\",\r\n    paddingBottom: \"1mm\",\r\n    flexDirection: \"column\",\r\n  },\r\n  pageFooter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"5mm\",\r\n    marginTop: \"1mm\",\r\n    fontSize: \"3.3mm\",\r\n    textAlign: \"center\",\r\n  },\r\n};\r\n\r\nexport default class PrintDecharge extends React.Component {\r\n  render() {\r\n    const { decharge } = this.props;\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.pageHeader}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"50mm\",\r\n            }}\r\n          >\r\n            <img style={{ width: \"45mm\" }} src={\"/logo.png\"} />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: \"5.5mm\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              SPA CONDOR LOGISTICS\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                textAlign: \"center\",\r\n                border: \".15mm solid black\",\r\n                fontSize: \"5mm\",\r\n              }}\r\n            >\r\n              <div>DECHARGE</div>\r\n              <div>{`N°${decharge.id} DL/${moment().year()}`}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"space-around\",\r\n              textAlign: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"50mm\",\r\n            }}\r\n          >\r\n            <div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n            \r\n          </div>\r\n        </div>\r\n        <div style={styles.pageBody}>\r\n          <div style={{ fontSize: \"6mm\", marginBottom: \"2mm\" }}>\r\n            <b>Client: </b>{\" \"}\r\n            {decharge?.car?.latestClient\r\n              ? decharge?.car?.latestClient?.designation\r\n              : \"/\"}\r\n            .\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>\r\n              <b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n            </u>\r\n            <ul>\r\n              <li>\r\n                <b>Marque:</b> {decharge.car.marque}\r\n              </li>\r\n              <li>\r\n                <b>Matricule:</b> {decharge.car.matricule}\r\n              </li>\r\n              <li>\r\n                <b>Code GPS:</b> {decharge.car.code_gps}\r\n              </li>\r\n              <li>\r\n                <b>Odometre:</b> {decharge.km}\r\n              </li>\r\n              <li>\r\n                <b>Nbs Clés de Véhicule:</b> {decharge.cle_vehicule}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div\r\n            style={{\r\n              marginTop: \"2mm\",\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>Je Soussigné Monsieur:</u>{\" \"}\r\n            <b>\r\n              {\" \"}\r\n              {decharge.driver.firstname.toUpperCase() +\r\n                \" \" +\r\n                decharge.driver.lastname.toUpperCase()}\r\n            </b>\r\n            , <u>N° TEL:</u> <b>{decharge.driver.tel}</b>\r\n            <br />\r\n            Reconnais avoir reçu ce jour{\" \"}\r\n            <b>{moment(decharge.date_affectation_driver).format(\"D-M-yy\")}</b>:\r\n            <div\r\n              style={{\r\n                marginTop: \"4mm\",\r\n                fontSize: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              I - <u>Les documents ci-aprés:</u>\r\n            </div>\r\n            <ol style={{ marginLeft: \"5mm\" }}>\r\n              {\" \"}\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"carte_grise\"\r\n                title=\"Carte grise\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"assurance\"\r\n                title=\"Assurance\"\r\n              />\r\n              <Document decharge={decharge} name=\"vignette\" title=\"Vignette\" />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"carte_gpl\"\r\n                title=\"carte GPL\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"permis_circuler\"\r\n                title=\"Permis circuler\"\r\n              />\r\n              <Document decharge={decharge} name=\"scanner\" title=\"Scanner\" />\r\n            </ol>\r\n            <div\r\n              style={{\r\n                marginTop: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              II - <u>Les equipments ci-aprés:</u>\r\n            </div>\r\n            <ol style={{ marginLeft: \"5mm\" }}>\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"roue_secour\"\r\n                title=\"Roue de secours\"\r\n              />\r\n              <Document decharge={decharge} name=\"cric\" title=\"Cric\" />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"cle_roue\"\r\n                title=\"Cle de roue\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"poste_radio\"\r\n                title=\"Poste radio\"\r\n              />\r\n            </ol>\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              border: \".2mm solid black\",\r\n              marginTop: \"2mm\",\r\n              padding: \"2mm\",\r\n              flex: 1,\r\n            }}\r\n          >\r\n            <u>\r\n              <b>Observations: </b>\r\n            </u>{\" \"}\r\n            {decharge.affectation_comment}\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.pageFooter}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              height: \"10mm\",\r\n              border: \".15mm solid black\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Administrative Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Bénéficiare</b>\r\n            </div>\r\n          </div>\r\n          <div style={{ display: \"flex\", flex: 1, minHeight: \"25mm\" }}>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n          </div>\r\n          <div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n            {\"username: \" + decharge?.createdby?.username} |{\" \"}\r\n            {`Imprimer Le: ${moment().format(\"D-M-yy\")}`} |{\" \"}\r\n            {document.location.toString()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Document = ({ decharge, name, title }) => {\r\n  if (decharge[name]) {\r\n    return (\r\n      <li style={{ margin: \"2mm\" }}>\r\n        <input\r\n          style={{ marginRight: \"2mm\" }}\r\n          checked={decharge[name]}\r\n          type=\"checkbox\"\r\n        />\r\n        <b>{title}</b>\r\n      </li>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactToPrint from \"react-to-print\";\r\n\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n  hide: { display: \"none\" },\r\n  page: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"210mm\",\r\n    height: \"297mm\",\r\n    fontSize: \"4mm\",\r\n    backgroundColor: \"white\",\r\n    margin: 0,\r\n    padding: 0,\r\n    border: \"none\",\r\n    color: \"black\",\r\n  },\r\n  pageHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    fontWeight: \"bold\",\r\n    backgroundColor: \"white\",\r\n    border: \".15mm solid black\",\r\n    height: \"25mm\",\r\n    margin: \"5mm\",\r\n  },\r\n  pageBody: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n    padding: \"5mm\",\r\n    paddingTop: \"1mm\",\r\n    paddingBottom: \"1mm\",\r\n    flexDirection: \"column\",\r\n  },\r\n  pageFooter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"5mm\",\r\n    marginTop: \"1mm\",\r\n    fontSize: \"3.3mm\",\r\n    textAlign: \"center\",\r\n  },\r\n};\r\n\r\nexport default class PrintDecharge extends React.Component {\r\n  render() {\r\n    const { decharge } = this.props;\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.pageHeader}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"50mm\",\r\n            }}\r\n          >\r\n            <img style={{ width: \"45mm\" }} src={\"/logo.png\"} />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: \"5.5mm\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              SPA CONDOR LOGISTICS\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                textAlign: \"center\",\r\n                border: \".15mm solid black\",\r\n                fontSize: \"5mm\",\r\n              }}\r\n            >\r\n              <div>RESTITITION DECHARGE</div>\r\n              <div>{`N°${decharge.id} DL/${moment().year()}`}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"space-around\",\r\n              textAlign: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"50mm\",\r\n            }}\r\n          >\r\n            <div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n          </div>\r\n        </div>\r\n        <div style={styles.pageBody}>\r\n          <div style={{ fontSize: \"6mm\", marginBottom: \"2mm\" }}>\r\n            <b>Client: </b>{\" \"}\r\n            {decharge?.car?.latestClient\r\n              ? decharge?.car?.latestClient?.designation\r\n              : \"/\"}\r\n            .\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>\r\n              <b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n            </u>\r\n            <ul>\r\n              <li>\r\n                <b>Marque:</b> {decharge.car.marque}\r\n              </li>\r\n              <li>\r\n                <b>Matricule:</b> {decharge.car.matricule}\r\n              </li>\r\n              <li>\r\n                <b>Code GPS:</b> {decharge.car.code_gps}\r\n              </li>\r\n              <li>\r\n                <b>Odometre:</b> {decharge.km}\r\n              </li>\r\n              <li>\r\n                <b>Nbs Clés de Véhicule:</b> {decharge.cle_vehicule}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div\r\n            style={{\r\n              marginTop: \"2mm\",\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>Je Soussigné Monsieur:</u>{\" \"}\r\n            <b>\r\n              {\" \"}\r\n              {decharge.driver.firstname.toUpperCase() +\r\n                \" \" +\r\n                decharge.driver.lastname.toUpperCase()}\r\n            </b>\r\n            , <u>N° TEL:</u> <b>{decharge.driver.tel}</b>\r\n            <br />\r\n            Reconnais avoir restituer ce jour{\" \"}\r\n            <b>{moment(decharge.date_affectation_driver).format(\"D-M-yy\")}</b>:\r\n            <div\r\n              style={{\r\n                marginTop: \"4mm\",\r\n                fontSize: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              I - <u>Les documents ci-aprés:</u>\r\n            </div>\r\n            <ol style={{ marginLeft: \"5mm\" }}>\r\n              {\" \"}\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"carte_grise_restitition\"\r\n                title=\"Carte grise\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"assurance_restitition\"\r\n                title=\"Assurance\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"vignette_restitition\"\r\n                title=\"Vignette\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"carte_gpl_restitition\"\r\n                title=\"carte GPL\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"permis_circuler_restitition\"\r\n                title=\"Permis circuler\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"scanner_restitition\"\r\n                title=\"Scanner\"\r\n              />\r\n            </ol>\r\n            <div\r\n              style={{\r\n                marginTop: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              II - <u>Les equipments ci-aprés:</u>\r\n            </div>\r\n            <ol style={{ marginLeft: \"5mm\" }}>\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"roue_secour_restitition\"\r\n                title=\"Roue de secours\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"cric_restitition\"\r\n                title=\"Cric\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"cle_roue_restitition\"\r\n                title=\"Cle de roue\"\r\n              />\r\n              <Document\r\n                decharge={decharge}\r\n                name=\"poste_radio_restitition\"\r\n                title=\"Poste radio\"\r\n              />\r\n            </ol>\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              border: \".2mm solid black\",\r\n              marginTop: \"2mm\",\r\n              padding: \"2mm\",\r\n              flex: 1,\r\n            }}\r\n          >\r\n            <u>\r\n              <b>Observations: </b>\r\n            </u>{\" \"}\r\n            <p>\r\n              {\" \"}\r\n              <b>Les Documents non restituer: </b>\r\n              {decharge.carte_grise === 1 &&\r\n                decharge.carte_grise_restitition === 0 &&\r\n                \"Carte grise, \"}\r\n              {decharge.assurance === 1 &&\r\n                decharge.assurance_restitition === 0 &&\r\n                \"Assurance, \"}\r\n              {decharge.vignette === 1 &&\r\n                decharge.vignette_restitition === 0 &&\r\n                \"Vignette, \"}\r\n              {decharge.carte_gpl === 1 &&\r\n                decharge.carte_gpl_restitition === 0 &&\r\n                \"Carte GPL, \"}\r\n              {decharge.permis_circuler === 1 &&\r\n                decharge.permis_circuler_restitition === 0 &&\r\n                \"Permis Circuler, \"}\r\n              {decharge.scanner === 1 &&\r\n                decharge.scanner_restitition === 0 &&\r\n                \"Scanner \"}{\" \"}\r\n              /\r\n            </p>\r\n            <p>\r\n              {\" \"}\r\n              <b>Les Equipments non restituer: </b>\r\n              {decharge.roue_secour === 1 &&\r\n                decharge.roue_secour_restitition === 0 &&\r\n                \"Roue Secure, \"}\r\n              {decharge.cric === 1 &&\r\n                decharge.cric_restitition === 0 &&\r\n                \"Cric, \"}\r\n              {decharge.cle_roue === 1 &&\r\n                decharge.cle_roue_restitition === 0 &&\r\n                \"Clé Roue, \"}\r\n              {decharge.poste_radio === 1 &&\r\n                decharge.poste_radio_restitition === 0 &&\r\n                \"Poste Radio, \"}\r\n               /\r\n            </p>\r\n            {decharge.restitition_comment}\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.pageFooter}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              height: \"10mm\",\r\n              border: \".15mm solid black\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Administrative Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Bénéficiare</b>\r\n            </div>\r\n          </div>\r\n          <div style={{ display: \"flex\", flex: 1, minHeight: \"25mm\" }}>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n          </div>\r\n          <div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n            {\"username: \" + decharge?.createdby?.username} |{\" \"}\r\n            {`Imprimer Le: ${moment().format(\"D-M-yy\")}`} |{\" \"}\r\n            {document.location.toString()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Document = ({ decharge, name, title }) => {\r\n  if (decharge[name]) {\r\n    return (\r\n      <li style={{ margin: \"2mm\" }}>\r\n        <input\r\n          style={{ marginRight: \"2mm\" }}\r\n          checked={decharge[name]}\r\n          type=\"checkbox\"\r\n        />\r\n        <b>{title}</b>\r\n      </li>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { DatePicker } from \"baseui/datepicker\";\r\nimport fr from \"date-fns/locale/fr\";\r\nimport * as moment from \"moment\";\r\nimport { Combobox } from \"baseui/combobox\";\r\nimport { Select, TYPE } from \"baseui/select\";\r\nimport { _motifs_restitition_driver } from \"../constants\";\r\nimport {\r\n  FaEdit,\r\n  FaEye,\r\n  FaTrash,\r\n  FaHistory,\r\n  FaTasks,\r\n  FaBackspace,\r\n  FaExternalLinkAlt,\r\n  FaCartPlus,\r\n  FaLevelDownAlt,\r\n  FaLevelUpAlt,\r\n} from \"react-icons/fa\";\r\nimport { Textarea } from \"baseui/textarea\";\r\n\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\nimport ChevronRight from \"baseui/icon/chevron-right\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\nimport PrintDecharge from \"../components/PrintDecharge\";\r\nimport PrintRestitition from \"../components/PrintRestitition\";\r\nimport ReactToPrint, { useReactToPrint } from \"react-to-print\";\r\n\r\nexport default function Decharges() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/decharges\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/decharges/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/decharges/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n      <Route path=\"/decharges/show/:id\">\r\n        <Show />\r\n      </Route>\r\n      <Route path=\"/decharges/restitition/:id\">\r\n        <Restitition />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Véhicule\",\r\n    mapDataToValue: (data) => data[\"car\"][\"matricule\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Conducteur\",\r\n    mapDataToValue: (data) =>\r\n      data[\"driver\"][\"firstname\"].toUpperCase() +\r\n      \" \" +\r\n      data[\"driver\"][\"lastname\"].toUpperCase(),\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Décharge\",\r\n    mapDataToValue: (data) => data[\"date_affectation_driver\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Date Restitition Décharge\",\r\n    mapDataToValue: (data) =>\r\n      data[\"date_restitition_driver\"] ? data[\"date_restitition_driver\"] : \"\",\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/decharges\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Restitition\",\r\n      onClick: ({ row }) => {\r\n        history.push(\"/decharges/restitition/\" + row.data.id);\r\n      },\r\n      renderIcon: ({ size }) => <FaLevelDownAlt size={size} />,\r\n    },\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/decharges/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Modifier\",\r\n      onClick: ({ row }) => history.push(\"/decharges/show/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEye size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ?\")) {\r\n          api\r\n            .delete(\"/decharges/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"80vh\"}} title=\"Décharges\">\r\n      <Button\r\n        onClick={() => history.push(\"/decharges/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Nouveau Décharge\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const [roles, setRoles] = useState([]);\r\n  const history = useHistory();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [driverValue, setDriverValue] = React.useState(\"\");\r\n  const [driverOptions, setDriverOptions] = React.useState([]);\r\n  const [driverOption, setDriverOption] = React.useState(null);\r\n  const fetchDriverOptions = (searchTerm, callback) => {\r\n    api.get(`/drivers/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [date_affectation, setDate_affectation] = useState(new Date());\r\n  const [date_end_prestation, setDateEndPrestation] = useState(null);\r\n  const [withDriver, setWithDriver] = useState(false);\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n\r\n  const [roue_secour, setRoue_secour] = useState(false);\r\n  const [poste_radio, setPoste_radio] = useState(false);\r\n  const [cric, setCric] = useState(false);\r\n  const [cle_roue, setCle_roue] = useState(false);\r\n  const [cle_vehicule, setCle_vehicule] = useState(1);\r\n  const [km_vehicule, setKm_vehicule] = useState(0);\r\n\r\n  const [gmComment, setGmComment] = useState(\"\");\r\n\r\n  const onSubmit = async (data) => {\r\n    if (!carValue || !driverValue) {\r\n      alert(\"Il ya des champs vides\");\r\n      return;\r\n    }\r\n    data[\"date_affectation_driver\"] = date_affectation;\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"driver_id\"] = driverOption.id;\r\n\r\n    data[\"carte_grise\"] = carteGrise;\r\n    data[\"assurance\"] = assurance;\r\n    data[\"vignette\"] = vignette;\r\n    data[\"carte_gpl\"] = carteGpl;\r\n    data[\"permis_circuler\"] = permisCirculer;\r\n    data[\"scanner\"] = scanner;\r\n    data[\"cle_vehicule\"] = cle_vehicule;\r\n    data[\"km\"] = km_vehicule;\r\n    data[\"roue_secour\"] = roue_secour;\r\n    data[\"cric\"] = cric;\r\n    data[\"cle_roue\"] = cle_roue;\r\n    data[\"poste_radio\"] = poste_radio;\r\n    data[\"affectation_comment\"] = gmComment ? gmComment : \"/\";\r\n    api\r\n      .post(\"/decharges\", data)\r\n      .then((res) => {\r\n        enqueue({ message: \"Success\" });\r\n        history.push(\"/decharges\");\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Error ! \" + err?.response?.data?.message);\r\n      });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Décharges\">\r\n      <BackButton title=\"Décharge pour la véhicule\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Combobox\r\n            value={carValue}\r\n            onChange={(nextValue, option) => {\r\n              setCarValue(nextValue);\r\n              setCarOption(option);\r\n              fetchCarOptions(nextValue, setCarOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.matricule;\r\n            }}\r\n            options={carOptions}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n            required\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Conducteur\">\r\n          <Combobox\r\n            required\r\n            value={driverValue}\r\n            onChange={(nextValue, option) => {\r\n              setDriverValue(nextValue);\r\n              setDriverOption(option);\r\n              fetchDriverOptions(nextValue, setDriverOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.firstname + \" \" + option.lastname;\r\n            }}\r\n            options={driverOptions}\r\n            name=\"driver_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Decharge\">\r\n          <DatePicker\r\n            value={date_affectation}\r\n            onChange={({ date }) => {\r\n              setDate_affectation(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_affectation_driver\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n\r\n        <hr />\r\n\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGrise}\r\n            onChange={(e) => {\r\n              setCarteGrise(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte grise\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={assurance}\r\n            onChange={(e) => {\r\n              setAssurance(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Assurance\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={vignette}\r\n            onChange={(e) => {\r\n              setVignette(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Vignette\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGpl}\r\n            onChange={(e) => {\r\n              setCarteGpl(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte GPL\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={permisCirculer}\r\n            onChange={(e) => {\r\n              setPermisCirculer(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Permis Circuler\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={scanner}\r\n            onChange={(e) => {\r\n              setScanner(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Scanner\r\n          </Checkbox>\r\n        </FormControl>\r\n        <hr />\r\n        <FormControl label=\"Odometer Véhicule\">\r\n          <Input\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            value={km_vehicule}\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              if (e.target.value > 1) {\r\n                setKm_vehicule(e.target.value);\r\n              }\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Nb Clés Véhicule\">\r\n          <Input\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            value={cle_vehicule}\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              setCle_vehicule(e.target.value);\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={roue_secour}\r\n            onChange={(e) => {\r\n              setRoue_secour(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Roue de secure\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={cric}\r\n            onChange={(e) => {\r\n              setCric(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Cric\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={cle_roue}\r\n            onChange={(e) => {\r\n              setCle_roue(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Clé Roue\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={poste_radio}\r\n            onChange={(e) => {\r\n              setPoste_radio(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Poste Radio\r\n          </Checkbox>\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={gmComment}\r\n            onChange={(e) => setGmComment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Edit() {\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { params } = useRouteMatch();\r\n  const [checkedUserRoles, setCheckedUserRoles] = React.useState([]);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [clientValue, setClientValue] = React.useState(\"\");\r\n  const [clientOptions, setClientOptions] = React.useState([]);\r\n  const [clientOption, setClientOption] = React.useState(null);\r\n  const fetchClientOptions = (searchTerm, callback) => {\r\n    api.get(`/clients/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [driverValue, setDriverValue] = React.useState(\"\");\r\n  const [driverOptions, setDriverOptions] = React.useState([]);\r\n  const [driverOption, setDriverOption] = React.useState(null);\r\n  const fetchDriverOptions = (searchTerm, callback) => {\r\n    api.get(`/drivers/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const [date_affectation, setDate_affectation] = useState(new Date());\r\n  const [date_end_prestation, setDateEndPrestation] = useState(null);\r\n  const [withDriver, setWithDriver] = useState(false);\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n\r\n  const [roue_secour, setRoue_secour] = useState(false);\r\n  const [poste_radio, setPoste_radio] = useState(false);\r\n  const [cric, setCric] = useState(false);\r\n  const [cle_roue, setCle_roue] = useState(false);\r\n  const [cle_vehicule, setCle_vehicule] = useState(1);\r\n  const [km_vehicule, setKm_vehicule] = useState(0);\r\n\r\n  const [gmComment, setGmComment] = useState(\"\");\r\n\r\n  const onSubmit = async (data) => {\r\n    if (!carValue || !driverValue) {\r\n      alert(\"Il ya des champs vides\");\r\n      return;\r\n    }\r\n    data[\"date_affectation_driver\"] = moment(date_affectation).format(\"yy-M-D\");\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"driver_id\"] = driverOption.id;\r\n\r\n    data[\"carte_grise\"] = carteGrise;\r\n    data[\"assurance\"] = assurance;\r\n    data[\"vignette\"] = vignette;\r\n    data[\"carte_gpl\"] = carteGpl;\r\n    data[\"permis_circuler\"] = permisCirculer;\r\n    data[\"scanner\"] = scanner;\r\n    data[\"cle_vehicule\"] = cle_vehicule;\r\n    data[\"km\"] = km_vehicule;\r\n    data[\"roue_secour\"] = roue_secour;\r\n    data[\"cric\"] = cric;\r\n    data[\"cle_roue\"] = cle_roue;\r\n    data[\"poste_radio\"] = poste_radio;\r\n    data[\"affectation_comment\"] = gmComment ? gmComment : \"/\";\r\n    api\r\n      .put(\"/decharges/\" + params.id, data)\r\n      .then((res) => {\r\n        alert(\"Success\");\r\n        history.push(\"/decharges/show/\" + params.id);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err?.response?.data?.message);\r\n        alert(\"Error ! \" + err?.response?.data?.message);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    api\r\n      .get(\"decharges/\" + params.id)\r\n      .then((res) => {\r\n        const data = res.data.data;\r\n        setCarValue(data.car.matricule);\r\n        setCarOption(data.car);\r\n        setDate_affectation(moment(data.date_affectation_driver).toDate());\r\n\r\n        setDriverValue(data.driver.firstname + \" \" + data.driver.lastname);\r\n        setDriverOption(data.driver);\r\n        setCarteGrise(data.carte_grise);\r\n        setAssurance(data.assurance);\r\n        setVignette(data.vignette);\r\n        setCarteGpl(data.carte_gpl);\r\n        setPermisCirculer(data.permis_circuler);\r\n        setScanner(data.scanner);\r\n        setCle_vehicule(data?.cle_vehicule);\r\n        setKm_vehicule(data?.km);\r\n        setRoue_secour(data.roue_secour);\r\n        setCric(data?.cric);\r\n        setCle_roue(data.cle_roue);\r\n        setPoste_radio(data.poste_radio);\r\n        setGmComment(data.comment);\r\n        setLoading(false);\r\n        console.log(date_affectation);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"-----------------\");\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Décharges\">\r\n      <BackButton title={\"Modifier Décharge véhicule: \" + carValue} />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Combobox\r\n            value={carValue}\r\n            onChange={(nextValue, option) => {\r\n              setCarValue(nextValue);\r\n              setCarOption(option);\r\n              fetchCarOptions(nextValue, setCarOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.matricule;\r\n            }}\r\n            options={carOptions}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Conducteur\">\r\n          <Combobox\r\n            value={driverValue}\r\n            onChange={(nextValue, option) => {\r\n              setDriverValue(nextValue);\r\n              setDriverOption(option);\r\n              fetchDriverOptions(nextValue, setDriverOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.firstname + \" \" + option.lastname;\r\n            }}\r\n            options={driverOptions}\r\n            name=\"driver_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Décharge\">\r\n          <DatePicker\r\n            value={date_affectation}\r\n            onChange={({ date }) => {\r\n              setDate_affectation(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_affectation\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n\r\n        <hr />\r\n\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGrise}\r\n            onChange={(e) => {\r\n              setCarteGrise(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte grise\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={assurance}\r\n            onChange={(e) => {\r\n              setAssurance(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Assurance\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={vignette}\r\n            onChange={(e) => {\r\n              setVignette(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Vignette\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGpl}\r\n            onChange={(e) => {\r\n              setCarteGpl(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte GPL\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={permisCirculer}\r\n            onChange={(e) => {\r\n              setPermisCirculer(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Permis Circuler\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={scanner}\r\n            onChange={(e) => {\r\n              setScanner(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Scanner\r\n          </Checkbox>\r\n        </FormControl>\r\n        <hr />\r\n        <FormControl label=\"Odometre\">\r\n          <Input\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            value={km_vehicule}\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              if (e.target.value > 1) {\r\n                setKm_vehicule(e.target.value);\r\n              }\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Nb Clés Véhicule\">\r\n          <Input\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            value={cle_vehicule}\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              setCle_vehicule(e.target.value);\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={roue_secour}\r\n            onChange={(e) => {\r\n              setRoue_secour(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Roue de secure\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={cric}\r\n            onChange={(e) => {\r\n              setCric(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Cric\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={cle_roue}\r\n            onChange={(e) => {\r\n              setCle_roue(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Clé Roue\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={poste_radio}\r\n            onChange={(e) => {\r\n              setPoste_radio(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Poste Radio\r\n          </Checkbox>\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={gmComment}\r\n            onChange={(e) => setGmComment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Show() {\r\n  const [loading, setLoading] = useState(true);\r\n  const { params } = useRouteMatch();\r\n  const { api, user } = useAppStore();\r\n  const [decharge, setDecharge] = useState(null);\r\n  const [showRestitition, setShowRestitition] = useState(false);\r\n  const printDecharge = useRef(null);\r\n  const printRestitition = useRef(null);\r\n\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => {},\r\n  });\r\n\r\n  const handlePrintRestitition = useReactToPrint({\r\n    content: () => printRestitition.current,\r\n    onBeforeGetContent: async () => {},\r\n  });\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"decharges/\" + params.id)\r\n      .then((res) => {\r\n        const data = res.data.data;\r\n        setDecharge(data);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        alert(\"error\");\r\n      });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Décharges\">\r\n      <BackButton\r\n        title={\"Décharge (N°\" + params.id + \") de véhicule: \" + decharge.car.matricule}\r\n      />\r\n      <div>\r\n        <button onClick={handlePrintDecharge}>Imprimer Décharge</button>\r\n        {decharge.date_restitition_driver && <button onClick={handlePrintRestitition}>imprimer Restitition</button>}\r\n        <hr />\r\n        {decharge.date_restitition_driver ? (\r\n          <>\r\n            <PrintRestitition\r\n              user={user}\r\n              decharge={decharge}\r\n              ref={printRestitition}\r\n            />\r\n            <hr />\r\n            <PrintDecharge\r\n              user={user}\r\n              decharge={decharge}\r\n              ref={printDecharge}\r\n            />\r\n          </>\r\n        ) : (\r\n          <PrintDecharge user={user} decharge={decharge} ref={printDecharge} />\r\n        )}\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Restitition() {\r\n  const { params } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const [loading, setLoading] = useState(true);\r\n  const [affectation, setAffectation] = useState(null);\r\n  const [date_restitition, setDate_restitition] = useState(new Date());\r\n  const [motif_restitition, setMotif_restitition] = useState(\"\");\r\n  const [km_restitition, setKm_restitition] = useState(0);\r\n  const [restitition_comment, setRestitition_comment] = useState(\"\");\r\n  const [obs, setObs] = useState([]);\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n\r\n  const [roue_secour, setRoue_secour] = useState(false);\r\n  const [poste_radio, setPoste_radio] = useState(false);\r\n  const [cric, setCric] = useState(false);\r\n  const [cle_roue, setCle_roue] = useState(false);\r\n  const [cle_vehicule, setCle_vehicule] = useState(1);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"decharges/\" + params.id)\r\n      .then((res) => {\r\n        setAffectation(res.data.data);\r\n        res.data.data.date_restitition_driver\r\n          ? setDate_restitition(new Date(res.data.data.date_restitition_driver))\r\n          : setDate_restitition(new Date());\r\n        setMotif_restitition([{ id: res.data.data.motif_restitition_driver }]);\r\n        setKm_restitition(res.data.data.km_restitition);\r\n        setRestitition_comment(res.data.data.restitition_comment);\r\n        setCarteGrise(res.data.data.carte_grise_restitition);\r\n        setAssurance(res.data.data.assurance_restitition);\r\n        setVignette(res.data.data.vignette_restitition);\r\n        setCarteGpl(res.data.data.carte_gpl_restitition);\r\n        setPermisCirculer(res.data.data.permis_circuler_restitition);\r\n        setScanner(res.data.data.scanner_restitition);\r\n        setCle_vehicule(res.data.data?.cle_vehicule_restitition);\r\n        setRoue_secour(res.data.data.roue_secour_restitition);\r\n        setCric(res.data.data?.cric_restitition);\r\n        setCle_roue(res.data.data.cle_roue_restitition);\r\n        setPoste_radio(res.data.data.poste_radio_restitition);\r\n\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = {};\r\n    data[\"date_restitition_driver\"] = date_restitition;\r\n    data[\"motif_restitition_driver\"] = motif_restitition[0].id;\r\n\r\n    data[\"carte_grise_restitition\"] = carteGrise ? true: false;\r\n    data[\"assurance_restitition\"] = assurance ? true: false;\r\n    data[\"vignette_restitition\"] = vignette ? true: false;\r\n    data[\"carte_gpl_restitition\"] = carteGpl ? true: false;\r\n    data[\"permis_circuler_restitition\"] = permisCirculer ? true: false;\r\n    data[\"scanner_restitition\"] = scanner ? true: false;\r\n    data[\"cle_vehicule_restitition\"] = cle_vehicule ? true: false;\r\n    data[\"roue_secour_restitition\"] = roue_secour ? true: false;\r\n    data[\"cric_restitition\"] = cric ? true: false;\r\n    data[\"cle_roue_restitition\"] = cle_roue ? true: false;\r\n    data[\"poste_radio_restitition\"] = poste_radio ? true: false;\r\n\r\n    data[\"restitition_comment\"] = restitition_comment\r\n      ? restitition_comment\r\n      : \"/\";\r\n    data[\"km_restitition\"] = km_restitition;\r\n    api\r\n      .post(\"decharges/restitition/\" + params.id, data)\r\n      .then((res) => {\r\n        alert(\"Success\");\r\n        history.push(\"/decharges/show/\" + params.id);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  };\r\n\r\n  const onDelete = (e) => {\r\n    e.preventDefault();\r\n    const data = {};\r\n    data[\"date_restitition_driver\"] = null;\r\n    data[\"motif_restitition_driver\"] = null;\r\n    data[\"km_restitition\"] = null;\r\n    data[\"restitition_comment\"] = null;\r\n    api\r\n      .post(\"decharges/restitition/\" + params.id, data)\r\n      .then((res) => {\r\n        alert(\"Success\");\r\n        history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  if (!affectation?.date_restitition_driver) {\r\n    return (\r\n      <Page title=\"Décharges\">\r\n        <BackButton\r\n          title={\r\n            \"Restitition de decharge: \" +\r\n            affectation.car.matricule +\r\n            \" | \" +\r\n            affectation.driver.firstname.toUpperCase() +\r\n            \" \" +\r\n            affectation.driver.lastname.toUpperCase()\r\n          }\r\n        />\r\n        <form style={{ width: 500 }} onSubmit={onSubmit}>\r\n          <FormControl label=\"Véhicule\">\r\n            <Input\r\n              value={affectation.car.matricule}\r\n              name=\"car_id\"\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Décharge\">\r\n            <Input value={affectation.date_affectation_driver} size=\"compact\" />\r\n          </FormControl>\r\n\r\n          <FormControl label=\"Date Restitition Décharge\">\r\n            <DatePicker\r\n              value={date_restitition}\r\n              onChange={({ date }) => {\r\n                setDate_restitition(date);\r\n              }}\r\n              formatString=\"dd/MM/yyyy\"\r\n              name=\"date_restitition\"\r\n              mask={null}\r\n              locale={fr}\r\n              size=\"compact\"\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Motif De Restitition\">\r\n            <Select\r\n              value={motif_restitition}\r\n              options={_motifs_restitition_driver}\r\n              onChange={(params) => setMotif_restitition(params.value)}\r\n              required\r\n              size=\"compact\"\r\n              placeholder=\"\"\r\n            />\r\n          </FormControl>\r\n          <FormControl\r\n            label={\"Odometer Véhicule > (\" + affectation.km + \" KM)\"}\r\n          >\r\n            <Input\r\n              required\r\n              size=\"compact\"\r\n              placeholder=\"\"\r\n              value={km_restitition}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                if (e.target.value > 0) {\r\n                  setKm_restitition(e.target.value);\r\n                }\r\n              }}\r\n            />\r\n          </FormControl>\r\n          <hr />\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={carteGrise}\r\n              onChange={(e) => {\r\n                setCarteGrise(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Carte grise\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={assurance}\r\n              onChange={(e) => {\r\n                setAssurance(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Assurance\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={vignette}\r\n              onChange={(e) => {\r\n                setVignette(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Vignette\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={carteGpl}\r\n              onChange={(e) => {\r\n                setCarteGpl(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Carte GPL\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={permisCirculer}\r\n              onChange={(e) => {\r\n                setPermisCirculer(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Permis Circuler\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={scanner}\r\n              onChange={(e) => {\r\n                setScanner(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Scanner\r\n            </Checkbox>\r\n          </FormControl>\r\n          <hr />\r\n          <FormControl label=\"Nb Clés Véhicule\">\r\n            <Input\r\n              required\r\n              size=\"compact\"\r\n              placeholder=\"\"\r\n              value={cle_vehicule}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setCle_vehicule(e.target.value);\r\n              }}\r\n            />\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={roue_secour}\r\n              onChange={(e) => {\r\n                setRoue_secour(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Roue de secure\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={cric}\r\n              onChange={(e) => {\r\n                setCric(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Cric\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={cle_roue}\r\n              onChange={(e) => {\r\n                setCle_roue(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Clé Roue\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl>\r\n            <Checkbox\r\n              checked={poste_radio}\r\n              onChange={(e) => {\r\n                setPoste_radio(e.target.checked);\r\n              }}\r\n              checkmarkType={STYLE_TYPE.toggle}\r\n              labelPlacement={LABEL_PLACEMENT.left}\r\n            >\r\n              Poste Radio\r\n            </Checkbox>\r\n          </FormControl>\r\n          <FormControl label=\"Observation\">\r\n            <Textarea\r\n              value={restitition_comment}\r\n              onChange={(e) => setRestitition_comment(e.target.value)}\r\n              placeholder=\"\"\r\n              clearOnEscape\r\n            />\r\n          </FormControl>\r\n          <hr />\r\n          <Button\r\n            style={{ width: \"100%\" }}\r\n            type=\"submit\"\r\n            size={SIZE.compact}\r\n            shape={SHAPE.pill}\r\n          >\r\n            Enregistrer\r\n          </Button>\r\n        </form>\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Décharges\">\r\n      <BackButton\r\n        title={\r\n          \"Modifier La Restitition de decharge: \" +\r\n          affectation.car.matricule +\r\n          \" | \" +\r\n          affectation.driver.firstname.toUpperCase() +\r\n          \" \" +\r\n          affectation.driver.lastname.toUpperCase()\r\n        }\r\n      />\r\n      <form style={{ width: 500 }} onSubmit={onSubmit}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Input\r\n            value={affectation.car.matricule}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Date Décharge\">\r\n          <Input value={affectation.date_affectation_driver} size=\"compact\" />\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Date Restitition Décharge\">\r\n          <DatePicker\r\n            value={date_restitition}\r\n            onChange={({ date }) => {\r\n              setDate_restitition(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"date_restitition\"\r\n            mask={null}\r\n            locale={fr}\r\n            required\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Motif De Restitition\">\r\n          <Select\r\n            value={motif_restitition}\r\n            options={_motifs_restitition_driver}\r\n            onChange={(params) => setMotif_restitition(params.value)}\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            required\r\n          />\r\n        </FormControl>\r\n\r\n        <FormControl label={\"Odometer Véhicule > (\" + affectation.km + \" KM)\"}>\r\n          <Input\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            value={km_restitition}\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              if (e.target.value > 1) {\r\n                setKm_restitition(e.target.value);\r\n              }\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <hr />\r\n\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGrise}\r\n            onChange={(e) => {\r\n              setCarteGrise(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte grise\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={assurance}\r\n            onChange={(e) => {\r\n              setAssurance(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Assurance\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={vignette}\r\n            onChange={(e) => {\r\n              setVignette(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Vignette\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGpl}\r\n            onChange={(e) => {\r\n              setCarteGpl(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte GPL\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={permisCirculer}\r\n            onChange={(e) => {\r\n              setPermisCirculer(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Permis Circuler\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={scanner}\r\n            onChange={(e) => {\r\n              setScanner(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Scanner\r\n          </Checkbox>\r\n        </FormControl>\r\n        <hr />\r\n        <FormControl label=\"Nb Clés Véhicule\">\r\n          <Input\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n            value={cle_vehicule}\r\n            type=\"number\"\r\n            onChange={(e) => {\r\n              setCle_vehicule(e.target.value);\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={roue_secour}\r\n            onChange={(e) => {\r\n              setRoue_secour(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Roue de secure\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={cric}\r\n            onChange={(e) => {\r\n              setCric(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Cric\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={cle_roue}\r\n            onChange={(e) => {\r\n              setCle_roue(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Clé Roue\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={poste_radio}\r\n            onChange={(e) => {\r\n              setPoste_radio(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Poste Radio\r\n          </Checkbox>\r\n        </FormControl>\r\n\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={restitition_comment}\r\n            onChange={(e) => setRestitition_comment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <hr />\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Button\r\n            style={{ width: \"47%\" }}\r\n            type=\"submit\"\r\n            size={SIZE.compact}\r\n            shape={SHAPE.pill}\r\n          >\r\n            Enregistrer\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"47%\", backgroundColor: \"#f44336\" }}\r\n            onClick={onDelete}\r\n            size={SIZE.compact}\r\n            shape={SHAPE.pill}\r\n          >\r\n            Supprimer la restitition\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useRouteMatch, useHistory } from \"react-router-dom\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport { useAppStore } from \"../stores\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Textarea } from \"baseui/textarea\";\r\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { Combobox } from \"baseui/combobox\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch();\r\n  const { api } = useAppStore();\r\n  const [affectation, setAffectation] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const hookForm = useForm();\r\n\r\n  const { control, handleSubmit, errors } = hookForm;\r\n  const [carteGrise, setCarteGrise] = useState(false);\r\n  const [assurance, setAssurance] = useState(false);\r\n  const [vignette, setVignette] = useState(false);\r\n  const [carteGpl, setCarteGpl] = useState(false);\r\n  const [permisCirculer, setPermisCirculer] = useState(false);\r\n  const [scanner, setScanner] = useState(false);\r\n  const [gaComment, setGaComment] = useState(\"\");\r\n\r\n  const [driverValue, setDriverValue] = React.useState(\"\");\r\n  const [driverOptions, setDriverOptions] = React.useState([]);\r\n  const [driverOption, setDriverOption] = React.useState(null);\r\n  const fetchDriverOptions = (searchTerm, callback) => {\r\n    api.get(`/drivers/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    if (!driverOption) {\r\n      alert(\"Veullez selectione conducteur!\");\r\n      return;\r\n    }\r\n    const data = {};\r\n    data[\"driver_id\"] = driverOption.id;\r\n    data[\"carte_grise\"] = carteGrise;\r\n    data[\"assurance\"] = assurance;\r\n    data[\"vignette\"] = vignette;\r\n    data[\"carte_gpl\"] = carteGpl;\r\n    data[\"permis_circuler\"] = permisCirculer;\r\n    data[\"scanner\"] = scanner;\r\n    data[\"ga_comment\"] = gaComment;\r\n    api\r\n      .post(\"/ga_checklist/\" + params.id, data)\r\n      .then(() => {\r\n        console.log(\"success\");\r\n      })\r\n      .catch(() => {\r\n        console.log(\"error\");\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    api\r\n      .get(`/affectations/${params.id}`)\r\n      .then((res) => {\r\n        setAffectation(res.data.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        alert(\"error\");\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page>\r\n      <BackButton\r\n        title={` Check List Administratif véhicule: ${affectation?.car?.matricule}`}\r\n      />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Conducteur\">\r\n          <Combobox\r\n            value={driverValue}\r\n            onChange={(nextValue, option) => {\r\n              setDriverValue(nextValue);\r\n              setDriverOption(option);\r\n              fetchDriverOptions(nextValue, setDriverOptions);\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.firstname + \" \" + option.lastname;\r\n            }}\r\n            options={driverOptions}\r\n            name=\"driver_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGrise}\r\n            onChange={(e) => {\r\n              setCarteGrise(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte grise\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={assurance}\r\n            onChange={(e) => {\r\n              setAssurance(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Assurance\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={vignette}\r\n            onChange={(e) => {\r\n              setVignette(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Vignette\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={carteGpl}\r\n            onChange={(e) => {\r\n              setCarteGpl(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Carte GPL\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={permisCirculer}\r\n            onChange={(e) => {\r\n              setPermisCirculer(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Permis Circuler\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl>\r\n          <Checkbox\r\n            checked={scanner}\r\n            onChange={(e) => {\r\n              setScanner(e.target.checked);\r\n            }}\r\n            checkmarkType={STYLE_TYPE.toggle}\r\n            labelPlacement={LABEL_PLACEMENT.left}\r\n          >\r\n            Scanner\r\n          </Checkbox>\r\n        </FormControl>\r\n        <FormControl label=\"Commentaire\">\r\n          <Textarea\r\n            value={gaComment}\r\n            onChange={(e) => setGaComment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n          type=\"submit\"\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport ArrowRight from \"baseui/icon/arrow-right\";\r\nimport { Notification } from \"baseui/notification\";\r\n\r\nimport Loading from \"../components/Loading\";\r\nimport Page from \"../components/Page\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Notifications() {\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const fecthNotifications = ()=>{\r\n    api\r\n    .get(\"/notifications\")\r\n    .then((res) => {\r\n      setNotifications(res.data.data);\r\n      setLoading(false);\r\n    })\r\n    .catch(() => {\r\n      alert(\"error\");\r\n      setLoading(false);\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    fecthNotifications()\r\n    const interval = setInterval(fecthNotifications, 10000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page>\r\n      {notifications.map((n) => (\r\n        <>\r\n          <Notification\r\n            key={n.id}\r\n            overrides={{\r\n              Body: {\r\n                style: {\r\n                  width: \"auto\",\r\n                  backgroundColor: n.is_read ? \"#ffffff\" : \"#ebebeb\",\r\n                  color: n.is_read ? \"black\" : \"#1e54b7\",\r\n                },\r\n              },\r\n            }}\r\n          >\r\n            <h2>{n.title}</h2>\r\n            <h3>{n.sub_title}</h3>\r\n            <h4>\r\n              Par: {n?.from?.firstname + \" \" + n?.from?.lastname?.toUpperCase()}{\" \"}\r\n              | {n.from.mail}\r\n            </h4>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Button\r\n                size={SIZE.compact}\r\n                shape={SHAPE.pill}\r\n                endEnhancer={() => <ArrowRight size={16} />}\r\n                onClick={() => {\r\n                  history.push(n.url);\r\n                  const data = {\r\n                    is_read: true,\r\n                  };\r\n                  api.put(\"notifications/\" + n.id, data);\r\n                }}\r\n              >\r\n                Plus de detaile\r\n              </Button>\r\n              <div>Le: {n.created_at}</div>\r\n            </div>\r\n          </Notification>\r\n          <hr />\r\n        </>\r\n      ))}\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Select, TYPE } from \"baseui/select\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport * as moment from \"moment\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport {\r\n  FaEdit,\r\n  FaEye,\r\n  FaTrash,\r\n  FaHistory,\r\n  FaTasks,\r\n  FaBackspace,\r\n  FaExternalLinkAlt,\r\n  FaCartPlus,\r\n  FaLevelDownAlt,\r\n  FaLevelUpAlt,\r\n  FaPeace,\r\n  FaUserTie,\r\n} from \"react-icons/fa\";\r\nimport fr from \"date-fns/locale/fr\";\r\n\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport {\r\n  Checkbox,\r\n  StatefulCheckbox,\r\n  STYLE_TYPE,\r\n  LABEL_PLACEMENT,\r\n} from \"baseui/checkbox\";\r\n\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { DatePicker } from \"baseui/datepicker\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nwindow.moment = moment;\r\n\r\nexport default function Cars() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/etat_affectations\" exact>\r\n        <All />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const { api, user } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n  const [dateRange, setDateRange] = useState([\r\n    moment().startOf(\"month\").toDate(),\r\n    moment().endOf(\"month\").toDate(),\r\n  ]);\r\n\r\n  useEffect(()=>fetchAffectation(), [])\r\n  const columns = [\r\n    StringColumn({\r\n      title: \"Véhicule\",\r\n      mapDataToValue: (data) => data[\"car\"][\"matricule\"],\r\n    }),\r\n    CategoricalColumn({\r\n      title: \"Client\",\r\n      mapDataToValue: (data) => data[\"client\"][\"designation\"],\r\n    }),\r\n    StringColumn({\r\n      title: \"Date Affectation\",\r\n      mapDataToValue: (data) => data[\"date_affectation\"],\r\n    }),\r\n    StringColumn({\r\n      title: \"Date Fin Préstation\",\r\n      mapDataToValue: (data) =>\r\n        data[\"date_end_prestation\"] ? data[\"date_end_prestation\"] : \"-\",\r\n    }),\r\n    StringColumn({\r\n      title: \"Date Restitition\",\r\n      mapDataToValue: (data) =>\r\n        data[\"date_restitition\"] ? data[\"date_restitition\"] : \"-\",\r\n    }),\r\n    StringColumn({\r\n      title: \"Nbs Jour(s)\",\r\n      mapDataToValue: (data) => {\r\n        let date1 = moment(data[\"date_affectation\"]).isBefore(\r\n          moment(dateRange[0])\r\n        )\r\n          ? moment(dateRange[0])\r\n          : moment(data[\"date_affectation\"]);\r\n\r\n        let date2 = moment(dateRange[1]);\r\n        if (data[\"date_restitition\"]) {\r\n          date2 = moment(data[\"date_restitition\"]).isAfter(date2)\r\n            ? date2\r\n            : moment(data[\"date_restitition\"]);\r\n        }\r\n        const s = date2.diff(date1, \"days\") + 1\r\n        return s.toString();\r\n      },\r\n    }),\r\n  ];\r\n  const fetchAffectation = () => {\r\n    if (dateRange.length < 2) {\r\n      alert(\"selection une intervale de deux dates\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const date1 = moment(dateRange[0]).format(\"yy-M-D\");\r\n    const date2 = moment(dateRange[1]).format(\"yy-M-D\");\r\n\r\n    api\r\n      .get(`/affectations?date1=${date1}&date2=${date2}`)\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [];\r\n\r\n  return (\r\n    <Page style={{height: \"80vh\"}}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          marginLeft: \"auto\",\r\n        }}\r\n      >\r\n        <div style={{ flex: 1, marginBottom: 0, marginTop: 0 }}>\r\n          <h2>Etat Des Affectations</h2>\r\n        </div>\r\n        <div style={{ display: \"flex\" }}>\r\n          <DatePicker\r\n            value={dateRange}\r\n            onChange={({ date }) => {\r\n              setDateRange(Array.isArray(date) ? date : [date]);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"dateRange\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n            range\r\n          />\r\n\r\n          <Button\r\n            onClick={fetchAffectation}\r\n            size={SIZE.compact}\r\n            shape={SHAPE.pill}\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            Rechercher\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <StatefulDataTable\r\n          batchActions={batchActions}\r\n          rowActions={rowActions}\r\n          columns={columns}\r\n          rows={rows}\r\n        />\r\n      )}\r\n    </Page>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { FormControl } from \"baseui/form-control\";\r\nimport { Input } from \"baseui/input\";\r\nimport { Button, SIZE, SHAPE } from \"baseui/button\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\r\nimport { Combobox } from \"baseui/combobox\";\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport { Select, TYPE } from \"baseui/select\";\r\nimport { DatePicker } from \"baseui/datepicker\";\r\nimport fr from \"date-fns/locale/fr\";\r\nimport * as moment from \"moment\";\r\nimport { toast } from \"react-toastify\"\r\nimport { Textarea } from \"baseui/textarea\";\r\n\r\nimport { useStyletron } from \"baseui\";\r\nimport Alert from \"baseui/icon/alert.js\";\r\nimport Check from \"baseui/icon/check.js\";\r\n\r\nimport DeleteAlt from \"baseui/icon/delete-alt\";\r\nimport Show from \"baseui/icon/show\";\r\n\r\nimport {\r\n  StatefulDataTable,\r\n  BooleanColumn,\r\n  CategoricalColumn,\r\n  NumericalColumn,\r\n  StringColumn,\r\n  NUMERICAL_FORMATS,\r\n} from \"baseui/data-table\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\n\r\nimport Page from \"../components/Page\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport Loading from \"../components/Loading\";\r\nimport { _carStates } from \"../constants\";\r\n\r\nexport default function CarsState() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/cars_state\" exact>\r\n        <All />\r\n      </Route>\r\n      <Route path=\"/cars_state/add\">\r\n        <Add />\r\n      </Route>\r\n      <Route path=\"/cars_state/edit/:id\">\r\n        <Edit />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nconst columns = [\r\n  StringColumn({\r\n    title: \"Matricule\",\r\n    mapDataToValue: (data) => data[\"car\"][\"matricule\"],\r\n  }),\r\n  \r\n  StringColumn({\r\n    title: \"Code GPS\",\r\n    mapDataToValue: (data) => data[\"car\"][\"code_gps\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Genre\",\r\n    mapDataToValue: (data) => data[\"car\"][\"genre\"],\r\n  }),\r\n  StringColumn({\r\n    title: \"Status\",\r\n    mapDataToValue: (data) =>{\r\n      let state = data[\"name\"] ? data[\"name\"] : \"En marche\"\r\n      if (state === \"marche\") state = \"En marche\"\r\n      if (state === \"entre_atelie\") state = \"Entrée d'atelie\"\r\n      if (state === \"sortie_atelie\") state = \"Sortie d'atelie\"\r\n      if (state === \"accedente\") state = \"Véhicule Accedenté\"\r\n      return state\r\n    },\r\n  }),\r\n  StringColumn({\r\n    title: \"Date\",\r\n    mapDataToValue: (data) => moment(data[\"updated_at\"]).format(\"DD-MM-yyyy HH:mm\"),\r\n  }),\r\n  StringColumn({\r\n    title: \"Creé par\",\r\n    mapDataToValue: (data) => data[\"createdby\"][\"username\"],\r\n  }),\r\n];\r\n\r\nexport function All() {\r\n  const [rows, setRows] = React.useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/cars_state\")\r\n      .then((res) => {\r\n        setRows(res?.data?.data?.map((r) => ({ id: r.id, data: r })));\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function removeRows(ids) {\r\n    const nextRows = rows.filter((row) => !ids.includes(row.id));\r\n    setRows(nextRows);\r\n  }\r\n  function removeRow(id) {\r\n    removeRows([id]);\r\n  }\r\n  const batchActions = [\r\n    {\r\n      label: \"Exporter\",\r\n      onClick: ({ clearSelection }) => clearSelection(),\r\n    },\r\n  ];\r\n  const rowActions = [\r\n    {\r\n      label: \"Affiche\",\r\n      onClick: ({ row }) => history.push(\"/cars_state/edit/\" + row.id),\r\n      renderIcon: ({ size }) => <FaEdit size={size} />,\r\n    },\r\n    {\r\n      label: \"Supprimer\",\r\n      onClick: ({ row }) => {\r\n        if (window.confirm(\"Supprimer ?\")) {\r\n          api\r\n            .delete(\"/cars_state/\" + row.id)\r\n            .then((res) => {\r\n              removeRow(row.id);\r\n              enqueue({ message: \"Success\" });\r\n            })\r\n            .catch(() => {\r\n              enqueue({ message: \"Error\" });\r\n            });\r\n        }\r\n      },\r\n      renderIcon: ({ size }) => <FaTrash size={size} />,\r\n    },\r\n  ];\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n  return (\r\n    <Page style={{height: \"80vh\"}}>\r\n      <Button\r\n        onClick={() => history.push(\"/cars_state/add\")}\r\n        size={SIZE.compact}\r\n        shape={SHAPE.pill}\r\n      >\r\n        Changer Status D'une Véhicule\r\n      </Button>\r\n      <hr />\r\n      <StatefulDataTable\r\n        batchActions={batchActions}\r\n        rowActions={rowActions}\r\n        columns={columns}\r\n        rows={rows}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction Add() {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n  const [carState, setCarState] = useState(\"\");\r\n  const [state_date, setState_date] = useState(new Date());\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"name\"] = carState[0].id;\r\n    data[\"state_date\"] = moment(state_date).format(\"yyyy-M-D HH:mm\");\r\n    data[\"comment\"] = comment !== \"\" ? comment : \"/\";\r\n    try {\r\n      const res = await api.post(\"/cars_state\", data);\r\n      toast.dark(\"Status Changé\")\r\n      history.goBack()\r\n    } catch (error) {\r\n      console.dir(error)\r\n      toast.error(\"Error : \" + error?.response?.data?.message)\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\"Changée Status\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Combobox\r\n            value={carValue}\r\n            onChange={(nextValue, option) => {\r\n              setCarValue(nextValue);\r\n              setCarOption(option);\r\n              fetchCarOptions(nextValue, setCarOptions);\r\n              console.log(carOption)\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.matricule;\r\n            }}\r\n            options={carOptions}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Status Du Véhicule\">\r\n          <Select\r\n            value={carState}\r\n            options={_carStates}\r\n            onChange={(params) => setCarState(params.value)}\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Du Status\">\r\n          <DatePicker\r\n            value={state_date}\r\n            onChange={({ date }) => {\r\n              setState_date(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"state_date\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Observation\">\r\n          <Textarea\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\n\r\nfunction Edit() {\r\n  const history = useHistory();\r\n  const {params} = useRouteMatch()\r\n  const [loading, setLoading] = useState(true);\r\n  const { control, handleSubmit, errors } = useForm();\r\n  const { api } = useAppStore();\r\n  const { enqueue } = useSnackbar();\r\n  const [carState, setCarState] = useState(\"\");\r\n  const [state_date, setState_date] = useState(new Date());\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const [carValue, setCarValue] = React.useState(\"\");\r\n  const [carOptions, setCarOptions] = React.useState([]);\r\n  const [carOption, setCarOption] = React.useState(null);\r\n  const fetchCarOptions = (searchTerm, callback) => {\r\n    api.get(`/cars/search?data=${searchTerm}`).then((res) => {\r\n      callback(res.data.data);\r\n    });\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const res = await api.get(\"/cars_state/\" + params.id);\r\n    if (res) {\r\n      setCarOption(res.data.data?.car);\r\n      setCarValue(res.data.data?.car?.matricule);\r\n      setState_date(moment(res.data.data.state_date).toDate());\r\n      setCarState({id: res?.data?.data?.name})\r\n      setComment(res?.data?.data?.comment)\r\n    } else {\r\n      toast.error(\"error\")\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n\r\n  const onSubmit = async (data) => {\r\n    data[\"car_id\"] = carOption?.id;\r\n    data[\"name\"] = carState[0].id;\r\n    data[\"state_date\"] = moment(state_date).format(\"yyyy-M-D HH:mm\");\r\n    data[\"comment\"] = comment !== \"\" ? comment : \"/\";\r\n    try {\r\n      const res = await api.post(\"/cars_state\", data);\r\n      toast.dark(\"Status Changé\")\r\n      history.goBack()\r\n    } catch (error) {\r\n      console.dir(error)\r\n      toast.error(\"Error : \" + error?.response?.data?.message)\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Page>\r\n        <Loading />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <BackButton title=\"Changée Status\" />\r\n      <form style={{ width: 500 }} onSubmit={handleSubmit(onSubmit)}>\r\n        <FormControl label=\"Véhicule\">\r\n          <Combobox\r\n            value={carValue}\r\n            onChange={(nextValue, option) => {\r\n              setCarValue(nextValue);\r\n              setCarOption(option);\r\n              fetchCarOptions(nextValue, setCarOptions);\r\n              console.log(carOption)\r\n            }}\r\n            mapOptionToString={(option) => {\r\n              return option.matricule;\r\n            }}\r\n            options={carOptions}\r\n            name=\"car_id\"\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Status Du Véhicule\">\r\n          <Select\r\n            value={carState}\r\n            options={_carStates}\r\n            onChange={(params) => setCarState(params.value)}\r\n            required\r\n            size=\"compact\"\r\n            placeholder=\"\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Date Du Status\">\r\n          <DatePicker\r\n            value={state_date}\r\n            onChange={({ date }) => {\r\n              setState_date(date);\r\n              console.log(date);\r\n            }}\r\n            formatString=\"dd/MM/yyyy\"\r\n            name=\"state_date\"\r\n            mask={null}\r\n            locale={fr}\r\n            size=\"compact\"\r\n          />\r\n        </FormControl>\r\n        <FormControl label=\"Observation\">\r\n          <Textarea\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n            placeholder=\"\"\r\n            clearOnEscape\r\n          />\r\n        </FormControl>\r\n        <Button\r\n          style={{ width: \"100%\" }}\r\n          type=\"submit\"\r\n          size={SIZE.compact}\r\n          shape={SHAPE.pill}\r\n        >\r\n          Enregistrer\r\n        </Button>\r\n      </form>\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useState } from \"react\"\r\nimport Page from \"../components/Page\"\r\nimport axios from \"axios\"\r\nimport { useAppStore } from \"../stores\"\r\nimport * as moment from \"moment\"\r\nimport FileDownload from \"js-file-download\"\r\nexport default function Settings() {\r\n    const [file, setFile] = useState(null)\r\n    const { api } = useAppStore()\r\n    window.api = api\r\n    const onFileUpload = () => {\r\n        // Create an object of formData \r\n        const formData = new FormData();\r\n        // Update the formData object \r\n        formData.append(\r\n            \"cars\",\r\n            file,\r\n            file.name\r\n        );\r\n\r\n        // Details of the uploaded file \r\n        console.log(file);\r\n\r\n        // Request made to the backend api \r\n        // Send formData object \r\n        api.post(\"/cars/import\", formData);\r\n    };\r\n\r\n    return (\r\n        <Page title=\"Parametres\">\r\n            <div>\r\n                <h2>Cars</h2>\r\n                <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\r\n                <button onClick={onFileUpload}>import file</button>\r\n                <button onClick={() => {\r\n                    api.get(\"/cars/export\", { responseType: 'blob' }).then((res) => {\r\n                        FileDownload(res.data, \"cars-\" + moment(new Date()).format(\"D-M-yy\") + \".xlsx\")\r\n                    })\r\n                }}>export file</button>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Drivers</h2>\r\n                <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\r\n                <button onClick={() => {\r\n                    // Create an object of formData \r\n                    const formData = new FormData();\r\n                    // Update the formData object \r\n                    formData.append(\r\n                        \"drivers\",\r\n                        file,\r\n                        file.name\r\n                    );\r\n\r\n                    // Details of the uploaded file \r\n                    console.log(file);\r\n\r\n                    // Request made to the backend api \r\n                    // Send formData object \r\n                    api.post(\"/drivers/import\", formData);\r\n                }}>import file</button>\r\n                <button onClick={() => {\r\n                    api.get(\"/drivers/export\", { responseType: 'blob' }).then((res) => {\r\n                        FileDownload(res.data, \"drivers-\" + moment(new Date()).format(\"D-M-yy\") + \".xlsx\")\r\n                    })\r\n                }}>export file</button>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Clients</h2>\r\n                <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\r\n                <button onClick={() => {\r\n                    // Create an object of formData \r\n                    const formData = new FormData();\r\n                    // Update the formData object \r\n                    formData.append(\r\n                        \"clients\",\r\n                        file,\r\n                        file.name\r\n                    );\r\n\r\n                    // Details of the uploaded file \r\n                    console.log(file);\r\n\r\n                    // Request made to the backend api \r\n                    // Send formData object \r\n                    api.post(\"/clients/import\", formData);\r\n                }}>import file</button>\r\n                <button onClick={() => {\r\n                    api.get(\"/drivers/export\", { responseType: 'blob' }).then((res) => {\r\n                        FileDownload(res.data, \"clients-\" + moment(new Date()).format(\"D-M-yy\") + \".xlsx\")\r\n                    })\r\n                }}>export file</button>\r\n            </div>\r\n        </Page >\r\n    )\r\n}","import React from \"react\";\r\nimport { styled } from \"baseui\";\r\nimport { StatefulInput } from \"baseui/input\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport SideNavigation from \"./SideNavigation\";\r\nimport TopBar from \"./TopBar\";\r\n\r\nimport Home from \"./Home\";\r\nimport Users from \"../routes/Users\";\r\nimport Cars from \"../routes/Cars\";\r\nimport EMR from \"../routes/EMR\";\r\nimport Drivers from \"../routes/Drivers\";\r\nimport Clients from \"../routes/Clients\";\r\nimport Affectations from \"../routes/Affectations\";\r\nimport Decharges from \"../routes/Decharges\";\r\nimport GACheckList from \"../routes/GACheckList\";\r\nimport Notifications from \"../routes/Notifications\";\r\nimport EtatAffectations from \"../routes/EtatAffectations\"\r\nimport CarsState from \"../routes/CarsState\";\r\nimport Settings from \"../routes/Settings\";\r\n\r\nconst MainContainer = styled(\"div\", {\r\n  display: \"flex\",\r\n  flex: 1,\r\n});\r\n\r\nconst Container = styled(\"div\", {\r\n  display: \"flex\",\r\n  flex: 1,\r\n});\r\n\r\nexport default function App() {\r\n  return (\r\n    <MainContainer>\r\n      <TopBar />\r\n      <Container>\r\n        <SideNavigation />\r\n        <Switch>\r\n        <Route path=\"/users\">\r\n            <Users />\r\n          </Route>\r\n          <Route path=\"/settings\">\r\n            <Settings />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/notifications\">\r\n            <Notifications />\r\n          </Route>\r\n          <Route path=\"/carclients/:id/ga_checklist\">\r\n            <GACheckList />\r\n          </Route>\r\n          <Route path=\"/cars\">\r\n            <Cars />\r\n          </Route>\r\n         <Route path=\"/cars_state\">\r\n            <CarsState />\r\n          </Route>\r\n          <Route path=\"/drivers\">\r\n            <Drivers />\r\n          </Route>\r\n          <Route path=\"/clients\">\r\n            <Clients />\r\n          </Route>\r\n          <Route path=\"/affectations\">\r\n            <Affectations />\r\n          </Route>\r\n          <Route path=\"/decharges\">\r\n            <Decharges />\r\n          </Route>\r\n          <Route path=\"/etat_affectations\">\r\n            <EtatAffectations />\r\n          </Route>\r\n          <Route path=\"/emr\">\r\n            <EMR />\r\n          </Route>\r\n        </Switch>\r\n      </Container>\r\n    </MainContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useStyletron } from \"baseui\";\r\nimport { Input, SIZE } from \"baseui/input\";\r\nimport { Button, SIZE as ButtonSIZE } from \"baseui/button\";\r\nimport ArrowRight from \"baseui/icon/arrow-right\";\r\nimport { useSnackbar } from \"baseui/snackbar\";\r\nimport { FormControl } from \"baseui/form-control\";\r\n\r\nimport { useAppStore } from \"../stores\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nexport default function Login() {\r\n  const [css, theme] = useStyletron();\r\n  const { enqueue } = useSnackbar();\r\n  const { api, setToken } = useAppStore();\r\n\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      username,\r\n      password,\r\n    };\r\n    api\r\n      .post(\"auth/login\", data)\r\n      .then(({ data }) => {\r\n        setToken(data.data.token);\r\n        document.location.reload();\r\n        toast(\"Bonjour\")\r\n      })\r\n      .catch((err) => {\r\n        const message = err?.response?.data?.message || \"\" + err;\r\n        toast.dark(message)\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={css({\r\n        display: \"flex\",\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"90vh\",\r\n        overflowY: \"none\",\r\n      })}\r\n    >\r\n      <div\r\n        style={{\r\n          border: \"1px dashed lightgray\",\r\n          padding: 20,\r\n        }}\r\n      >\r\n        <form\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            minWidth: 350,\r\n            padding: 20,\r\n            margin: 10,\r\n          }}\r\n          onSubmit={submit}\r\n        >\r\n          <div\r\n            style={{\r\n              fontSize: 20,\r\n              fontWeight: \"bold\",\r\n              textDecoration: \"underline\",\r\n              marginBottom: 20,\r\n            }}\r\n          >\r\n            Authentification:{\" \"}\r\n          </div>\r\n          <FormControl label=\"Nom d'utilisateur\">\r\n            <Input\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              size={SIZE.compact}\r\n              placeholder=\"Nom d'utilisateur\"\r\n              type=\"text\"\r\n              clearable\r\n              clearOnEscape\r\n            />\r\n          </FormControl>\r\n          <FormControl label=\"Mot de pass\">\r\n            <Input\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              size={SIZE.compact}\r\n              placeholder=\"Mot de pass\"\r\n              type=\"password\"\r\n              clearable\r\n              clearOnEscape\r\n            />\r\n          </FormControl>\r\n\r\n          <Button\r\n            startEnhancer={() => <ArrowRight size={24} />}\r\n            size={ButtonSIZE.compact}\r\n            type=\"submit\"\r\n          >\r\n            Connecté\r\n          </Button>\r\n        </form>\r\n        <hr />\r\n        <div style={{ fontSize: 12, fontWeight: \"bold\", textAlign: \"right\" }}>\r\n          iFlotte V1.0.0\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ScrollToTopOnLocationChange extends React.Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location !== prevProps.location) {\r\n      window.scrollTo(0, 0);\r\n      document.getElementById(\"root\")?.scrollTo(0, 0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTopOnLocationChange);\r\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Spinner } from \"baseui/spinner\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport useApi from \"./hooks/useApi\";\n\nimport Main from \"./containers/Main\";\nimport Login from \"./containers/Login\";\n\nimport { AppProvider } from \"./stores\";\nimport ScrollToTopOnLocationChange from \"./components/ScrollToTopOnLocationChange\";\n\nconst AppContainer = ({ children }) => (\n  <BrowserRouter>\n    <ScrollToTopOnLocationChange>{children}</ScrollToTopOnLocationChange>\n    <ToastContainer\n      position=\"top-center\"\n      autoClose={3000}\n      newestOnTop={false}\n      hideProgressBar\n      rtl={false}\n      pauseOnFocusLoss\n      draggable\n      pauseOnHover\n    />\n  </BrowserRouter>\n);\nexport default function App() {\n  const [isLoadingUser, setIsLoadingUser] = useState(true);\n  const [user, setUser] = useState(null);\n  const { api, setToken } = useApi();\n  useEffect(() => {\n    let isSubscribed = true;\n    setIsLoadingUser(true);\n    api\n      .get(\"/auth/me\")\n      .then(({ data }) => {\n        if (isSubscribed) {\n          setUser(data.data);\n          setIsLoadingUser(false);\n        }\n      })\n      .catch(() => {\n        if (isSubscribed) {\n          setUser(null);\n          setIsLoadingUser(false);\n        }\n      });\n    return () => (isSubscribed = false);\n  }, []);\n\n  if (isLoadingUser) {\n    return (\n      <div\n        style={{\n          flex: 1,\n          height: \"80vh\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Spinner />\n      </div>\n    );\n  }\n\n  return (\n    <AppContainer>\n      <AppProvider value={{ user, setUser, api, setToken }}>\n        {user ? <Main /> : <Login />}\n      </AppProvider>\n    </AppContainer>\n  );\n}\n","import { useState, useMemo } from \"react\";\r\nimport axios from \"axios\"\r\n\r\nexport default () => {\r\n  const API_URL = \"/api\"\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"))\r\n  const updateToken = (token) => {\r\n    localStorage.setItem(\"token\", token)\r\n    setToken(token)\r\n  }\r\n  return useMemo(() => {\r\n    return {\r\n      api: axios.create({\r\n        baseURL: API_URL,\r\n        headers: {\r\n          'x-access-token': token,\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n          'accept': 'application/json'\r\n        }\r\n      }),\r\n      token,\r\n      setToken: updateToken\r\n    }\r\n  }, [token])\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\"\nimport { BaseProvider, LightTheme } from \"baseui\";\nimport { Provider as StyletronProvider } from \"styletron-react\";\nimport { Client as Styletron } from \"styletron-engine-atomic\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport App from \"./App\";\n\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst engine = new Styletron();\n\nReactDOM.render(\n    <StyletronProvider  value={engine}>\n      <BaseProvider theme={LightTheme}>\n        <App />\n      </BaseProvider>\n    </StyletronProvider>\n  ,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}