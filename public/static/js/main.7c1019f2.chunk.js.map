{"version":3,"sources":["stores.js","useApi.js","containers/Header.js","_consts.js","components/Page.js","components/Statistic.js","pages/Dashboard.js","pages/Cars/GroupCar.js","components/SearchInput.js","components/SearchInput2.js","components/DebounceSelect.js","components/CircularProgress.js","components/UIBuilder.js","pages/Users/columns.js","utils.js","pages/Cars/List.js","pages/Cars/columns.js","pages/Drivers/columns.js","pages/Clients/columns.js","pages/Decharges/columns.js","components/PrintDecharge.js","pages/Decharges/Add.js","components/PrintRestitition.js","components/Print.js","pages/Decharges/Edit.js","components/SearchMultipleInput.js","pages/Users/UsersRoles.js","pages/Peremptions/columns.js","pages/Missions/components/ChangeState.js","pages/Missions/components/CalcGPS.js","components/decompte.png","components/PrintMission.js","pages/QHSE/qualite/Axes.js","pages/QHSE/qualite/components/AddObjetif.js","pages/QHSE/qualite/ObjectifsOperationnels.js","pages/QHSE/qualite/Processus.js","pages/QHSE/qualite/components/AddIndicateur.js","pages/QHSE/qualite/components/AddIndicateurv.js","pages/QHSE/qualite/components/IndicateurInfo.js","pages/QHSE/qualite/components/AddNonConformite.js","pages/QHSE/qualite/Indicateurs.js","pages/QHSE/qualite/components/IndicateursvChart.js","pages/QHSE/qualite/components/GaugeIndicateur.js","pages/QHSE/qualite/Dashboard.js","pages/QHSE/qualite/IndicateursHistory.js","pages/QHSE/qualite/components/EditNonConformite.js","pages/QHSE/qualite/components/NonConformiteInfo.js","pages/QHSE/qualite/NonConformite.js","pages/QHSE/qualite/components/EditAction.js","pages/QHSE/qualite/components/AddAction.js","pages/QHSE/qualite/Actions.js","pages/QHSE/SMIQualite.js","config.js","pages/Users/Notifications.js","pages/Users/Add.js","pages/Users/List.js","pages/Users/Edit.js","pages/Users/UserCars.js","pages/Users/AddRole.js","pages/Users/ListRoles.js","pages/Cars/Add.js","pages/Cars/ListCarsState.js","pages/Cars/AddCarState.js","pages/Cars/EditCarState.js","pages/Cars/ChangeCarState.js","pages/Cars/Edit.js","pages/Cars/CarDecharges.js","pages/Peremptions/Add.js","pages/Peremptions/List.js","pages/Peremptions/Edit.js","pages/Drivers/Add.js","pages/Drivers/List.js","pages/Drivers/Edit.js","pages/Clients/Add.js","pages/Clients/List.js","pages/Clients/ListMiseDispositionVL.js","pages/Clients/Edit.js","pages/Decharges/List.js","pages/Decharges/Show.js","pages/Decharges/RestititionDecharge.js","pages/Decharges/ListeDechargeRestititions.js","pages/Decharges/DechargeHistory.js","pages/Decharges/ChecklistDecharge.js","pages/Missions/AddVL.js","pages/Missions/EditVL.js","pages/Missions/AddMD.js","pages/Missions/EditMD.js","pages/Missions/ListVL.js","pages/Missions/ListMD.js","pages/Missions/ShowVL.js","containers/Side.js","containers/Main.js","containers/Login.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","AppProvider","children","value","Provider","useAppStore","useContext","useState","localStorage","getItem","token","setToken","updateToken","setItem","useMemo","api","axios","create","baseURL","headers","interceptors","response","use","error","msg","data","message","setTimeout","status","window","location","reload","Promise","reject","user","setUser","useApi","notifications","setNotifications","history","useHistory","networkState","useNetwork","getNotifications","get","then","res","useEffect","intr","setInterval","clearInterval","handleMenuClick","e","key","nb","i","length","is_read","Header","style","height","backgroundColor","position","zIndex","width","boxShadow","display","justifyContent","alignItems","paddingLeft","online","type","showIcon","trigger","title","content","itemLayout","dataSource","renderItem","item","Item","Meta","onClick","post","id","push","url","description","sub_title","to","icon","BellOutlined","marginRight","count","placement","overlay","LogoutOutlined","color","username","DownOutlined","_marque","_messages","_carStateName","label","subTitle","withBack","loading","selectedSiderKey","setSelectedSiderKey","document","config","appName","onBack","goBack","backIcon","ArrowLeftOutlined","padding","Icon","suffix","span","precision","valueStyle","prefix","ChartPiVL","capacity_logistics_vl","operationel_vl","non_exploite_vl","affecte_vl","en_panne_vl","accedente_vl","dashboardVL","setDashboardVl","setLoading","getDashboardVL","size","non_exploite_vlP","affecte_vlP","en_panne_vlP","accedente_vlP","accedente_v","percent","autoFit","radius","showTitle","visible","adjust","lineWidth","stroke","state","selected","t","getTheme","geometries","interval","rect","fill","Statistic","useRef","Page","orientation","query_string","mapOptionToString","placeholder","onSelect","onChange","defaultOption","disabled","options","setOptions","defaultValue","onSearch","searchText","map","c","optionLabelProp","setValue","mode","showSearch","labels","tagRender","props","closable","onClose","labelInValue","debounceTimeout","React","fetching","setFetching","fetchRef","debounceFetcher","debounce","current","fetchId","_options","filterOption","notFoundContent","setPercent","flexDirection","Group","marginTop","p","MinusOutlined","PlusOutlined","Option","Select","TextArea","Input","Form","form","initialValues","plain","text","name","hasFeedback","rules","CircularProgress","setFieldsValue","renderValue","SearchInput","defaultOptionName","option","field","SearchInput2","optionsId","console","log","flex","DebounceSelect","newValue","newOptions","initialValue","selects","select","o","inputProp","Password","valuePropName","checkedChildren","unCheckedChildren","defaultChecked","format","disabledDate","picker","pattern","target","render","FormBuilder","formItems","onFinish","onFinishFailed","extra","full","useForm","formItemLayout","labelCol","xs","sm","wrapperCol","layout","htmlType","required","roleFormItems","hasRole","roleName","_hasRole","roles","r","months","indicateurCastDate","dateValue","date","JSON","parse","year","indicateurCastTypeDate","listProcessus","InfoCar","row","setVisible","car","setCar","Text","mark","prop","old_matricule","genre","puissance","energie","carrosserie","code_gps","matricule","onVisibleChange","v","shape","formItemsCarState","marque","designation","formDechargeItems","getFieldValue","formCheckListRestititionItems","firstname","lastname","styles","hide","page","fontSize","margin","border","pageHeader","fontWeight","pageBody","paddingTop","paddingBottom","pageFooter","textAlign","PrintDecharge","checklist","this","src","moment","marginBottom","odometre","cle_vehicule","niveau_carburant","toUpperCase","marginLeft","flexWrap","minHeight","toString","Component","Document","checked","Step","Steps","decharge","restitition","date_restitition","dir","carte_grise","assurance","assurance_marchandises","vignette","scanner","permis_circuler","carnet_enter","carte_gpl","roue_secour","cle_roue","gillet","cric","poste_radio","extincteur","boite_pharm","triangle","pochette_cle","component","onDelete","disabledDelete","printComponent","handlePrintComponent","useReactToPrint","onBeforeGetContent","a","onConfirm","onCancel","okText","cancelText","cloneElement","ref","mockData","mission","missionvls_state","setState","catch","PrintMission","numero","destinations","client","date_depart_mission","date_arrivee_mission","remourque","driver1","code_paie","driver2","observation","decompte","actionRef","search","columns","dataIndex","copyable","sorter","hideInSearch","ellipsis","request","params","sort","filters","Object","keys","values","pagination","defaultCurrent","pageSize","slog","dataForm","info","index","action","axe","pTexts","processus","valueType","DeleteOutlined","AddObjetif","destroyOnClose","indicateur_id","frequence","week","month","quarter","stringify","Typography","indicateur","bordered","methode_calcul","mode_calcul","domaine","addButton","indicateurv_id","showDrawer","date_prevu","processusId","setProcessusId","processu","objectif","indicateur_sueil","seuil","mesure","valeurs","valeur","ecart","getIndicateurEcart","toFixed","block","CheckCircleTwoTone","twoToneColor","AddNonConformite","CloseCircleTwoTone","IndicateurInfo","InfoOutlined","AddIndicateurv","HistoryOutlined","AddIndicateur","toolBarRender","setData","d","xField","yField","point","lastValeur","beforeLastValeur","range","ticks","indicator","pointer","pin","statistic","lineHeight","alignSelf","Math","abs","CaretUpOutlined","CaretDownOutlined","Panel","Collapse","Indicateur","setValeurs","GaugeIndicateur","Processu","gutter","indicateurs","setProcessus","defaultActiveKey","header","useRouteMatch","IndicateursvChart","postData","echeance","users","EditOutlined","List","corrections","validator","_","names","Error","fields","add","remove","errors","validateTrigger","whitespace","noStyle","MinusCircleOutlined","right","top","ErrorList","actions","date_echeance","steps","avancement","InfoCircleOutlined","borderRadius","fieldKey","date_cloture","causes","isAcs","forEach","warn","nonconformite","createdby","acceptedb","NonConformiteInfo","EditNonConformite","conformites_name","actions_users","actions_avancement","EditAction","AddAction","SubMenu","Menu","routes","path","role","Dashboard","DashboardOutlined","authority","hideInSide","exact","EyeOutlined","UserOutlined","filter","put","cars","setCars","user_id","cars_id","loadingCars","loadingUserCars","carGroupe","selectedKeys","setSelectedKey","affecte","_cars","Number","parseInt","rowKey","record","titles","targetKeys","nextTargetKeys","direction","moveKeys","onSelectChange","sourceSelectedKeys","targetSelectedKeys","listStyle","setRoles","roles_id","loadingRoles","loadingUserRoles","_roles","handleChange","handleSelectChange","minWidth","setParams","m","drivers_fullname","cursor","responseType","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click","group_id","loadingGroupCars","h","loadingData","setLoadingData","car_id","state_date","startOf","date1","setDate1","date2","setDate2","clients_mother_designation","clients_designation","d1","d2","step","allData","setAllData","printDecharge","date_decharge","date_checklist","starts","success","acceptedby_username","ToTopOutlined","printRestitition","Print","checklists","reverse","driver","dechargeData","setDechargeData","client_id","driver_id","observation_checklist","routeMatch","wilaya_name","daira_name","commune_name","date_bon_mission","depart_id","depart","date_arrivee","date_arrivee_destination","date_depart","date_depart_destination","created_at","updated_at","loadingDownload","setLoadingDownload","departs_wilaya_name","ChangeState","PrinterOutlined","CalcGPS","setMission","printMission","ApartmentOutlined","setCurrent","Axes","ObjectifsOperationnels","Processus","Indicateurs","IndicateursHistory","NonConformite","Actions","Sider","Layout","overflow","left","theme","defaultSelectedKeys","rr","ii","undefined","Content","renderSubMenuRoutes","Side","overflowY","Login","className","err","errorInfo","alt","_consts","App","isLoadingUser","setIsLoadingUser","isSubscribed","Main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","locale","frFR","getElementById"],"mappings":"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","file":"static/js/main.7c1019f2.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst AppContext = createContext(null);\r\n\r\nexport function AppProvider({ children, value }) {\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...value,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useAppStore = () => useContext(AppContext);\r\n","import { useState, useMemo } from \"react\";\r\nimport { message } from \"antd\"\r\nimport axios from \"axios\"\r\nconst reload = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  localStorage.setItem(\"token\", \"\");\r\n  if (token !== \"\") { window.location.reload(); }\r\n}\r\nexport default () => {\r\n  const API_URL = \"/api\"\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"))\r\n  const updateToken = (token) => {\r\n    localStorage.setItem(\"token\", token)\r\n    setToken(token)\r\n  }\r\n  return useMemo(() => {\r\n    const api = axios.create({\r\n      baseURL: API_URL,\r\n      headers: {\r\n        'x-access-token': token,\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n        'accept': 'application/json'\r\n      }\r\n    })\r\n    api.interceptors.response.use(function (response) {\r\n      // Any status code that lie within the range of 2xx cause this function to trigger\r\n      // Do something with response data\r\n      return response;\r\n    }, function (error) {\r\n      const msg = error?.response?.data?.message ? error?.response?.data?.message : error.message\r\n      message.error(msg)\r\n      setTimeout(() => {\r\n        if (error.response.status === 401 && error.response.data.message !== \"Token not provided.\") {\r\n          //reload()\r\n          //message.error(\"Vous ñ'avez pas l'autorisation\")\r\n        }\r\n        if (error.response.status === 401 && error.response.data.message === \"An error while decoding token.\") {\r\n          //reload()\r\n\r\n        } if (error.response.status === 401 && error.response.data.message === \"Provided token is expired.\") {\r\n          reload()\r\n        }\r\n      }, 3000)\r\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n      // Do something with response error\r\n\r\n      return Promise.reject(error);\r\n    });\r\n    return {\r\n      api: api,\r\n      token,\r\n      setToken: updateToken\r\n    }\r\n  }, [token])\r\n}\r\n","import {\r\n\tLayout,\r\n\tMenu,\r\n\tAvatar,\r\n\tPopover,\r\n\tButton,\r\n\tDropdown,\r\n\tmessage,\r\n\tTooltip,\r\n\tList,\r\n\tBadge,\r\n\tDivider,\r\n\tAlert\r\n} from 'antd';\r\n\r\nimport { DownOutlined, LogoutOutlined, BellOutlined } from '@ant-design/icons';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport useApi from \"useApi\"\r\nimport { useAppStore } from \"stores\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { useNetwork } from 'ahooks';\r\n\r\nexport default () => {\r\n\tconst { user, setToken, setUser } = useAppStore()\r\n\tconst { api } = useApi()\r\n\tconst [notifications, setNotifications] = useState([])\r\n\tconst history = useHistory()\r\n\tconst networkState = useNetwork();\r\n\r\n\tconst getNotifications = () => {\r\n\t\tapi.get(\"/notifications?pageSize=5\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\t//console.log()\r\n\t\t\t\tsetNotifications(res.data.data)\r\n\t\t\t})\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tgetNotifications()\r\n\t\tconst intr = setInterval(getNotifications, 60000)\r\n\t\treturn () => clearInterval(intr)\r\n\t}, [])\r\n\r\n\tconst NotificatiobContent = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={notifications}\r\n\t\t\t\t\trenderItem={item => (\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\ttitle={<a onClick={() => {\r\n\t\t\t\t\t\t\t\t\tapi.post(\"/notifications/\" + item.id).then(() => {\r\n\t\t\t\t\t\t\t\t\t\thistory.push(item.url)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}} >{item.title}</a>}\r\n\t\t\t\t\t\t\t\tdescription={`${item.sub_title} | ${item.is_read ? \"DEJA VU\" : \"Non vu\"}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Link to={\"/notifications\"} >Plus des notifications</Link>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif (e.key === \"1\") {\r\n\t\t\tsetToken(null)\r\n\t\t\tsetUser(null)\r\n\t\t}\r\n\t}\r\n\tlet nb = 0\r\n\tfor (let i = 0; i < notifications.length; i++) {\r\n\t\tif (notifications[i].is_read == false) {\r\n\t\t\tnb++\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Layout.Header style={{\r\n\t\t\theight: 32,\r\n\t\t\tbackgroundColor: \"white\",\r\n\t\t\tposition: 'fixed',\r\n\t\t\tzIndex: 10,\r\n\t\t\twidth: 'calc(100% - 200px)',\r\n\t\t\tboxShadow: \"0 1px 4px rgba(0,21,41,.08)\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tpaddingLeft: 0\r\n\t\t}} >\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\t!networkState.online &&\r\n\t\t\t\t\t<Alert style={{height: 28}} message=\"Pas de connexion Internet\" type=\"warning\" showIcon />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Popover trigger=\"click\" title=\"Notifications\" content={NotificatiobContent}>\r\n\t\t\t\t\t<Button icon={<BellOutlined />} style={{ marginRight: 10 }}>\r\n\t\t\t\t\t\t<Badge count={nb} />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Popover>\r\n\t\t\t\t<Dropdown trigger=\"click\" placement=\"bottomRight\" overlay={() => (\r\n\t\t\t\t\t<Menu >\r\n\t\t\t\t\t\t<Menu.Item onClick={handleMenuClick} key=\"1\" icon={<LogoutOutlined style={{ color: \"red\" }} />}>\r\n\t\t\t\t\t\t\tSe déconnecter\r\n          </Menu.Item>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t)}>\r\n\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t{user.username} <DownOutlined />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\r\n\t\t</Layout.Header>\r\n\t)\r\n}","export const _carStates = [\r\n  { label: \"En marche\", id: \"marche\" },\r\n  { label: \"Entrée d'atelie\", id: \"entre_atelie\" },\r\n  { label: \"Sortie d'atelie\", id: \"sortie_atelie\" },\r\n  { label: \"Véhicule En Mission\", id: \"mission\" },\r\n  { label: \"Véhicule En Panne\", id: \"panne\" },\r\n  { label: \"Véhicule Accedenté\", id: \"accedente\" },\r\n]\r\n\r\nexport const _carGenre = [\r\n  { label: \"V P\", value: \"V P\" },\r\n  { label: \"CAMION\", value: \"CAMION\" },\r\n  { label: \"TRACTEUR\", value: \"TRACTEUR\" },\r\n  { label: \"REMORQUE\", value: \"REMORQUE\" },\r\n  { label: \"BUS\", value: \"BUS\" },\r\n  { label: \"UTILITAIRE\", value: \"UTILITAIRE\" },\r\n  { label: \"MICRO BUS\", value: \"MICRO BUS\" },\r\n  { label: \"V H\", value: \"V H\" },\r\n  { label: \"MOTO\", value: \"MOTO\" },\r\n  { label: \"AMBULANCE\", value: \"AMBULANCE\" },\r\n  { label: \"MOTOCYCLE\", value: \"MOTOCYCLE\" },\r\n  { \"label\": \"RETRO CHARGEUR\", \"value\": \"RETRO CHARGEUR\" }, { \"label\": \"CHARIOT ELEVATEUR\", \"value\": \"CHARIOT ELEVATEUR\" }, { \"label\": \"CHARIOT ELEVATEUR  1.6T-MAL\", \"value\": \"CHARIOT ELEVATEUR  1.6T-MAL\" }, { \"label\": \"CHARIOT ELEVATEUR  2.5T\", \"value\": \"CHARIOT ELEVATEUR  2.5T\" }, { \"label\": \"CHARIOT ELEVATEUR  2T-MAL\", \"value\": \"CHARIOT ELEVATEUR  2T-MAL\" }, { \"label\": \"CHARIOT ELEVATEUR 03T\", \"value\": \"CHARIOT ELEVATEUR 03T\" }, { \"label\": \"CHARIOT ELEVATEUR 5T-MAL\", \"value\": \"CHARIOT ELEVATEUR 5T-MAL\" }, { \"label\": \"CHARIOT ELEVATEUR -MAL\", \"value\": \"CHARIOT ELEVATEUR -MAL\" }, { \"label\": \"EXCAVATRICE\", \"value\": \"EXCAVATRICE\" }, { \"label\": \"STAKAR\", \"value\": \"STAKAR\" }, { \"label\": \"STATION D'EPURATION\", \"value\": \"STATION D'EPURATION\" }, { \"label\": \"TANDEM VIBRATOIR\", \"value\": \"TANDEM VIBRATOIR\" }, { \"label\": \"TRANSPALETTE ELECTRIQUE  1.6T \", \"value\": \"TRANSPALETTE ELECTRIQUE  1.6T \" }, { \"label\": \"TRANSPALETTE GERBEUR  1.4T-MAL\", \"value\": \"TRANSPALETTE GERBEUR  1.4T-MAL\" },\r\n]\r\n\r\nexport const _marque = [{ \"label\": \"RENAULT CLIO\", \"value\": \"RENAULT CLIO\" }, { \"label\": \"DACIA SENDERO\", \"value\": \"DACIA SENDERO\" }, { \"label\": \"CHEVROLET AVIO\", \"value\": \"CHEVROLET AVIO\" }, { \"label\": \"CHEVROLET BREAK\", \"value\": \"CHEVROLET BREAK\" }, { \"label\": \"OPEL\", \"value\": \"OPEL\" }, { \"label\": \"CHEVROLET SAIL\", \"value\": \"CHEVROLET SAIL\" }, { \"label\": \"RENAULT SYMBOL\", \"value\": \"RENAULT SYMBOL\" }, { \"label\": \"FOTON\", \"value\": \"FOTON\" }, { \"label\": \"DACIA LOGAN\", \"value\": \"DACIA LOGAN\" }, { \"label\": \"DFSK\", \"value\": \"DFSK\" }, { \"label\": \"CHEVROLET CRUZE\", \"value\": \"CHEVROLET CRUZE\" }, { \"label\": \"PEUGEOT PARTNER\", \"value\": \"PEUGEOT PARTNER\" }, { \"label\": \"SUSUKI SWIFT\", \"value\": \"SUSUKI SWIFT\" }, { \"label\": \"CHEVROLET TRAX\", \"value\": \"CHEVROLET TRAX\" }, { \"label\": \"CHEVROLET AVIO \", \"value\": \"CHEVROLET AVIO \" }, { \"label\": \"PEUGEOT 207\", \"value\": \"PEUGEOT 207\" }, { \"label\": \"CHANGHE\", \"value\": \"CHANGHE\" }, { \"label\": \"NISSAN SUNNY\", \"value\": \"NISSAN SUNNY\" }, { \"label\": \"HONDA ODYSSEY\", \"value\": \"HONDA ODYSSEY\" }, { \"label\": \"MITSUBISHI MIRAGE STAR\", \"value\": \"MITSUBISHI MIRAGE STAR\" }, { \"label\": \"NISSAN NEW SUNNY \", \"value\": \"NISSAN NEW SUNNY \" }, { \"label\": \"HYUNDAI VERNA\", \"value\": \"HYUNDAI VERNA\" }, { \"label\": \"MERCEDES-Benz\", \"value\": \"MERCEDES-Benz\" }, { \"label\": \"CHEVROLET SPARK\", \"value\": \"CHEVROLET SPARK\" }, { \"label\": \"KIA PICANTO\", \"value\": \"KIA PICANTO\" }, { \"label\": \"TOYOTA COROLLA\", \"value\": \"TOYOTA COROLLA\" }, { \"label\": \"BENTLIY\", \"value\": \"BENTLIY\" }, { \"label\": \"PAOLETTI RACING\", \"value\": \"PAOLETTI RACING\" }, { \"label\": \"CHEVROLET SONIC\", \"value\": \"CHEVROLET SONIC\" }, { \"label\": \"TOYOTA YARIS\", \"value\": \"TOYOTA YARIS\" }, { \"label\": \"AUDI\", \"value\": \"AUDI\" }, { \"label\": \"HYUNDAI GENESIS\", \"value\": \"HYUNDAI GENESIS\" }, { \"label\": \"KIA SPORTAGE\", \"value\": \"KIA SPORTAGE\" }, { \"label\": \"PEUGEOT 301\", \"value\": \"PEUGEOT 301\" }, { \"label\": \"SEAT / IBIZA\", \"value\": \"SEAT / IBIZA\" }, { \"label\": \"VOLKSWAGEN POLO\", \"value\": \"VOLKSWAGEN POLO\" }, { \"label\": \"CITROEN CI-ELYSSE\", \"value\": \"CITROEN CI-ELYSSE\" }, { \"label\": \"VMS\", \"value\": \"VMS\" }, { \"label\": \"SKODA RAPIDE\", \"value\": \"SKODA RAPIDE\" }, { \"label\": \"RENAULT FLUENCE\", \"value\": \"RENAULT FLUENCE\" }, { \"label\": \"RENAULT GLR\", \"value\": \"RENAULT GLR\" }, { \"label\": \"RENAULT\", \"value\": \"RENAULT\" }, { \"label\": \"VOLKWAGEN\", \"value\": \"VOLKWAGEN\" }, { \"label\": \"IVECO\", \"value\": \"IVECO\" }, { \"label\": \"MERCEDES ACTROS\", \"value\": \"MERCEDES ACTROS\" }, { \"label\": \"DAIHATSU\", \"value\": \"DAIHATSU\" }, { \"label\": \"NISSAN PIK-UP\", \"value\": \"NISSAN PIK-UP\" }, { \"label\": \"DAIMER,BENZ\", \"value\": \"DAIMER,BENZ\" }, { \"label\": \"ISUZU\", \"value\": \"ISUZU\" }, { \"label\": \"RENAULT KANGO\", \"value\": \"RENAULT KANGO\" }, { \"label\": \"FAW\", \"value\": \"FAW\" }, { \"label\": \"CHENG LONG\", \"value\": \"CHENG LONG\" }, { \"label\": \"DONGFENG\", \"value\": \"DONGFENG\" }, { \"label\": \"HYUNDAI HD17\", \"value\": \"HYUNDAI HD17\" }, { \"label\": \"HENG TONG\", \"value\": \"HENG TONG\" }, { \"label\": \"KIA\", \"value\": \"KIA\" }, { \"label\": \"KIA 2700\", \"value\": \"KIA 2700\" }, { \"label\": \"PEUGEOT EXPERT\", \"value\": \"PEUGEOT EXPERT\" }, { \"label\": \"MERCEDES AXOR\", \"value\": \"MERCEDES AXOR\" }, { \"label\": \"MITSUBISHI\", \"value\": \"MITSUBISHI\" }, { \"label\": \"NISSAN\", \"value\": \"NISSAN\" }, { \"label\": \"NISSAN TIDA\", \"value\": \"NISSAN TIDA\" }, { \"label\": \"RENAULT MEGANE\", \"value\": \"RENAULT MEGANE\" }, { \"label\": \"JAC\", \"value\": \"JAC\" }, { \"label\": \"HYUNDAI HD 65\", \"value\": \"HYUNDAI HD 65\" }, { \"label\": \"TOYOTA HIACE\", \"value\": \"TOYOTA HIACE\" }, { \"label\": \"YOUNGMAN\", \"value\": \"YOUNGMAN\" }, { \"label\": \"TOYOTA HILUX\", \"value\": \"TOYOTA HILUX\" }, { \"label\": \"TOYOTA\", \"value\": \"TOYOTA\" }, { \"label\": \"SSANG YONG\", \"value\": \"SSANG YONG\" }, { \"label\": \"CITROEN BERLINGO\", \"value\": \"CITROEN BERLINGO\" }, { \"label\": \"CHEVROLET COLORADO\", \"value\": \"CHEVROLET COLORADO\" }, { \"label\": \"PEUGEOT BOXER\", \"value\": \"PEUGEOT BOXER\" }, { \"label\": \"SKODA OCTAVIA\", \"value\": \"SKODA OCTAVIA\" }, { \"label\": \"YUEJIN\", \"value\": \"YUEJIN\" }, { \"label\": \"DFAC\", \"value\": \"DFAC\" }, { \"label\": \"SHAANQI\", \"value\": \"SHAANQI\" }, { \"label\": \"RENAULT MASTER\", \"value\": \"RENAULT MASTER\" }, { \"label\": \"HYUNDAI H 100\", \"value\": \"HYUNDAI H 100\" }, { \"label\": \"JINBEI\", \"value\": \"JINBEI\" }, { \"label\": \"TATA\", \"value\": \"TATA\" }, { \"label\": \"KIA \", \"value\": \"KIA \" }, { \"label\": \"HIGER\", \"value\": \"HIGER\" }, { \"label\": \"MITSUBISHI FUSO\", \"value\": \"MITSUBISHI FUSO\" }, { \"label\": \"CITROEN CI-ELYSEE\", \"value\": \"CITROEN CI-ELYSEE\" }, { \"label\": \"HYUNDAI HD 160\", \"value\": \"HYUNDAI HD 160\" }, { \"label\": \"HINO\", \"value\": \"HINO\" }, { \"label\": \"TOYOTA COASTER \", \"value\": \"TOYOTA COASTER \" }, { \"label\": \"TOYOTA RAV4\", \"value\": \"TOYOTA RAV4\" }, { \"label\": \"MERCEDES-BENZ GLC 250\", \"value\": \"MERCEDES-BENZ GLC 250\" }, { \"label\": \"TOYOTA HILUX REVO\", \"value\": \"TOYOTA HILUX REVO\" }, { \"label\": \"NEW INTERNATIONAL PAYSTAR\", \"value\": \"NEW INTERNATIONAL PAYSTAR\" }, { \"label\": \"SCANIA\", \"value\": \"SCANIA\" }, { \"label\": \"NISSAN NAVARA\", \"value\": \"NISSAN NAVARA\" }, { \"label\": \"MERCEDES\", \"value\": \"MERCEDES\" }, { \"label\": \"RANGE ROVER\", \"value\": \"RANGE ROVER\" }, { \"label\": \"HYUNDAI HD 35\", \"value\": \"HYUNDAI HD 35\" }, { \"label\": \"PEUGEOT 2008\", \"value\": \"PEUGEOT 2008\" }, { \"label\": \"SKODA YETI\", \"value\": \"SKODA YETI\" }, { \"label\": \"KIA RIO\", \"value\": \"KIA RIO\" }, { \"label\": \"VANHOOL\", \"value\": \"VANHOOL\" }, { \"label\": \"FRUEHAUF\", \"value\": \"FRUEHAUF\" }, { \"label\": \"TRAILOR\", \"value\": \"TRAILOR\" }, { \"label\": \"TROULLIET\", \"value\": \"TROULLIET\" }, { \"label\": \"SNVI\", \"value\": \"SNVI\" }, { \"label\": \"KRONE\", \"value\": \"KRONE\" }, { \"label\": \"DPR TRAILER\", \"value\": \"DPR TRAILER\" }, { \"label\": \"SCHMITZ\", \"value\": \"SCHMITZ\" }, { \"label\": \"ACI\", \"value\": \"ACI\" }, { \"label\": \"MAF-TRAILLER\", \"value\": \"MAF-TRAILLER\" }]\r\n\r\nexport const _drivers_types = [{ \"label\": \"Chauffeur SR \", \"value\": \"Chauffeur SR \" }, { \"label\": \"Chauffeur TC Bus\", \"value\": \"Chauffeur TC Bus\" }, { \"label\": \"Chauffeur  VL \", \"value\": \"Chauffeur  VL \" }, { \"label\": \"Chauffeur  PL\", \"value\": \"Chauffeur  PL\" }, { \"label\": \"Chauffeur Ambulancier\", \"value\": \"Chauffeur Ambulancier\" }, { \"label\": \"AUTRE\", \"value\": \"AUTRE\" }]\r\n\r\nexport const _motifs_restitition_driver = [\r\n  { label: \"Conducteur Congé\", id: \"conge\" },\r\n  { label: \"Changement de conducteur\", id: \"change\" },\r\n  { label: \"Fin Préstation\", id: \"end_prestation\" },\r\n]\r\n\r\nexport const _motifs_restitition_client = [\r\n  { label: \"Véhicule En Panne\", id: \"panne\" },\r\n  { label: \"Fin De Prestation\", id: \"end_prestation\" },\r\n  { label: \"Pour Changé La Véhicule\", id: \"change\" },\r\n]\r\n\r\nexport const _services = [\r\n\r\n  {\r\n    label: \"COMMERCIAL\",\r\n    value: \"COMMERCIAL\"\r\n  },\r\n  {\r\n    label: \"ACHATS\",\r\n    value: \"ACHATS\"\r\n  },\r\n  {\r\n    label: \"MAINTENANCE\",\r\n    value: \"MAINTENANCE\"\r\n  },\r\n  {\r\n    label: \"EXPLOITATION\",\r\n    value: \"EXPLOITATION\"\r\n  },\r\n\r\n]\r\nexport const _postes = [\r\n  {\r\n    value: \"admin\",\r\n    label: \"Administarateur\"\r\n  },\r\n  {\r\n    value: \"ga\",\r\n    label: \"Gestionnaire administaratif\"\r\n  },\r\n  {\r\n    value: \"gm\",\r\n    label: \"Gestionnaire matériel\"\r\n  },\r\n  {\r\n    value: \"com\",\r\n    label: \"Commercial\"\r\n  }\r\n]\r\n\r\nexport const _messages = {\r\n  \"required\": \"Champ obligatoire\"\r\n}\r\n\r\nexport const _prop = [\r\n  {\r\n    value: \"CONDOR LOGISTICS\",\r\n    label: \"CONDOR LOGISTICS\"\r\n  },\r\n  {\r\n    value: \"CONDOR ELECTRONICS\",\r\n    label: \"CONDOR ELECTRONICS\"\r\n  },\r\n  {\r\n    value: \"TRAVOCOVIA\",\r\n    label: \"TRAVOCOVIA\"\r\n  }\r\n]\r\n\r\nexport const _motif_restititions = [\r\n  {\r\n    value: \"FIN DE CONTRAT\",\r\n    label: \"FIN DE CONTRAT\"\r\n  },\r\n  {\r\n    value: \"A LA DEMANDE DE CLIENT\",\r\n    label: \"À LA DEMANDE DE CLIENT\"\r\n  },\r\n  {\r\n    value: \"VEHICULE EN PANNE\",\r\n    label: \"VEHICULE EN PANNE\"\r\n  }\r\n]\r\n\r\nexport const _missionStateName = [\r\n  {\r\n    value: \"ARRET POUR AUTRES\",\r\n    label: \"ARRET POUR AUTRES\"\r\n  },\r\n  {\r\n    value: \"EN MISSION\",\r\n    label: \"EN MISSION\"\r\n  },\r\n  {\r\n    value: \"FIN MISSION\",\r\n    label: \"FIN MISSION\"\r\n  },\r\n  {\r\n    value: \"MISSION ANNULE\",\r\n    label: \"MISSION ANNULE\"\r\n  },\r\n  {\r\n    value: \"EN ATTENTE DE PROGRAMME\",\r\n    label: \"EN ATTENTE DE PROGRAMME\"\r\n  },\r\n  {\r\n    value: \"EN ATTENTE DE DECHARGEMENT\",\r\n    label: \"EN ATTENTE DE DECHARGEMENT\"\r\n  },\r\n  {\r\n    value: \"ARRET POUR PANNE\",\r\n    label: \"ARRET POUR PANNE\"\r\n  },\r\n  {\r\n    value: \"EXPLOITATION INTERNE\",\r\n    label: \"EXPLOITATION INTERNE\"\r\n  },\r\n  {\r\n    value: \"ARRET POUR ACCIDENT\",\r\n    label: \"ARRET POUR ACCIDENT\"\r\n  },\r\n  {\r\n    value: \"ARRET POUR ENTRETIEN\",\r\n    label: \"ARRET POUR ENTRETIEN\"\r\n  },\r\n  {\r\n    value: \"EN ATTENTE DE CHARGEMENT\",\r\n    label: \"EN ATTENTE DE CHARGEMENT\"\r\n  },\r\n]\r\nexport const _carStateName = [\r\n  {\r\n    value: \"EN PANNE PARC\",\r\n    label: \"EN PANNE (PARC)\"\r\n  },\r\n  {\r\n    value: \"EN PANNE ATELIER\",\r\n    label: \"EN PANNE (ATELIER)\"\r\n  },\r\n  {\r\n    value: \"OPERATIONNEL\",\r\n    label: \"OPERATIONNEL\"\r\n  },\r\n  {\r\n    value: \"ACCIDENTE\",\r\n    label: \"ACCIDENTE\"\r\n  },\r\n  {\r\n    value: \"VENDU\",\r\n    label: \"VENDU\"\r\n  },\r\n  {\r\n    value: \"VOLEE\",\r\n    label: \"VOLEE\"\r\n  }\r\n]","import React, { useEffect } from \"react\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport { Button, Skeleton, PageHeader } from 'antd';\r\nimport {\r\n  ArrowLeftOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport config from \"config\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nexport default ({ title, subTitle, withBack, loading, selectedSiderKey, children }) => {\r\n  const history = useHistory()\r\n  const { setSelectedSiderKey } = useAppStore()\r\n  useEffect(() => {\r\n    if (!selectedSiderKey) {\r\n      setSelectedSiderKey(\"\")\r\n    } else {\r\n      setSelectedSiderKey(selectedSiderKey)\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    title ? document.title = title + \" - \" + config.appName : document.title = config.appName\r\n  }, [title])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div >\r\n        <PageHeader\r\n          onBack={() => history.goBack()}\r\n          backIcon={withBack ? <ArrowLeftOutlined /> : null}\r\n          title={title}\r\n          subTitle={subTitle}\r\n        />,\r\n        <div style={{ padding: 15 }}>\r\n          <Skeleton />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader\r\n        onBack={() => history.goBack()}\r\n        backIcon={withBack ? <ArrowLeftOutlined /> : null}\r\n        title={title}\r\n        subTitle={subTitle}\r\n      />\r\n      <div style={{ padding: 15 }}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { Statistic, Card, Row, Col } from 'antd';\r\nimport { ArrowUpOutlined, ArrowDownOutlined } from '@ant-design/icons';\r\nimport { EyeOutlined, EllipsisOutlined, SettingOutlined } from '@ant-design/icons';\r\n\r\n/*\r\nconst actions = {\r\n  [\r\n  <EyeOutlined onClick={onClick} key=\"setting\" />,\r\n  <EllipsisOutlined key=\"ellipsis\" />,\r\n]}\r\n*/\r\nexport default ({ value, title, icon: Icon, suffix, color = \"#000\", onClick }) => (\r\n  <Col span={8}>\r\n    <Card\r\n\r\n    >\r\n      <Statistic\r\n        value={value}\r\n        precision={0}\r\n        valueStyle={{ color }}\r\n        prefix={Icon}\r\n        suffix={\" | \" + title}\r\n      />\r\n    </Card>\r\n  </Col>\r\n\r\n);","import React, { useEffect, useState, useRef } from \"react\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Chart,\r\n  Interval,\r\n  Tooltip,\r\n  Axis,\r\n  Coordinate,\r\n  Interaction,\r\n  getTheme,\r\n} from 'bizcharts';\r\n\r\nimport {\r\n  FaCarAlt,\r\n  FaCarSide,\r\n  FaCarCrash\r\n} from \"react-icons/fa\";\r\nimport {\r\n  Spin,\r\n  Divider,\r\n  Descriptions,\r\n  Row\r\n} from \"antd\"\r\n\r\nimport Statistic from \"components/Statistic\"\r\n\r\nfunction ChartPiVL() {\r\n  const { api } = useAppStore()\r\n  const [dashboardVL, setDashboardVl] = useState({\r\n    capacity_logistics_vl: 1,\r\n    operationel_vl: 0,\r\n    non_exploite_vl: 0,\r\n    affecte_vl: 0,\r\n    en_panne_vl: 0,\r\n    accedente_vl: 0\r\n  })\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const getDashboardVL = () => {\r\n    api.get(\"/dashboard_vl\").then((res) => {\r\n      setDashboardVl(res.data.data)\r\n      setLoading(false)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDashboardVL()\r\n    const intr = setInterval(getDashboardVL, 60000)\r\n    return () => clearInterval(intr)\r\n  }, [])\r\n\r\n  if (loading || !dashboardVL) {\r\n    return <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n      <Spin size=\"large\" />\r\n    </div>\r\n  }\r\n  //const operationel_vl = dashboardVL\r\n  const non_exploite_vlP = dashboardVL.non_exploite_vl\r\n  const affecte_vlP = dashboardVL.affecte_vl\r\n  const en_panne_vlP = dashboardVL.en_panne_vl\r\n  const accedente_vlP = dashboardVL.accedente_v\r\n  const capacity_logistics_vl = dashboardVL.capacity_logistics_vl\r\n  const operationel_vl = dashboardVL.operationel_vl\r\n\r\n  const non_exploite_vl = dashboardVL.non_exploite_vl / dashboardVL.capacity_logistics_vl\r\n  const affecte_vl = dashboardVL.affecte_vl / dashboardVL.capacity_logistics_vl\r\n  const en_panne_vl = dashboardVL.en_panne_vl / dashboardVL.capacity_logistics_vl\r\n  const accedente_vl = dashboardVL.accedente_v / dashboardVL.capacity_logistics_vl\r\n\r\n  const data = [\r\n    { item: 'NON EXPLOITE', count: non_exploite_vl, percent: non_exploite_vlP, color: \"#000\" },\r\n    { item: 'AFFECTE', count: affecte_vl, percent: affecte_vlP },\r\n    { item: 'EN PANNE', count: en_panne_vl, percent: en_panne_vlP },\r\n    { item: 'ACCEDENTE', count: accedente_vl, percent: accedente_vlP, color: \"red\" },\r\n  ];\r\n\r\n\r\n  return (\r\n    <>\r\n      <Row >\r\n        <Chart height={350} data={data} autoFit>\r\n          <Coordinate type=\"theta\" radius={0.75} />\r\n          <Tooltip showTitle={true} />\r\n          <Axis visible={false} />\r\n          <Interval\r\n            position=\"percent\"\r\n            adjust=\"stack\"\r\n            color=\"item\"\r\n            style={{\r\n              lineWidth: 1,\r\n              stroke: '#fff',\r\n            }}\r\n            state={{\r\n              selected: {\r\n                style: (t) => {\r\n                  const res = getTheme().geometries.interval.rect.selected.style(t);\r\n                  return { ...res, fill: 'red' }\r\n                }\r\n              }\r\n            }}\r\n          />\r\n          <Interaction type='element-single-selected' />\r\n        </Chart>\r\n        <Statistic\r\n          value={capacity_logistics_vl}\r\n          icon={<FaCarAlt style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Capacité\"\r\n          color=\"#000\"\r\n        />\r\n        <Statistic\r\n          value={operationel_vl}\r\n          icon={<FaCarAlt style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Opérationel\"\r\n          color=\"green\"\r\n        />\r\n        <Statistic\r\n          value={affecte_vlP}\r\n          icon={<FaCarSide style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Affecté\"\r\n          color=\"blue\"\r\n        />\r\n        <Statistic\r\n          value={non_exploite_vlP}\r\n          icon={<FaCarSide style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Non exploité\"\r\n          color=\"#9c27b0\"\r\n        />\r\n        <Statistic\r\n          value={en_panne_vlP}\r\n          icon={<FaCarSide style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"En panne\"\r\n          color=\"#faad14\"\r\n        />\r\n        <Statistic\r\n          value={accedente_vlP}\r\n          icon={<FaCarCrash style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Accedenté\"\r\n          color=\"red\"\r\n        />\r\n      </Row>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default () => {\r\n  const { api } = useAppStore()\r\n  const chartPieVLRef = useRef(null);\r\n  const [dashboardVL, setDashboardVl] = useState({\r\n    capacity_logistics_vl: 0,\r\n    operationel_vl: 0,\r\n    non_exploite_vl: 0,\r\n    affecte_vl: 0,\r\n    en_panne_vl: 0,\r\n    accedente_vl: 0\r\n  })\r\n\r\n  useEffect(() => {\r\n    api.get(\"/dashboard_vl\").then((res) => {\r\n      setDashboardVl(res.data.data)\r\n    })\r\n\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <Page title=\"Dashboard\">\r\n      <Divider orientation=\"left\"><h1>VL</h1></Divider>\r\n      <ChartPiVL />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Button, message, Transfer, Form, Skeleton } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nimport SearchInput from \"components/SearchInput\";\r\nimport { groupBy } from \"lodash\";\r\n\r\nconst mockData = [];\r\nfor (let i = 0; i < 20; i++) {\r\n  mockData.push({\r\n    key: i.toString(),\r\n    matricule: `content${i + 1}`,\r\n    description: `description of content${i + 1}`,\r\n  });\r\n}\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  window.api = api\r\n  const [cars, setCars] = useState([])\r\n  const [data, setData] = useState({\r\n    group_id: null,\r\n    cars_id: [],\r\n    loadingCars: true,\r\n    loadingGroupCars: false,\r\n    carGroupe: \"vh\"\r\n  })\r\n  const [selectedKeys, setSelectedKey] = useState([])\r\n  window.data = data\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  };\r\n  const formTailLayout = {\r\n  };\r\n  const affecte = (h) => {\r\n    console.log(h)\r\n    api.post(\"/groups/cars/\" + data.group_id, data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data.group_id) {\r\n      setData({ ...data, loadingGroupCars: true })\r\n      api.get(\"groups/cars/\" + data.group_id).then((res) => {\r\n        const cars_id = res.data.data.map(c => c.id)\r\n        setData({ ...data, cars_id, loadingGroupCars: false })\r\n      })\r\n    }\r\n  }, [data.group_id])\r\n\r\n  useEffect(() => {\r\n    api.get(\"allcars\").then(({ data }) => {\r\n      const cars = data.data.map(car => ({ ...car, key: Number.parseInt(car.id) }))\r\n      setData({ ...data, cars, loadingCars: false })\r\n    })\r\n  }, [data.carGroupe])\r\n\r\n\r\n\r\n  const handleChange = (nextTargetKeys, direction, moveKeys) => {\r\n    setData({ ...data, cars_id: nextTargetKeys })\r\n  };\r\n\r\n  const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n    setSelectedKey([...sourceSelectedKeys, ...targetSelectedKeys])\r\n  };\r\n\r\n\r\n  return (\r\n    <Page title=\"Affecté des vehicules au groupe\" selectedSiderKey=\"group-cars\">\r\n      <Form\r\n        {...formItemLayout}\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        onFinish={affecte}\r\n      >\r\n\r\n        <Form.Item label={\"Groupe\"} name={\"group_id\"}>\r\n          <SearchInput\r\n            url=\"groups/search\"\r\n            style={{ width: 200 }}\r\n            mapOptionToString={c => c.name}\r\n            onSelect={(value, option) => {\r\n              setData({ ...data, group_id: option.id })\r\n            }}\r\n            onChange={(value, option) => {\r\n              if (option) {\r\n                setData({ ...data, group_id: option.id })\r\n              } else {\r\n                setData({ ...data, group_id: null })\r\n              }\r\n            }}\r\n            placeholder=\"Rechercher ...\"\r\n          />\r\n        </Form.Item>\r\n\r\n        {data.group_id && (() => {\r\n          if (data.loadingCars || data.loadingGroupCars) {\r\n            return <Skeleton />\r\n          } else {\r\n            return <Form.Item label={\"Véhicules affecté\"} name={\"carsId\"}>\r\n              <Transfer\r\n                showSearch={true}\r\n                dataSource={data.cars}\r\n                titles={['Tout', 'Affecté']}\r\n                targetKeys={data.cars_id}\r\n                selectedKeys={selectedKeys}\r\n                onChange={handleChange}\r\n                onSelectChange={handleSelectChange}\r\n                render={item => item.code_gps + \" | \" + item.matricule}\r\n                style={{ marginBottom: 16 }}\r\n                listStyle={{\r\n                  width: 250,\r\n                  height: 300,\r\n                }}\r\n                disabled={false}\r\n              />\r\n            </Form.Item>\r\n          }\r\n        })()}\r\n\r\n\r\n        <Form.Item {...formTailLayout} >\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Envoyer\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport Page from \"components/Page\"\r\nimport { AutoComplete, Input } from \"antd\"\r\nimport { useAppStore } from \"stores\"\r\n\r\nexport default ({ url, query_string, mapOptionToString, placeholder, onSelect, onChange, style, defaultOption, disabled }) => {\r\n\tconst { api } = useAppStore()\r\n\tconst [value, setValue] = useState('');\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\r\n\tconst onSearch = (searchText) => {\r\n\t\tapi.get(`${url}?data=${searchText}&${query_string}`).then(({ data }) => {\r\n\t\t\tconst options = data.data.map(c => ({ ...c, value: mapOptionToString(c), }))\r\n\t\t\tsetOptions(options)\r\n\t\t})\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AutoComplete\r\n\t\t\toptions={options}\r\n\t\t\tdefaultValue={() => {\r\n\t\t\t\tif (defaultOption) {\r\n\t\t\t\t\treturn mapOptionToString(defaultOption)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tdisabled={disabled}\r\n\t\t\tstyle={style}\r\n\t\t\tonSelect={onSelect}\r\n\t\t\tonSearch={onSearch}\r\n\t\t\tonChange={onChange}\r\n\t\t\tplaceholder={placeholder}\r\n\r\n\t\t/>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport Page from \"components/Page\"\r\nimport { AutoComplete, Input, Select, Tag } from \"antd\"\r\nimport { useAppStore } from \"stores\"\r\n\r\nexport default ({ url, query_string, mapOptionToString, placeholder, onSelect, onChange, style, defaultOption, disabled, optionLabelProp }) => {\r\n\tconst { api } = useAppStore()\r\n\tconst [value, setValue] = useState([]);\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\r\n\tconst onSearch = (searchText) => {\r\n\t\tapi.get(`${url}?data=${searchText}&${query_string}`).then(({ data }) => {\r\n\t\t\tconst options = data.data.map(c => ({ ...c, value: mapOptionToString(c), }))\r\n\t\t\tsetOptions(options)\r\n\t\t})\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tmode=\"tags\"\r\n\t\t\toptions={options}\r\n\t\t\toptionLabelProp={optionLabelProp}\r\n\t\t\tdefaultValue={() => {\r\n\t\t\t\tif (defaultOption) {\r\n\t\t\t\t\treturn defaultOption\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tshowSearch={false}\r\n\t\t\tdisabled={disabled}\r\n\t\t\tstyle={style}\r\n\t\t\tonSearch={onSearch}\r\n\t\t\t//onChange={_onChange}\r\n\t\t\tonChange={(labels, options) => {\r\n\t\t\t\tsetValue(options)\r\n\t\t\t\tonChange(options)\r\n\t\t\t}}\r\n\t\t\ttagRender={(props) => {\r\n\t\t\t\tconst { label, value, closable, onClose } = props;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color={\"blue\"} closable={closable} onClose={onClose} style={{ marginRight: 3 }}>\r\n\t\t\t\t\t\t{value}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tvalue={value}\r\n\t\t\tlabelInValue={true}\r\n\t\t/>\r\n\t)\r\n}","import React from 'react';\r\nimport { Select, Spin } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\n\r\nimport { useAppStore } from \"stores\"\r\n\r\nexport default ({ url, query_string, mapOptionToString, debounceTimeout = 800, ...props }) => {\r\n\tconst { api } = useAppStore()\r\n\tconst [fetching, setFetching] = React.useState(false);\r\n\tconst [options, setOptions] = React.useState([]);\r\n\tconst fetchRef = React.useRef(0);\r\n\r\n\tconst debounceFetcher = React.useMemo(() => {\r\n\t\tconst loadOptions = (value) => {\r\n\t\t\tfetchRef.current += 1;\r\n\t\t\tconst fetchId = fetchRef.current;\r\n\t\t\tsetOptions([]);\r\n\t\t\tsetFetching(true);\r\n\t\t\tapi.get(`${url}?data=${value}&${query_string}`).then(({ data }) => {\r\n\t\t\t\tif (fetchId !== fetchRef.current) {\r\n\t\t\t\t\t// for fetch callback order\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst _options = data.data.map(c => ({ ...c, value: mapOptionToString(c), }))\r\n\t\t\t\tsetOptions(_options)\r\n\t\t\t\tsetFetching(false);\r\n\t\t\t})\r\n\t\t};\r\n\r\n\t\treturn debounce(loadOptions, debounceTimeout);\r\n\t}, [debounceTimeout]);\r\n\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tlabelInValue\r\n\t\t\tfilterOption={false}\r\n\t\t\tonSearch={debounceFetcher}\r\n\t\t\tnotFoundContent={fetching ? <Spin size=\"small\" /> : null}\r\n\t\t\t{...props}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t);\r\n}","import { Progress, Button } from 'antd';\r\nimport { MinusOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function ({ defaultValue, onChange }) {\r\n  const [percent, setPercent] = useState(0)\r\n  useEffect(() => {\r\n    if (defaultValue) {\r\n      setPercent(defaultValue)\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    onChange(percent)\r\n  }, [percent])\r\n  const increase = () => {\r\n    let p = percent + 10;\r\n    if (p > 100) {\r\n      p = 100;\r\n    }\r\n    setPercent(p);\r\n  };\r\n\r\n  const decline = () => {\r\n    let p = percent - 10;\r\n    if (p < 0) {\r\n      p = 0;\r\n    }\r\n    setPercent(p);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n      <Progress type=\"circle\" percent={percent} />\r\n      <Button.Group style={{marginTop: 5}}>\r\n        <Button onClick={decline} icon={<MinusOutlined />} />\r\n        <Button onClick={increase} icon={<PlusOutlined />} />\r\n      </Button.Group>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tButton,\r\n\tCheckbox,\r\n\tSelect,\r\n\tDatePicker,\r\n\tRate,\r\n\tSwitch,\r\n\tDivider\r\n} from \"antd\";\r\nimport { values } from \"lodash\";\r\n\r\nimport SearchInput from \"components/SearchInput\";\r\nimport SearchInput2 from \"components/SearchInput2\";\r\nimport DebounceSelect from \"components/DebounceSelect\";\r\nimport CircularProgress from \"components/CircularProgress\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst { Item } = Form;\r\n\r\nexport const renderItem = (form, initialValues, item) => {\r\n\tif (item.type === \"divider\") {\r\n\t\treturn <Divider plain>{item.text}</Divider>\r\n\t}\r\n\tif (item.type === \"progress\") {\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tdefaultValue={initialValues[item.name]}\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\tform.setFieldsValue(item.name, value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"search\") {\r\n\t\tconst { renderValue } = item;\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tquery_string={item.query_string}\r\n\t\t\t\t\tdefaultOption={initialValues[item.defaultOptionName]}\r\n\t\t\t\t\tmapOptionToString={item.mapOptionToString}\r\n\t\t\t\t\tonSelect={(value, option) => {\r\n\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\tfield[item.name] = option.id;\r\n\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={item.disabled}\r\n\t\t\t\t\tonChange={(value, option) => {\r\n\t\t\t\t\t\tif (!option) {\r\n\t\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\t\tfield[item.name] = null;\r\n\t\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={item.label}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"search2\") {\r\n\t\tconst { renderValue } = item;\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<SearchInput2\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tquery_string={item.query_string}\r\n\t\t\t\t\tdefaultOption={initialValues[item.defaultOptionName]}\r\n\t\t\t\t\toptionLabelProp={item?.optionLabelProp}\r\n\t\t\t\t\tmapOptionToString={item.mapOptionToString}\r\n\t\t\t\t\tdisabled={item.disabled}\r\n\t\t\t\t\tonChange={(options) => {\r\n\t\t\t\t\t\tif (options) {\r\n\t\t\t\t\t\t\tlet optionsId = []\r\n\t\t\t\t\t\t\toptions.map((option) => {\r\n\t\t\t\t\t\t\t\tif (option.id) {\r\n\t\t\t\t\t\t\t\t\toptionsId.push(option.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log({ optionsId })\r\n\t\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\t\tfield[item.name] = optionsId\r\n\t\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={item.label}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"debounceSelect\") {\r\n\t\tconst { renderValue } = item;\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t>\r\n\t\t\t\t<DebounceSelect\r\n\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t//\tvalue={form.getFieldValue(item.name)}\r\n\t\t\t\t\tmapOptionToString={item.mapOptionToString}\r\n\t\t\t\t\tplaceholder={item.label}\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tquery_string={item.query_string}\r\n\t\t\t\t\tonChange={(newValue, newOptions) => {\r\n\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\t//console.log(newOptions)\r\n\t\t\t\t\t\tfield[item.name] = newOptions\r\n\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"select\") {\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\tinitialValue={item.initialValue}\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<Select placeholder=\"Selectioné\">\r\n\t\t\t\t\t{item.selects.map((select, i) => (\r\n\t\t\t\t\t\t<Option key={i} value={select.value}>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{select.label}{\" \"}\r\n\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"selectmultiple\") {\r\n\t\treturn (\r\n\t\t\t<Form.Item style={{ flex: 1, width: '100%' }} label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<Select mode=\"tags\"\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\tfield[item.name] = value\r\n\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdefaultValue={item.initialValue}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t{item?.selects?.map((o, i) => (\r\n\t\t\t\t\t\t<Option key={i} value={o?.value}>{o?.label}</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t)\r\n\t}\r\n\tif (item.type === \"text\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<Input {...item.inputProp} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"textarea\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<TextArea />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"password\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<Input.Password />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"checkbox\") {\r\n\t\treturn (\r\n\t\t\t<Item name={item.name} valuePropName=\"checked\">\r\n\t\t\t\t<Checkbox> {item.label} </Checkbox>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"boolean\") {\r\n\t\treturn (\r\n\t\t\t<Item name={item.name} >\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tcheckedChildren={item.checkedChildren}\r\n\t\t\t\t\tunCheckedChildren={item.unCheckedChildren}\r\n\t\t\t\t\tdefaultChecked >\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Switch>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\tdisabledDate={(current) => {\r\n\t\t\t\t\t\tif (item.disabledDate) {\r\n\t\t\t\t\t\t\treturn item.disabledDate(current, form);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(value) => form.setFieldsValue(item.name, value)}\r\n\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_year\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker={\"year\"} style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_quarter\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker=\"quarter\" style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_month\") {\r\n\t\tconsole.log(\"date_picker_month\")\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker=\"month\" style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_week\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker={\"week\"} style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\r\n\tif (item.type === \"rate\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<Rate style={{ backgroundColor: \"white\" }} defaultValue={initialValues[item.name]} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"integer\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype={\"number\"}\r\n\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\tdefaultValue={initialValues[item.name]}\r\n\t\t\t\t\tonChange={(e) => console.log(e.target.value)}\r\n\t\t\t\t\t{...item.inputProp}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"number\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype={\"number\"}\r\n\t\t\t\t\tdefaultValue={initialValues[item.name]}\r\n\t\t\t\t\t{...item.inputProp}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"render\") {\r\n\t\treturn item.render(form)\r\n\t}\r\n}\r\nexport const FormBuilder = ({\r\n\tformItems,\r\n\tinitialValues = [],\r\n\tonFinish,\r\n\tonFinishFailed,\r\n\textra = () => { },\r\n\tloading,\r\n\tfull = false\r\n}) => {\r\n\tconst [form] = Form.useForm();\r\n\tlet formItemLayout = {\r\n\r\n\t};\r\n\tif (!full) {\r\n\t\tformItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 24 },\r\n\t\t\t\tsm: { span: 5 }\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 24 },\r\n\t\t\t\tsm: { span: 12 }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconst formTailLayout = {};\r\n\r\n\treturn (\r\n\t\t<Form\r\n\t\t\t{...formItemLayout}\r\n\t\t\tname=\"basic\"\r\n\t\t\tform={form}\r\n\t\t\tlayout=\"vertical\"\r\n\t\t\tinitialValues={initialValues}\r\n\t\t\tonFinish={onFinish}\r\n\t\t\tonFinishFailed={onFinishFailed}\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\tformItems.map((item, i) => (\r\n\t\t\t\t\trenderItem(form, initialValues, item)\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\textra(form)\r\n\t\t\t}\r\n\t\t\t<Item {...formTailLayout}>\r\n\t\t\t\t<Button loading={loading} type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\tEnvoyer\r\n        </Button>\r\n\t\t\t</Item>\r\n\t\t</Form>\r\n\t);\r\n};\r\n","import { _prop, _postes, _carGenre, _messages } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"username\",\r\n    label: \"Nom d'utilisateur\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"firstname\",\r\n    label: \"Nom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"lastname\",\r\n    label: \"Prenom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"mail\",\r\n    label: \"Email\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"password\",\r\n    label: \"Mot de pass\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"password\",\r\n  },\r\n  {\r\n    name: \"poste\",\r\n    label: \"Poste\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n    selects: _postes\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"TEL\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  }\r\n]\r\n\r\nexport const roleFormItems = [\r\n  {\r\n    name: \"name\",\r\n    label: \"Designation\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  }\r\n]","import { useAppStore } from \"stores\";\r\nimport * as moment from \"moment\"\r\n\r\nexport const scrollbarWidth = () => {\r\n\tconst scrollDiv = document.createElement('div')\r\n\tscrollDiv.setAttribute('style', 'width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;')\r\n\tdocument.body.appendChild(scrollDiv)\r\n\tconst scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\r\n\tdocument.body.removeChild(scrollDiv)\r\n\treturn scrollbarWidth\r\n}\r\n\r\nexport const hasRole = (user, roleName) => {\r\n\tif (user.username === \"admin\") {\r\n\t\treturn true\r\n\t}\r\n\tlet _hasRole = false\r\n\tuser.roles.map((r, i) => {\r\n\t\tif (roleName === r.name) {\r\n\t\t\t_hasRole = true\r\n\t\t}\r\n\t})\r\n\treturn _hasRole\r\n}\r\n\r\n\r\nexport const _hasRole = (roleName) => {\r\n\tconst { user } = useAppStore()\r\n\tif (user.username === \"admin\") {\r\n\t\treturn true\r\n\t}\r\n\tlet _hasRole = false\r\n\tuser.roles.map((r, i) => {\r\n\t\tif (roleName === r.name) {\r\n\t\t\t_hasRole = true\r\n\t\t}\r\n\t})\r\n\treturn _hasRole\r\n}\r\n\r\nexport const months = [\r\n\t\"JAN\", \"FEV\", \"MARS\", \"AVRIL\", \"MAI\", \"JUIN\", \"JUILLET\", \"AOUT\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"\r\n]\r\nexport const indicateurCastDate = (dateValue) => {\r\n\tlet date = JSON.parse(dateValue)\r\n\tif (date.type == \"month\") {\r\n\t\treturn date.year + \"[\" + months[date.value] + \"]\"\r\n\t}\r\n\tif (date.type == \"quarter\") {\r\n\t\treturn date.year + \"[\" + \"T\" + date.value + \"]\"\r\n\t}\r\n\tif (date.type == \"day\") {\r\n\t\treturn date.value\r\n\t}\r\n\tif (date.type == \"week\") {\r\n\t\treturn date.year + \"[\" + \"S\" + date.value + \"]\"\r\n\t}\r\n\treturn date.year\r\n}\r\n\r\nexport const indicateurCastTypeDate = (type) => {\r\n\tif (type == \"day\") {\r\n\t\treturn \"Journalier\"\r\n\t}\r\n\tif (type == \"week\") {\r\n\t\treturn \"Hebdomadaire\"\r\n\t}\r\n\tif (type == \"month\") {\r\n\t\treturn \"Mensuelle\"\r\n\t}\r\n\tif (type == \"quarter\") {\r\n\t\treturn \"Trimestriel\"\r\n\t}\r\n\tif (type == \"year\") {\r\n\t\treturn \"Annuel\"\r\n\t}\r\n\treturn \"\"\r\n}\r\n\r\nexport const getIndicateurEcart = (row) => {\r\n\tif (row.valeurs?.length !== 0) {\r\n\t\tif (row.indicateur_sueil == \">\") {\r\n\t\t\treturn row?.valeurs[row.valeurs?.length - 1].valeur - row?.seuil\r\n\t\t} else {\r\n\t\t\treturn row?.seuil - row?.valeurs[row.valeurs?.length - 1].valeur\r\n\t\t}\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nexport const listProcessus = [\r\n\t{\r\n\t\tid: 1,\r\n\t\tvalue: \"DIRECTION GENERALE\"\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\tvalue: \"MQHSE\"\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\tvalue: \"EXPLOITATION\"\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\tvalue: \"MAINTENANCE\"\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\tvalue: \"COMMERCIAL\"\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\tvalue: \"ACHATS\"\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\tvalue: \"RH\"\r\n\t},\r\n\t{\r\n\t\tid: 8,\r\n\t\tvalue: \"FINANCES ET COMPTABILITE\"\r\n\t},\r\n\t{\r\n\t\tid: 9,\r\n\t\tvalue: \"SYSTEME D'INFORMATION\"\r\n\t}\r\n]","import React, {useState} from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Popover, message, Tooltip, Spin, List, Typography } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _carStateName, _carStates, _marque, _prop } from \"_consts\";\r\nimport { FaInfo, FaPaintBrush } from \"react-icons/fa\"\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\nimport { hasRole } from \"utils\";\r\n\r\nconst InfoCar = ({ row }) => {\r\n  const { api, user } = useAppStore()\r\n  const [visible, setVisible] = React.useState(false)\r\n  const [car, setCar] = React.useState(null)\r\n  const hide = () => {\r\n    setVisible(false)\r\n  }\r\n\r\n  return (\r\n    <Popover\r\n      content={() => (\r\n        <>\r\n          {\r\n            car &&\r\n            <List>\r\n              <List.Item>\r\n                <Typography.Text mark>[PROPRIÉTAIRE]</Typography.Text> {car.prop}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[ANCIEN MATRICULE]</Typography.Text> {car.old_matricule}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[GENRE]</Typography.Text> {car.genre}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[TYPE]</Typography.Text> {car.type}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[PUISSANCE]</Typography.Text> {car.puissance}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[ENERGIE]</Typography.Text> {car.energie}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[CARROSSERIE]</Typography.Text> {car.carrosserie}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[COULEUR]</Typography.Text> {!car.color ? \"/\" : car.color}\r\n              </List.Item>\r\n            </List>\r\n          }\r\n          {\r\n            !car && <Spin />\r\n          }\r\n        </>\r\n      )}\r\n      title={car ? car.code_gps + \" | \" + car.matricule : \"\"}\r\n      trigger=\"click\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n    >\r\n      <Button\r\n        onClick={() => {\r\n          api.get(\"/cars/\" + row.id).then((res) => {\r\n            // alert(JSON.stringify(res.data.data))\r\n            setCar(res.data.data)\r\n          })\r\n        }}\r\n        shape=\"circle\" icon={<FaInfo />} />\r\n    </Popover>\r\n  )\r\n}\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n  const [_params, setParams] = useState(null)\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Genre\",\r\n      dataIndex: \"genre\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      filters: [\r\n        { text: \"V P\", value: \"V P\" },\r\n        { text: \"CAMION\", value: \"CAMION\" },\r\n        { text: \"TRACTEUR\", value: \"TRACTEUR\" },\r\n        { text: \"REMORQUE\", value: \"REMORQUE\" },\r\n        { text: \"BUS\", value: \"BUS\" },\r\n        { text: \"UTILITAIRE\", value: \"UTILITAIRE\" },\r\n        { text: \"MICRO BUS\", value: \"MICRO BUS\" },\r\n        { text: \"V H\", value: \"V H\" },\r\n        { text: \"MOTO\", value: \"MOTO\" },\r\n        { text: \"AMBULANCE\", value: \"AMBULANCE\" },\r\n        { text: \"MOTOCYCLE\", value: \"MOTOCYCLE\" },\r\n      ]\r\n    },\r\n    {\r\n      title: \"Groupe\",\r\n      dataIndex: \"groupName\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n\r\n      filters: [\r\n        { text: 'LEGER', value: 'LEGER' },\r\n        { text: 'LIVRAISON MARCHANDISE', value: 'LIVRAISON MARCHANDISE' },\r\n        { text: 'LOURD', value: 'LOURD' },\r\n        { text: 'TRANSPORT PERSONNEL', value: 'TRANSPORT PERSONNEL' },\r\n      ]\r\n\r\n    },\r\n    {\r\n      title: \"Marque\",\r\n      dataIndex: \"marque\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      filters: _marque.map((m) => ({ text: m.label, value: m.value }))\r\n    },\r\n    {\r\n      title: \"Odometre\",\r\n      dataIndex: \"odometre\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"client\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      dataIndex: \"drivers_fullname\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      render: (text, row, index, action) => {\r\n        return <span style={{ color: !row.client ? \"red\" : \"rgba(0,0,0,.85)\" }}>{row.drivers_fullname}</span>\r\n      }\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"state\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      filters: _carStateName.map((m) => ({ text: m.label, value: m.value }))\r\n\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Info\">\r\n          <InfoCar row={row} />\r\n        </Tooltip>,\r\n\r\n        <>\r\n          {\r\n            hasRole(user, \"MODIFIER_VEHICULE\") &&\r\n            <Tooltip title=\"Modifier véhicule\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/cars/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n        <>\r\n          {\r\n            hasRole(user, \"MODIFIER_STATUS_VEHICULE\") &&\r\n            <Tooltip title=\"Ajouter Status\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/cars/stats/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<FaPaintBrush />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n        <Tooltip title=\"Historiques des décharges\">\r\n          <Button\r\n            onClick={() => {\r\n              history.push(\"/cars/decharges/\" + row.id)\r\n            }}\r\n            shape=\"circle\" icon={<HistoryOutlined />} />\r\n        </Tooltip>,\r\n        <>\r\n          { hasRole(user, \"SUPPRIMER_VEHICULE\") &&\r\n            <Tooltip title=\"Supprimer\">\r\n              <Button\r\n                onClick={() => {\r\n                  api.post(\"/cars/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n                }}\r\n                shape=\"circle\" icon={<DeleteOutlined />} />\r\n            </Tooltip>}\r\n        </>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title={\"Véhicules\"} selectedSiderKey=\"list-cars\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        toolBarRender={(request) => [\r\n          <Tooltip title=\"Exporter fiechier EXCEL\" >\r\n            <div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n              <RiFileExcel2Line\r\n                size={20}\r\n                onClick={() => {\r\n                  api.get(\"/cars?format=excel\",\r\n                    {\r\n                      responseType: 'blob',\r\n                      headers: {\r\n                        'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n                        'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n                      }\r\n                    }\r\n                  ).then((res) => {\r\n                    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                    const link = document.createElement('a');\r\n                    link.href = url;\r\n                    link.setAttribute('download', 'etat_vehicules_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                  })\r\n                }}\r\n              />\r\n            </div>\r\n          </Tooltip>,\r\n        ]}\r\n        search={true}\r\n        size={\"small\"}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          /* if (filters) {\r\n             params[\"filterBy\"] = Object.keys(filters)[0]\r\n             params[\"filter\"] = Object.values(filters)\r\n           }*/\r\n          console.log(filters)\r\n          params[\"filters\"] = filters\r\n          params[\"format\"] = \"json\"\r\n          setParams(params)\r\n          return api.get(\"/cars\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import { _prop, _marque, _carGenre, _messages, _carStateName } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"matricule\",\r\n    label: \"Matricule\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"prop\",\r\n    label: \"Propriétaire\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"old_matricule\",\r\n    label: \"Ancien matricule\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"code_gps\",\r\n    label: \"code GPS\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"genre\",\r\n    label: \"Genre\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"select\",\r\n\t\tselects: _carGenre\r\n  },\r\n  {\r\n    name: \"marque\",\r\n    label: \"Marque\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"type\",\r\n    label: \"Type\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"puissance\",\r\n    label: \"Puissance\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"energie\",\r\n    label: \"Energie\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"carrosserie\",\r\n    label: \"Carrosserie\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"color\",\r\n    label: \"Color\",\r\n    type: \"text\",\r\n  },\r\n\t{\r\n    name: \"nb_places\",\r\n    label: \"Nombre de places\",\r\n    type: \"integer\",\r\n  },\r\n\r\n]\r\n\r\nexport const formItemsCarState = [\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Véhicule\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"name\",\r\n    label: \"Designation\",\r\n    type: \"select\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    selects: _carStateName\r\n  },\r\n  {\r\n    name: \"state_date\",\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n  },\r\n  {\r\n    name: \"observation\",\r\n    label: \"Observation\",\r\n    type: \"textarea\"\r\n  }\r\n]\r\n\r\n\r\nexport const camionRemorqueFormItems = [\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Camion\",\r\n    type: \"search\",\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Remorque\",\r\n    type: \"search\",\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"date\",\r\n    label: \"Date\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"date\",\r\n  },\r\n]","import { _prop, _postes, _carGenre, _messages, _drivers_types } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"firstname\",\r\n    label: \"Nom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"lastname\",\r\n    label: \"Prenom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"tel\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"code_paie\",\r\n    label: \"Code paie\",\r\n    type: \"integer\",\r\n  },\r\n  {\r\n    name: \"type\",\r\n    label: \"Type\",\r\n    type: \"select\",\r\n    selects: _drivers_types\r\n  }\r\n]","import { _prop, _postes, _carGenre, _messages } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"code\",\r\n    label: \"Code (SAP)\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"designation\",\r\n    label: \"Designation\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"localite\",\r\n    label: \"Localité\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"TEL\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"client_id\",\r\n    label: \"Client hiérarchique\",\r\n    type: \"search\",\r\n    url: \"clients/search\",\r\n    defaultOptionName: \"client\",\r\n    mapOptionToString: c => c?.designation\r\n  },\r\n]","import { _prop, _postes, _carGenre, _messages, _motif_restititions } from \"_consts\";\r\nimport * as moment from \"moment\"\r\nexport const formDechargeItems = [\r\n  {\r\n    name: \"client_id\",\r\n    label: \"Client\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"clients/search\",\r\n    defaultOptionName: \"client\",\r\n    mapOptionToString: c => c?.designation\r\n  },\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Véhicule\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"date_decharge\",\r\n    label: \"Date décharge\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"date\",\r\n  },\r\n  {\r\n    name: \"date_fin_prestation\",\r\n    label: \"Date fin prestation\",\r\n    type: \"date\",\r\n    disabledDate: (current, form) => current && current < form.getFieldValue(\"date_decharge\")\r\n  }\r\n]\r\n\r\n\r\nexport const formCheckListRestititionItems = [\r\n  {\r\n    name: \"driver_id\",\r\n    label: \"Conducteur\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"drivers/search\",\r\n    defaultOptionName: \"driver\",\r\n    mapOptionToString: c => c?.firstname + \" \" + c.lastname\r\n  },\r\n  {\r\n    name: \"motif_restitition\",\r\n    label: \"Motif de restitution\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"select\",\r\n    selects: _motif_restititions,\r\n  },\r\n  {\r\n    name: \"date_restitition\",\r\n    label: \"Date restitution\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"date\",\r\n  },\r\n  {\r\n    name: \"niveau_carburant\",\r\n    label: \"Niveau carburant\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"progress\",\r\n  },\r\n  {\r\n    name: \"odometre\",\r\n    label: \"Odometre\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"integer\",\r\n    inputProp: {\r\n      suffix: \"KM\"\r\n    }\r\n  },\r\n  {\r\n    name: \"starts\",\r\n    label: \"Etat de véhicule\",\r\n    type: \"rate\",\r\n  },\r\n  {\r\n    name: \"cle_vehicule\",\r\n    label: \"Nbs clés véhicule\",\r\n    type: \"integer\",\r\n    inputProp: {\r\n      suffix: \"Clé(s)\"\r\n    }\r\n  },\r\n  {\r\n    name: \"carte_grise\",\r\n    label: \"Carte grise\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"assurance\",\r\n    label: \"Assurance\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"assurance_marchandises\",\r\n    label: \"Assurance marchandises\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"scanner\",\r\n    label: \"Scanner\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"permis_circuler\",\r\n    label: \"Permis circuler\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"carnet_enter\",\r\n    label: \"Carnet entretien\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"vignette\",\r\n    label: \"Vignette\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"carte_gpl\",\r\n    label: \"Carte GPL\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"gillet\",\r\n    label: \"Gillet\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"roue_secour\",\r\n    label: \"Roue secour\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"cric\",\r\n    label: \"Cric\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"cle_roue\",\r\n    label: \"Cle roue\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"poste_radio\",\r\n    label: \"Poste radio\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"extincteur\",\r\n    label: \"Extincteur\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"boite_pharm\",\r\n    label: \"Boite pharmacie\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"triangle\",\r\n    label: \"Triangle de présignalisation\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"pochette_cle\",\r\n    label: \"Pochette des clés\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"observation_checklist\",\r\n    label: \"observation\",\r\n    type: \"textarea\",\r\n  }\r\n]\r\n\r\nexport const formCheckListItems = [\r\n\r\n]","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n\thide: { display: \"none\" },\r\n\tpage: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\twidth: \"210mm\",\r\n\t\theight: \"297mm\",\r\n\t\tfontSize: \"4mm\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tborder: \"none\",\r\n\t\tcolor: \"black\",\r\n\t},\r\n\tpageHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tborder: \".15mm solid black\",\r\n\t\theight: \"25mm\",\r\n\t\tmargin: \"5mm\",\r\n\t},\r\n\tpageBody: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: \"white\",\r\n\t\tpadding: \"5mm\",\r\n\t\tpaddingTop: \"1mm\",\r\n\t\tpaddingBottom: \"1mm\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tpageFooter: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmargin: \"5mm\",\r\n\t\tmarginTop: \"1mm\",\r\n\t\tfontSize: \"3.3mm\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n};\r\n\r\nexport default class PrintDecharge extends React.Component {\r\n\trender() {\r\n\t\tconst { checklist } = this.props;\r\n\t\treturn (\r\n\t\t\t<div style={styles.page}>\r\n\t\t\t\t<div style={styles.pageHeader}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img style={{ width: \"40mm\" }} src={\"/logo.png\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5.5mm\",\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSPA CONDOR LOGISTICS\r\n            </div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div>DECHARGE</div>\r\n\t\t\t\t\t\t\t<div>{`N°${checklist[\"decharges.id\"]} DL/${moment(checklist[\"decharges.date_decharge\"]).year()}`}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={styles.pageBody}>\r\n\t\t\t\t\t<div style={{ fontSize: \"6mm\", marginBottom: \"2mm\" }}>\r\n\t\t\t\t\t\t<b>Client: </b> {checklist[\"clients.designation\"]} / {checklist[\"clients_mother_designation\"]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Marque:</b> {checklist[\"cars.marque\"]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Matricule:</b> {checklist[\"cars.matricule\"]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Code GPS:</b> {checklist[\"cars.code_gps\"]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Odometre:</b> {checklist?.odometre}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Nbs Clés de Véhicule:</b> {checklist.cle_vehicule}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Niveau carburant:</b> {checklist.niveau_carburant}%\r\n              </li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginTop: \"2mm\",\r\n\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<b>Date décharge le: {moment(checklist[\"decharges.date_decharge\"]).format(\"DD-MM-Y\")}</b><br />\r\n\t\t\t\t\t\t<u>Je Soussigné Monsieur:</u>{\" \"}\r\n\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{checklist[\"drivers.firstname\"]?.toUpperCase() +\r\n\t\t\t\t\t\t\t\t\" \" +\r\n\t\t\t\t\t\t\t\tchecklist[\"drivers.lastname\"]?.toUpperCase()}\r\n\t\t\t\t\t\t</b>\r\n            , <u>N° TEL:</u> <b>{checklist[\"drivers.tel\"]}</b>\r\n\t\t\t\t\t\t<br />\r\n            Reconnais avoir <u>reçu</u> ce jour{\" \"}\r\n\t\t\t\t\t\t<b>{moment(checklist[\"date_checklist\"])?.format(\"DD-MM-Y\")}</b>:\r\n            <div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: \"4mm\",\r\n\t\t\t\t\t\t\t\tfontSize: \"4.5mm\",\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tmarginLeft: \"5mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tI - <u>Les documents ci-aprés:</u>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"carte_grise\"\r\n\t\t\t\t\t\t\t\ttitle=\"Carte grise\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"assurance\"\r\n\t\t\t\t\t\t\t\ttitle=\"Assurance\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"assurance_marchandises\"\r\n\t\t\t\t\t\t\t\ttitle=\"Assurance marchandises\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document checklist={checklist} name=\"vignette\" title=\"Vignette\" />\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"scanner\"\r\n\t\t\t\t\t\t\t\ttitle=\"Scanner\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"permis_circuler\"\r\n\t\t\t\t\t\t\t\ttitle=\"Permis circuler\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"carnet_enter\"\r\n\t\t\t\t\t\t\t\ttitle=\"Carnet d'entretien\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"carte_gpl\"\r\n\t\t\t\t\t\t\t\ttitle=\"Carte GPL\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: \"4.5mm\",\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tmarginLeft: \"5mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tII - <u>Les equipments ci-aprés:</u>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"roue_secour\"\r\n\t\t\t\t\t\t\t\ttitle=\"Roue de secours\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"cle_roue\"\r\n\t\t\t\t\t\t\t\ttitle=\"Clé Roue\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"gillet\"\r\n\t\t\t\t\t\t\t\ttitle=\"Gillet\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"cric\"\r\n\t\t\t\t\t\t\t\ttitle=\"Cric\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"poste_radio\"\r\n\t\t\t\t\t\t\t\ttitle=\"Poste radio\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"extincteur\"\r\n\t\t\t\t\t\t\t\ttitle=\"Extincteur\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"boite_pharm\"\r\n\t\t\t\t\t\t\t\ttitle=\"Boite pharmacie\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"triangle\"\r\n\t\t\t\t\t\t\t\ttitle=\"Triangle\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"pochette_cle\"\r\n\t\t\t\t\t\t\t\ttitle=\"Pochette clés\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tborder: \".2mm solid black\",\r\n\t\t\t\t\t\t\tmarginTop: \"2mm\",\r\n\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t<b>Observations: </b>\r\n\t\t\t\t\t\t</u>{\" \"}\r\n\t\t\t\t\t\t{checklist[\"observation_checklist\"] ? checklist[\"observation_checklist\"] : \"/\"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div style={styles.pageFooter}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\theight: \"10mm\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<b>Le Gestionnaire Administrative Matériel Roulant</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<b>Le Gestionnaire Matériel Roulant</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<b>Le Bénéficiare</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ display: \"flex\", flex: 1, minHeight: \"25mm\" }}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n\t\t\t\t\t\t{\"username: \" + checklist[\"users.username\"]} |{\" \"}\r\n\t\t\t\t\t\t{`Imprimer Le: ${moment().format(\"D-M-yy\")}`} | {\" \"}\r\n\t\t\t\t\t\t{document.location.toString()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Document = ({ checklist, name, title }) => (\r\n\t<div style={{ margin: \"2mm\" }}>\r\n\t\t<input\r\n\t\t\tstyle={{ marginRight: \"2mm\" }}\r\n\t\t\tchecked={checklist[name] == true}\r\n\t\t\ttype=\"checkbox\"\r\n\t\t/>\r\n\t\t<b>{title}</b>\r\n\t</div>\r\n)\r\n","import React, { useRef, useState } from \"react\"\r\nimport { message, Steps } from 'antd';\r\nimport * as moment from \"moment\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formDechargeItems, formCheckListItems } from \"./columns\"\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst { Step } = Steps;\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ step: 0 })\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const decharge = (dataForm) => {\r\n    dataForm[\"date_decharge\"] = dataForm[\"date_decharge\"] ? dataForm[\"date_decharge\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    dataForm[\"date_fin_prestation\"] = dataForm[\"date_fin_prestation\"] ? dataForm[\"date_fin_prestation\"].format(\"yy-M-D\") : null\r\n    setAllData({ ...allData, data: { ...allData.data, ...dataForm }, step: 1 })\r\n  }\r\n\r\n  const checklist = (dataForm) => {\r\n    dataForm[\"date_checklist\"] = dataForm[\"date_checklist\"] ? dataForm[\"date_checklist\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    const postData = {\r\n      ...allData.data,\r\n      ...dataForm\r\n    }\r\n    setLoading(true);\r\n\r\n    api.post(\"/decharges\", postData).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/decharges/show/\" + res.data.data.id)\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n\r\n  }\r\n\r\n  const printDecharge = useRef(null);\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  return (\r\n    <Page title=\"Nauveau decharge\">\r\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <Steps current={allData.step}>\r\n          <Step title=\"Affectation client\" description=\"\" />\r\n          <Step title=\"Checklist Conducteur\" description=\"\" />\r\n        </Steps>\r\n        <div><hr /></div>\r\n        <div style={{ flex: 1, }}>\r\n          {allData.step === 0 &&\r\n            <FormBuilder formItems={formDechargeItems} initialValues={{ date_decharge: moment() }} onFinish={decharge} />\r\n          }\r\n          {allData.step === 1 &&\r\n            <FormBuilder\r\n              loading={loading}\r\n              formItems={[{\r\n                name: \"date_checklist\",\r\n                label: \"Date checklist\",\r\n                type: \"date\",\r\n                disabledDate: (current, form) => current && current < moment(allData.data.date_decharge)\r\n              },\r\n              {\r\n                name: \"driver_id\",\r\n                label: \"Conducteur\",\r\n                type: \"search\",\r\n                rules: [{ required: true, message: _messages.required }],\r\n                url: \"drivers/search\",\r\n                defaultOptionName: \"driver\",\r\n                mapOptionToString: c => c?.firstname + \" \" + c.lastname\r\n              },\r\n              {\r\n                name: \"niveau_carburant\",\r\n                label: \"Niveau carburant\",\r\n                rules: [{ required: true, message: _messages.required }],\r\n                type: \"progress\",\r\n              },\r\n              {\r\n                name: \"odometre\",\r\n                label: \"Odometre\",\r\n                rules: [{ required: true, message: _messages.required }],\r\n                type: \"integer\",\r\n                inputProp: {\r\n                  suffix: \"KM\"\r\n                }\r\n              },\r\n              {\r\n                name: \"starts\",\r\n                label: \"Etat de véhicule\",\r\n                type: \"rate\",\r\n              },\r\n              {\r\n                name: \"cle_vehicule\",\r\n                label: \"Nbs clés véhicule\",\r\n                type: \"integer\",\r\n                inputProp: {\r\n                  suffix: \"Clé(s)\"\r\n                }\r\n              },\r\n              {\r\n                name: \"carte_grise\",\r\n                label: \"Carte grise\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"assurance\",\r\n                label: \"Assurance\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"assurance_marchandises\",\r\n                label: \"Assurance marchandises\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"scanner\",\r\n                label: \"Scanner\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"permis_circuler\",\r\n                label: \"Permis circuler\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"carnet_enter\",\r\n                label: \"Carnet entretien\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"vignette\",\r\n                label: \"Vignette\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"carte_gpl\",\r\n                label: \"Carte GPL\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"gillet\",\r\n                label: \"Gillet\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"roue_secour\",\r\n                label: \"Roue secour\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"cric\",\r\n                label: \"Cric\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"cle_roue\",\r\n                label: \"Cle roue\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"poste_radio\",\r\n                label: \"Poste radio\",\r\n                type: \"checkbox\",\r\n              },\r\n\r\n              {\r\n                name: \"extincteur\",\r\n                label: \"Extincteur\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"boite_pharm\",\r\n                label: \"Boite pharmacie\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"triangle\",\r\n                label: \"Triangle de présignalisation\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"pochette_cle\",\r\n                label: \"Pochette des clés\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"observation_checklist\",\r\n                label: \"observation\",\r\n                type: \"textarea\",\r\n              }\r\n              ]} onFinish={checklist}\r\n              initialValues={\r\n                {\r\n                  date_checklist: moment(allData.data[\"date_decharge\"]),\r\n                  assurance: false,\r\n                  assurance_marchandises: false,\r\n                  boite_pharm: false,\r\n                  carnet_enter: false,\r\n                  carte_gpl: false,\r\n                  carte_grise: false,\r\n                  cle_roue: false,\r\n                  cle_vehicule: 1,\r\n                  cric: false,\r\n                  extincteur: false,\r\n                  gillet: false,\r\n                  niveau_carburant: 0,\r\n                  odometre: 0,\r\n                  permis_circuler: false,\r\n                  pochette_cle: false,\r\n                  poste_radio: false,\r\n                  roue_secour: false,\r\n                  scanner: false,\r\n                  starts: 5,\r\n                  triangle: false,\r\n                  vignette: false\r\n                }\r\n              }\r\n            />\r\n          }\r\n        </div>\r\n\r\n\r\n      </div>,\r\n    </Page >\r\n  )\r\n}","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n  hide: { display: \"none\" },\r\n  page: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"210mm\",\r\n    height: \"297mm\",\r\n    fontSize: \"4mm\",\r\n    backgroundColor: \"white\",\r\n    margin: 0,\r\n    padding: 0,\r\n    border: \"none\",\r\n    color: \"black\",\r\n  },\r\n  pageHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    fontWeight: \"bold\",\r\n    backgroundColor: \"white\",\r\n    border: \".15mm solid black\",\r\n    height: \"25mm\",\r\n    margin: \"5mm\",\r\n  },\r\n  pageBody: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n    padding: \"5mm\",\r\n    paddingTop: \"1mm\",\r\n    paddingBottom: \"1mm\",\r\n    flexDirection: \"column\",\r\n  },\r\n  pageFooter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"5mm\",\r\n    marginTop: \"1mm\",\r\n    fontSize: \"3.3mm\",\r\n    textAlign: \"center\",\r\n  },\r\n};\r\n\r\nexport default class PrintDecharge extends React.Component {\r\n  render() {\r\n    const { decharge } = this.props;\r\n    const checklist = decharge?.restitition?.checklist\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.pageHeader}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"45mm\",\r\n            }}\r\n          >\r\n            <img style={{ width: \"40mm\" }} src={\"/logo.png\"} />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: \"5.5mm\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              SPA CONDOR LOGISTICS\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                textAlign: \"center\",\r\n                border: \".15mm solid black\",\r\n                fontSize: \"5mm\",\r\n              }}\r\n            >\r\n              <div>RESTITUTION (DECHARGE)</div>\r\n              <div>{`N°${decharge[\"decharges.id\"]} DL/${moment(decharge[\"decharges.date_decharge\"]).year()}`}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"space-around\",\r\n              textAlign: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"45mm\",\r\n            }}\r\n          >\r\n            <div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n\r\n          </div>\r\n        </div>\r\n        <div style={styles.pageBody}>\r\n          <div style={{ fontSize: \"6mm\", marginBottom: \"2mm\" }}>\r\n            <b>Client: </b> {decharge[\"clients.designation\"]} / {decharge[\"clients_mother_designation\"]}\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>\r\n              <b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n            </u>\r\n            <ul>\r\n              <li>\r\n                <b>Marque:</b> {decharge[\"cars.marque\"]}\r\n              </li>\r\n              <li>\r\n                <b>Matricule:</b> {decharge[\"cars.matricule\"]}\r\n              </li>\r\n              <li>\r\n                <b>Code GPS:</b> {decharge[\"cars.code_gps\"]}\r\n              </li>\r\n              <li>\r\n                <b>Odometre:</b> {checklist?.odometre}\r\n              </li>\r\n              <li>\r\n                <b>Nbs Clés de Véhicule:</b> {checklist.cle_vehicule}\r\n              </li>\r\n              <li>\r\n                <b>Niveau carburant:</b> {checklist.niveau_carburant}%\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div\r\n            style={{\r\n              marginTop: \"2mm\",\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>Je Soussigné Monsieur:</u>{\" \"}\r\n            <b>\r\n              {\" \"}\r\n              {decharge[\"drivers.firstname\"]?.toUpperCase() +\r\n                \" \" +\r\n                decharge[\"drivers.lastname\"]?.toUpperCase()}\r\n            </b>\r\n            , <u>N° TEL:</u> <b>{decharge[\"drivers.tel\"]}</b>\r\n            <br />\r\n            Reconnais avoir <u>restitué</u> ce jour{\" \"}\r\n            <b>{moment(decharge?.restitition?.date_restitition)?.format(\"D-M-yy\")}</b>:\r\n            <div\r\n              style={{\r\n                marginTop: \"4mm\",\r\n                fontSize: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              I - <u>Les documents ci-aprés:</u>\r\n            </div>\r\n            <div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n              {\" \"}\r\n              {console.dir(checklist)}\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"carte_grise\"\r\n                title=\"Carte grise\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"assurance\"\r\n                title=\"Assurance\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"assurance_marchandises\"\r\n                title=\"Assurance marchandises\"\r\n              />\r\n              <Document checklist={checklist} name=\"vignette\" title=\"Vignette\" />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"scanner\"\r\n                title=\"scanner\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"permis_circuler\"\r\n                title=\"Permis circuler\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"carnet_enter\"\r\n                title=\"carnet_enter\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"carte_gpl\"\r\n                title=\"carte_gpl\"\r\n              />\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginTop: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              II - <u>Les equipments ci-aprés:</u>\r\n            </div>\r\n            <div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"roue_secour\"\r\n                title=\"Roue de secours\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"cle_roue\"\r\n                title=\"clé Roue\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"gillet\"\r\n                title=\"Gillet\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"cric\"\r\n                title=\"Cric\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"poste_radio\"\r\n                title=\"Poste radio\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"extincteur\"\r\n                title=\"Extincteur\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"boite_pharm\"\r\n                title=\"Boite pharmacie\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"triangle\"\r\n                title=\"Triangle\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"pochette_cle\"\r\n                title=\"Pochette clés\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              border: \".2mm solid black\",\r\n              marginTop: \"2mm\",\r\n              padding: \"2mm\",\r\n              flex: 1,\r\n            }}\r\n          >\r\n            <u>\r\n              <b>Observations: </b>\r\n            </u>{\" \"}\r\n            {checklist[\"observation\"] ? checklist[\"checklists.observation\"] : \"/\"}<br />\r\n            <ul>\r\n              <li>\r\n                <b>Les Documents non restituer</b>:{\" \"}\r\n                {\r\n                  decharge.carte_grise === 1 &&\r\n                  checklist.carte_grise === 0 &&\r\n                  \"Carte grise, \"\r\n                }\r\n                {\r\n                  decharge.assurance === 1 &&\r\n                  checklist.assurance === 0 &&\r\n                  \"Assurance, \"\r\n                }\r\n                {\r\n                  decharge.assurance_marchandises === 1 &&\r\n                  checklist.assurance_marchandises === 0 &&\r\n                  \"Assurance, \"\r\n                }\r\n                {\r\n                  decharge.vignette === 1 &&\r\n                  checklist.vignette === 0 &&\r\n                  \"Vignatte, \"\r\n                }\r\n                {\r\n                  decharge.scanner === 1 &&\r\n                  checklist.scanner === 0 &&\r\n                  \"Scanner, \"\r\n                }\r\n                {\r\n                  decharge.permis_circuler === 1 &&\r\n                  checklist.permis_circuler === 0 &&\r\n                  \"Permis circuler, \"\r\n                }\r\n                {\r\n                  decharge.carnet_enter === 1 &&\r\n                  checklist.carnet_enter === 0 &&\r\n                  \"Carnet enter, \"\r\n                }\r\n                {\r\n                  decharge.carte_gpl === 1 &&\r\n                  checklist.carte_gpl === 0 &&\r\n                  \"Carte_gpl, \"\r\n                }\r\n\r\n\r\n              </li>\r\n              <li>\r\n                <b>Les Equipments non restituer</b>:{\" \"}\r\n                {\r\n                  decharge.roue_secour === 1 &&\r\n                  checklist.roue_secour === 0 &&\r\n                  \"Roue secour, \"\r\n                }\r\n                {\r\n                  decharge.cle_roue === 1 &&\r\n                  checklist.cle_roue === 0 &&\r\n                  \"Clé Roue, \"\r\n                }\r\n                {\r\n                  decharge.gillet === 1 &&\r\n                  checklist.gillet === 0 &&\r\n                  \"Gillet, \"\r\n                }\r\n                {\r\n                  decharge.cric === 1 &&\r\n                  checklist.cric === 0 &&\r\n                  \"Cric, \"\r\n                }\r\n                {\r\n                  decharge.poste_radio === 1 &&\r\n                  checklist.poste_radio === 0 &&\r\n                  \"Poste radio, \"\r\n                }\r\n                {\r\n                  decharge.extincteur === 1 &&\r\n                  checklist.extincteur === 0 &&\r\n                  \"Extincteur, \"\r\n                }\r\n                {\r\n                  decharge.boite_pharm === 1 &&\r\n                  checklist.boite_pharm === 0 &&\r\n                  \"Boite pharmacier, \"\r\n                }\r\n                {\r\n                  decharge.triangle === 1 &&\r\n                  checklist.triangle === 0 &&\r\n                  \"Triangle, \"\r\n                }\r\n                {\r\n                  decharge.pochette_cle === 1 &&\r\n                  checklist.pochette_cle === 0 &&\r\n                  \"Pochette des clés, \"\r\n                }\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.pageFooter}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              height: \"10mm\",\r\n              border: \".15mm solid black\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Administrative Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Bénéficiare</b>\r\n            </div>\r\n          </div>\r\n          <div style={{ display: \"flex\", flex: 1, minHeight: \"25mm\" }}>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n          </div>\r\n          <div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n            {\"username: \" + decharge[\"users.username\"]} |{\" \"}\r\n            {`Imprimer Le: ${moment().format(\"D-M-yy\")}`} | {\" \"}\r\n            {document.location.toString()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Document = ({ checklist, name, title }) => (\r\n\t<div style={{ margin: \"2mm\" }}>\r\n\t\t<input\r\n\t\t\tstyle={{ marginRight: \"2mm\" }}\r\n\t\t\tchecked={checklist[name] == true}\r\n\t\t\ttype=\"checkbox\"\r\n\t\t/>\r\n\t\t<b>{title}</b>\r\n\t</div>\r\n)","import React, { useRef } from \"react\"\r\nimport {\r\n  Button,\r\n  Popconfirm\r\n} from \"antd\"\r\nimport {\r\n  FaPrint,\r\n  FaTrashAlt\r\n} from \"react-icons/fa\"\r\nimport { useReactToPrint } from \"react-to-print\";\r\nexport default ({ component, onDelete, disabledDelete }) => {\r\n\r\n  const printComponent = useRef(null);\r\n  const handlePrintComponent = useReactToPrint({\r\n    content: () => printComponent.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Button icon={<FaPrint />} onClick={handlePrintComponent} />\r\n      <Popconfirm\r\n        title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n        onConfirm={onDelete}\r\n        onCancel={() => { }}\r\n        okText=\"Oui\"\r\n        cancelText=\"No\"\r\n        disabled={disabledDelete}\r\n      >\r\n        <Button icon={<FaTrashAlt />} disabled={disabledDelete} />\r\n\r\n      </Popconfirm>\r\n      {React.cloneElement(component, { ref: printComponent })}\r\n    </>\r\n  )\r\n}","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { message, Steps, Spin } from 'antd';\r\nimport * as moment from \"moment\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formDechargeItems, formCheckListItems } from \"./columns\"\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { mockComponent } from \"react-dom/test-utils\";\r\nconst { Step } = Steps;\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ step: 0 })\r\n  const [loading, setLoading] = useState(false)\r\n  const { params } = useRouteMatch()\r\n  const [dechargeData, setDechargeData] = useState(null)\r\n  const [loadingData, setLoadingData] = useState(true)\r\n  useEffect(() => {\r\n    api.get(\"/decharges/\" + params.id).then((res) => {\r\n      console.log(res.data)\r\n      setDechargeData(res.data.data)\r\n      setLoadingData(false)\r\n    })\r\n  }, [])\r\n\r\n  const decharge = (dataForm) => {\r\n    setLoading(true);\r\n    dataForm[\"date_decharge\"] = dataForm[\"date_decharge\"] ? dataForm[\"date_decharge\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    dataForm[\"date_fin_prestation\"] = dataForm[\"date_fin_prestation\"] ? dataForm[\"date_fin_prestation\"].format(\"yy-M-D\") : null\r\n    dataForm[\"date_checklist\"] = dataForm[\"date_checklist\"] ? dataForm[\"date_checklist\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    api.put(\"/decharges/\" + params.id, dataForm).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/decharges/\")\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n\r\n  const checklist = (dataForm) => {\r\n    const postData = {\r\n      ...allData.data,\r\n      ...dataForm\r\n    }\r\n\r\n    api.put(\"/decharges/\" + params.id, postData).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/decharges/show/\" + res.data.data.id)\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n\r\n  }\r\n\r\n  const printDecharge = useRef(null);\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  if (loadingData || !dechargeData) {\r\n    return (\r\n      <Page title=\"Chargement ...\" withBack={true} >\r\n        <div style={{ marginTop: 40, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n          <Spin size=\"large\" />\r\n        </div>\r\n      </Page>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Page withBack={true} title={\"Modifier Décharge N°(\" + params.id + \") | Véhicule: \" + dechargeData[\"cars.matricule\"]}>\r\n      <FormBuilder\r\n        loading={loading}\r\n        formItems={[\r\n          {\r\n            name: \"client_id\",\r\n            label: \"Client\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"clients/search\",\r\n            defaultOptionName: \"client\",\r\n            mapOptionToString: c => c?.designation\r\n          },\r\n          {\r\n            name: \"car_id\",\r\n            label: \"Véhicule\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"cars/search\",\r\n            defaultOptionName: \"car\",\r\n            mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n          },\r\n          {\r\n            name: \"date_decharge\",\r\n            label: \"Date décharge\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            type: \"date\",\r\n          },\r\n          {\r\n            name: \"date_fin_prestation\",\r\n            label: \"Date fin prestation\",\r\n            type: \"date\",\r\n            disabledDate: (current, form) => current && current < form.getFieldValue(\"date_decharge\")\r\n          },\r\n          {\r\n            name: \"date_checklist\",\r\n            label: \"Date checklist\",\r\n            type: \"date\",\r\n            disabledDate: (current, form) => current && current < moment(allData.data.date_decharge)\r\n          },\r\n          {\r\n            name: \"driver_id\",\r\n            label: \"Conducteur\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"drivers/search\",\r\n            defaultOptionName: \"driver\",\r\n            mapOptionToString: c => c?.firstname + \" \" + c.lastname\r\n          },\r\n          {\r\n            name: \"niveau_carburant\",\r\n            label: \"Niveau carburant\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            type: \"progress\",\r\n          },\r\n          {\r\n            name: \"odometre\",\r\n            label: \"Odometre\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            type: \"integer\",\r\n            inputProp: {\r\n              suffix: \"KM\"\r\n            }\r\n          },\r\n          {\r\n            name: \"starts\",\r\n            label: \"Etat de véhicule\",\r\n            type: \"rate\",\r\n          },\r\n          {\r\n            name: \"cle_vehicule\",\r\n            label: \"Nbs clés véhicule\",\r\n            type: \"integer\",\r\n            inputProp: {\r\n              suffix: \"Clé(s)\"\r\n            }\r\n          },\r\n          {\r\n            name: \"carte_grise\",\r\n            label: \"Carte grise\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"assurance\",\r\n            label: \"Assurance\",\r\n            type: \"checkbox\",\r\n          },\r\n          ,\r\n          {\r\n            name: \"assurance_marchandises\",\r\n            label: \"Assurance marchandises\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"scanner\",\r\n            label: \"Scanner\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"permis_circuler\",\r\n            label: \"Permis circuler\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"carnet_enter\",\r\n            label: \"Carnet entretien\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"vignette\",\r\n            label: \"Vignette\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"carte_gpl\",\r\n            label: \"Carte GPL\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"gillet\",\r\n            label: \"Gillet\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"roue_secour\",\r\n            label: \"Roue secour\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"cric\",\r\n            label: \"Cric\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"cle_roue\",\r\n            label: \"Cle roue\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"poste_radio\",\r\n            label: \"Poste radio\",\r\n            type: \"checkbox\",\r\n          },\r\n\r\n          {\r\n            name: \"extincteur\",\r\n            label: \"Extincteur\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"boite_pharm\",\r\n            label: \"Boite pharmacie\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"triangle\",\r\n            label: \"Triangle de présignalisation\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"pochette_cle\",\r\n            label: \"Pochette des clés\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"observation_checklist\",\r\n            label: \"observation\",\r\n            type: \"textarea\",\r\n          }\r\n        ]}\r\n        onFinish={decharge}\r\n        initialValues={\r\n          {\r\n            client_id: dechargeData[\"client_id\"],\r\n            client: dechargeData[\"client\"],\r\n            car_id: dechargeData[\"car_id\"],\r\n            car: dechargeData[\"car\"],\r\n            driver_id: dechargeData[\"driver_id\"],\r\n            driver: dechargeData[\"driver\"],\r\n            date_decharge: moment(dechargeData[\"decharges.date_decharge\"]),\r\n            date_checklist: moment(dechargeData[\"date_checklist\"]),\r\n            assurance: dechargeData.assurance,\r\n            assurance_marchandises: dechargeData.assurance_marchandises,\r\n            boite_pharm: dechargeData.boite_pharm,\r\n            carnet_enter: dechargeData.carnet_enter,\r\n            carte_gpl: dechargeData.carte_gpl,\r\n            carte_grise: dechargeData.carte_grise,\r\n            cle_roue: dechargeData.cle_roue,\r\n            cle_vehicule: dechargeData.cle_vehicule,\r\n            cric: dechargeData.cric,\r\n            extincteur: dechargeData.extincteur,\r\n            gillet: dechargeData.gillet,\r\n            niveau_carburant: dechargeData.niveau_carburant,\r\n            odometre: dechargeData.odometre,\r\n            permis_circuler: dechargeData.permis_circuler,\r\n            pochette_cle: dechargeData.pochette_cle,\r\n            poste_radio: dechargeData.poste_radio,\r\n            roue_secour: dechargeData.roue_secour,\r\n            scanner: dechargeData.scanner,\r\n            starts: dechargeData.starts,\r\n            triangle: dechargeData.triangle,\r\n            vignette: dechargeData.vignette,\r\n            observation_checklist: dechargeData[\"observation_checklist\"],\r\n          }\r\n        }\r\n      />\r\n    </Page >\r\n  )\r\n}","import React, { useRef, useState } from \"react\"\r\nimport { Select, Spin } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\nimport { useAppStore } from \"stores\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nexport default ({ url, query_string, mapOptionToString, mapOptionToKey, placeholder, onChange, style, defaultOption, disabled }) => {\r\n  const [fetching, setFetching] = useState(false)\r\n  const [data, setData] = useState([])\r\n  const [value, setValue] = useState([])\r\n  const [lastFetchId, setLastFetchId] = useState(0)\r\n  const { api, user } = useAppStore()\r\n  window.data = data\r\n  const fetchData = value => {\r\n    console.log('fetching data', value);\r\n    //lastFetchId += 1;\r\n    setLastFetchId(lastFetchId + 1)\r\n    const fetchId = lastFetchId;\r\n    setData([])\r\n    setFetching(true)\r\n    api.get(url + \"?data=\" + value)\r\n      .then(res => {\r\n        if (fetchId !== lastFetchId) {\r\n          // for fetch callback order\r\n          return;\r\n        }\r\n        const data = res.data.data.map(option => ({\r\n          text: mapOptionToString(option),\r\n          value: mapOptionToKey(option),\r\n        }));\r\n        setData(data)\r\n        setFetching(false)\r\n      });\r\n  };\r\n\r\n  const handleChange = value => {\r\n    setData([])\r\n    setValue(value)\r\n    setFetching(false)\r\n    onChange(value)\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      mode=\"multiple\"\r\n      labelInValue\r\n      value={value}\r\n      placeholder={placeholder}\r\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\r\n      filterOption={false}\r\n      onSearch={fetchData}\r\n      onChange={handleChange}\r\n      style={style}\r\n    >\r\n      {data.map((d, i) => (\r\n        <Option key={i}>{d.text}</Option>\r\n      ))}\r\n    </Select>\r\n  );\r\n\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { Button, message, Transfer, Form, Skeleton } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nimport SearchInput from \"components/SearchInput\";\r\nimport { groupBy } from \"lodash\";\r\n\r\nconst mockData = [];\r\nfor (let i = 0; i < 20; i++) {\r\n  mockData.push({\r\n    key: i.toString(),\r\n    matricule: `content${i + 1}`,\r\n    description: `description of content${i + 1}`,\r\n  });\r\n}\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  window.api = api\r\n  const [roles, setRoles] = useState([])\r\n  const [data, setData] = useState({\r\n    user_id: null,\r\n    roles_id: [],\r\n    loadingRoles: true,\r\n    loadingUserRoles: false,\r\n  })\r\n  const [selectedKeys, setSelectedKey] = useState([])\r\n  window.data = data\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  };\r\n  const formTailLayout = {\r\n  };\r\n\r\n  const affecte = () => {\r\n    if (data.user_id && data.roles_id) {\r\n      api.post(\"/auth/users/roles\", {\r\n        user_id: data.user_id,\r\n        roles_id: data.roles_id\r\n      }).then((res) => {\r\n        message.info(\"Bien ajouter\")\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"roles\").then(({ data }) => {\r\n      const _roles = data.data.map(role => ({ ...role, key: role.id }))\r\n      setData({ ...data, loadingRoles: false })\r\n      setRoles(_roles)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (data.user_id) {\r\n      setData({ ...data, loadingUserRoles: true })\r\n      api.get(\"auth/users/\" + data.user_id + \"/roles/\").then((res) => {\r\n        const roles_id = res.data.data.map(c => c.id)\r\n        setData({ ...data, roles_id, loadingUserRoles: false })\r\n      })\r\n    }\r\n  }, [data.user_id])\r\n\r\n  const handleChange = (nextTargetKeys, direction, moveKeys) => {\r\n    setData({ ...data, roles_id: nextTargetKeys })\r\n  };\r\n\r\n  const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n    setSelectedKey([...sourceSelectedKeys, ...targetSelectedKeys])\r\n  };\r\n\r\n\r\n  return (\r\n    <Page title=\"Affecté des vehicules au utilisateur\" selectedSiderKey=\"user-roles-users\">\r\n      <Form\r\n        {...formItemLayout}\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        onFinish={affecte}\r\n      >\r\n\r\n        <Form.Item label={\"Utilisateur\"} name={\"user_id\"}>\r\n          <SearchInput\r\n            url=\"auth/users/search\"\r\n            style={{ width: 200 }}\r\n            mapOptionToString={c => c.firstname + \" \" + c.lastname}\r\n            onSelect={(value, option) => {\r\n              setData({ ...data, user_id: option.id })\r\n            }}\r\n            onChange={(value, option) => {\r\n              if (option) {\r\n                setData({ ...data, user_id: option.id })\r\n              } else {\r\n                setData({ ...data, user_id: null })\r\n              }\r\n            }}\r\n            placeholder=\"Rechercher un utilisateur ...\"\r\n          />\r\n        </Form.Item>\r\n\r\n        {data.user_id && (() => {\r\n          if (data.loadingRoles || data.loadingUserRoles) {\r\n            return <Skeleton />\r\n          } else {\r\n            return <Form.Item label={\"Roles affecté\"} name={\"rolesId\"}>\r\n              <Transfer\r\n                showSearch={true}\r\n                dataSource={roles}\r\n                titles={['Tout', 'Affecté']}\r\n                targetKeys={data.roles_id}\r\n                selectedKeys={selectedKeys}\r\n                onChange={handleChange}\r\n                onSelectChange={handleSelectChange}\r\n                render={item => item.name}\r\n                style={{ marginBottom: 16 }}\r\n                listStyle={{\r\n                  minWidth: 250,\r\n                  height: 300,\r\n                }}\r\n                disabled={false}\r\n              />\r\n            </Form.Item>\r\n          }\r\n        })()}\r\n\r\n\r\n        <Form.Item {...formTailLayout} >\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Envoyer\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Page>\r\n  )\r\n}","import { _prop, _postes, _carGenre, _messages } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"code\",\r\n    label: \"Code (SAP)\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"designation\",\r\n    label: \"Designation\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"localite\",\r\n    label: \"Localité\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"TEL\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"client_id\",\r\n    label: \"Client hiérarchique\",\r\n    type: \"search\",\r\n    url: \"clients/search\",\r\n    defaultOptionName: \"client\",\r\n    mapOptionToString: c => c?.designation\r\n  },\r\n]","import React from \"react\"\r\nimport {\r\n\tSelect,\r\n\tSpin\r\n} from \"antd\"\r\n\r\nimport { useAppStore } from \"stores\"\r\nexport default ({ mission }) => {\r\n\tconst [state, setState] = React.useState(mission.missionvls_state)\r\n\tconst [loading, setLoading] = React.useState(false)\r\n\tconst { api, user } = useAppStore()\r\n\r\n\tconst _onChange = (value) => {\r\n\t\tsetLoading(true)\r\n\t\tapi.post(\"/missionvls/change_state/\" + mission.id, { state: value })\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetState(value)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t}\r\n\tif (loading) {\r\n\t\treturn <Spin />\r\n\t}\r\n\treturn (\r\n\t\t<Select onChange={_onChange} style={{ width: 120 }} placeholder=\"Selectioné\" defaultValue={state} >\r\n\t\t\t<Select.Option value={\"EN ATTENTE\"}>EN ATTENTE</Select.Option>\r\n\t\t\t<Select.Option value={\"EN COURS\"}>EN COURS</Select.Option>\r\n\t\t\t<Select.Option value={\"ANNULE\"}>ANNULE</Select.Option>\r\n\t\t\t<Select.Option value={\"FIN MISSION\"}>FIN MISSION</Select.Option>\r\n\t\t</Select >\r\n\t)\r\n}","import React, { useState } from 'react';\r\nimport { Drawer, Button , Tooltip} from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default () => {\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Calcule GPS\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<GiGps />} />\r\n\t\t\t</Tooltip>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Basic Drawer\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t>\r\n\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t<p>Some contents...</p>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};","export default __webpack_public_path__ + \"static/media/decompte.9043e45b.png\";","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport decompte from \"./decompte.png\"\r\nconst styles = {\r\n\thide: { display: \"none\" },\r\n\tpage: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\twidth: \"210mm\",\r\n\t\theight: \"297mm\",\r\n\t\tfontSize: \"4mm\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tborder: \"none\",\r\n\t\tcolor: \"black\",\r\n\t},\r\n\tpageHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tborder: \".15mm solid black\",\r\n\t\theight: \"25mm\",\r\n\t\tmargin: \"5mm\",\r\n\t},\r\n\tpageBody: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: \"white\",\r\n\t\tpadding: \"5mm\",\r\n\t\tpaddingTop: \"1mm\",\r\n\t\tpaddingBottom: \"1mm\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tpageFooter: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmargin: \"5mm\",\r\n\t\tmarginTop: \"1mm\",\r\n\t\tfontSize: \"3.3mm\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n};\r\n\r\nexport default class PrintMission extends React.Component {\r\n\trender() {\r\n\t\tconst { mission } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div style={styles.page}>\r\n\t\t\t\t\t<div style={styles.pageHeader}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img style={{ width: \"40mm\" }} src={\"/logo.png\"} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tfontSize: \"5.5mm\",\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSPA CONDOR LOGISTICS\r\n            </div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div>ORDRE DE MISSION</div>\r\n\t\t\t\t\t\t\t\t<div>{`N°${mission[\"id\"]} M/${moment(mission[\"date_depart_mission\"]).year()}`}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={styles.pageBody}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Mission: </b>\r\n\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>N° Demande(commande):</b> {mission.numero ? mission.numero : \"/\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Destination:</b> <u style={{ fontSize: \"6mm\" }}>{mission.destinations}</u>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Client:</b> <u>{mission.client.designation}</u>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Date de Départ:</b> {moment(mission.date_depart_mission).format(\"DD-MM-Y\")}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Date de Retour:</b> {mission.date_arrivee_mission ? moment(mission.date_arrivee_mission).format(\"DD-MM-Y\") : \"/\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"1mm\"\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Code GPS:</b> {mission.car.code_gps}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Marque:</b> {mission.car.marque}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Matricule:</b> {mission.car.matricule}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmission?.remourque?.matricule &&\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<b>Remorque:</b> {mission.remourque.matricule}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"1mm\"\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Conducteurs: </b>\r\n\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t{mission.driver1.firstname.toUpperCase() + \" \" + mission.driver1.lastname.toUpperCase() + \", C/P : \" + mission.driver1.code_paie}\r\n\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmission.driver2 &&\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t{mission.driver2.firstname.toUpperCase() + \" \" + mission.driver2.lastname.toUpperCase() + \", C/P : \" + mission.driver2.code_paie}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tborder: \".2mm solid black\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"2mm\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"5mm\" }}>Observation: </b>\r\n\t\t\t\t\t\t\t</u>{\" \"}\r\n\t\t\t\t\t\t\t{mission.observation ? mission.observation : \"/\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div style={styles.pageFooter}>\r\n\t\t\t\t\t\t<div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n\t\t\t\t\t\t\t{`Imprimer Le: ${moment().format(\"D-M-yy\")}`} | {\" \"}\r\n\t\t\t\t\t\t\t{document.location.toString()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: \"210mm\",\r\n\t\t\t\t\t\theight: \"297mm\",\r\n\t\t\t\t\t\tfontSize: \"4mm\",\r\n\t\t\t\t\t\tbackgroundColor: \"white\",\r\n\t\t\t\t\t\tborder: \"none\",\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\ttextAlign: \"center\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}>\r\n\t\t\t\t\t<img style={{ width: \"100%\" }} src={decompte} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Document = ({ checklist, name, title }) => {\r\n\tif (checklist[name] == true) {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: \"2mm\" }}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tstyle={{ marginRight: \"2mm\" }}\r\n\t\t\t\t\tchecked={checklist[name] == true}\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t/>\r\n\t\t\t\t<b>{title}</b>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <></>;\r\n\t}\r\n};\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Slog\",\r\n\t\t\tdataIndex: \"slog\",\r\n\t\t\tsorter: true,\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des axes stratigique\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_axes\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"processu_ids\"] = dataForm[\"processu_ids\"].map(o => o.id)\r\n\t\tapi.post(\"/smi_objectifs\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Nouvel élément\">\r\n\t\t\t\t<Button onClick={showDrawer} icon={<PlusOutlined />}>Nouvel élément</Button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Objectif opérationnel\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\r\n\t\t\t\t<FormBuilder\r\n\t\t\t\t\tfull\r\n\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\tlabel: \"intitulé\",\r\n\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"axe_id\",\r\n\t\t\t\t\t\t\tlabel: \"Axe\",\r\n\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\turl: \"smi_axes/search\",\r\n\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\tdefaultOptionName: \"axe\",\r\n\t\t\t\t\t\t\tmapOptionToString: c => c?.slog + \" | \" + c?.name\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"processu_ids\",\r\n\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\ttype: \"debounceSelect\",\r\n\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tinitialValues={{\r\n\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonFinish={add}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Axe\",\r\n\t\t\tdataIndex: \"axe.slog\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.axe?.slog\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tlet pTexts = \"\"\r\n\t\t\t\trow?.processus.map(p => {\r\n\t\t\t\t\tpTexts += p.slog + \", \"\r\n\t\t\t\t})\r\n\t\t\t\treturn pTexts\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_OBJECTIF_OP\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_objectifs/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des objectifs opérationnels\">\r\n\t\t\t{\r\n\t\t\t\thasRole(user, \"AJOUTER_OBJECTIF_OP\") &&\r\n\t\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t\t<AddObjetif />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_objectis\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Slog\",\r\n\t\t\tdataIndex: \"slog\",\r\n\t\t\tsorter: true,\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des processus\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_processus\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default ({ reload }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"type\"] = dataForm[\"type\"] ? 1 : 0\r\n\t\tdataForm[\"domaine\"] = \"qualite\"\r\n\t\tapi.post(\"/smi_indicateurs\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); reload() })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Nouvel élément\">\r\n\t\t\t\t<Button onClick={showDrawer} icon={<PlusOutlined />}>Ajouter</Button>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle=\"Indicateur\"\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={420}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\tlabel: \"intitulé\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"objectif_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Objectif operationnel\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_objectifs/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"objectif\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.name\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"processu_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"domaine\",\r\n\t\t\t\t\t\t\t\tlabel: \"Domaine\",\r\n\t\t\t\t\t\t\t\ttype: \"selectmultipless\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Qualité\", value: \"qualite\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Environnement\", value: \"environnement\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Santé & Securité\", value: \"sante\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\tlabel: \"Description\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"type\",\r\n\t\t\t\t\t\t\t\tlabel: \"intra processus\",\r\n\t\t\t\t\t\t\t\ttype: \"boolean\",\r\n\t\t\t\t\t\t\t\tunCheckedChildren: \"Intra processus\",\r\n\t\t\t\t\t\t\t\tcheckedChildren: \"Exta processus\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"mesure\",\r\n\t\t\t\t\t\t\t\tlabel: \"Unité de mesure\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Heures\", value: \"heures\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Jours\", value: \"jours\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Nombre\", value: \"nombre\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Dinars\", value: \"dinars\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"%\", value: \"%\" }\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"seuil\",\r\n\t\t\t\t\t\t\t\tlabel: \"Critère de performance\",\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"indicateur_sueil\",\r\n\t\t\t\t\t\t\t\tlabel: \"Sens indicateur / Critère de performance\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \">\", value: \">\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"=\", value: \"=\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"<\", value: \"<\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"methode_calcul\",\r\n\t\t\t\t\t\t\t\tlabel: \"Méthode de calcul\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"frequence\",\r\n\t\t\t\t\t\t\t\tlabel: \"Frequence\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Journalier\", value: \"day\" },\r\n\t\t\t\t\t\t\t\t\t//\t\t\t\t\t\t\t\t{ label: \"Hebdomadaire\", value: \"week\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Mensuelle\", value: \"month\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Trimestriel\", value: \"quarter\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Annuel\", value: \"year\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"mode_calcul\",\r\n\t\t\t\t\t\t\t\tlabel: \"Mode Calcul\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Somme\", value: \"somme\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Moyene\", value: \"moyene\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Resultat comulé\", value: \"comule\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default ({ title, reload, indicateur_id, frequence }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tif (!dataForm[\"date\"]) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tdataForm[\"indicateur_id\"] = indicateur_id\r\n\t\tif (frequence == \"day\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].format(\"yy-M-D\"),\r\n\t\t\t\ttype: \"day\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"week\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].week(),\r\n\t\t\t\ttype: \"week\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"month\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].month(),\r\n\t\t\t\ttype: \"month\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"quarter\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].quarter(),\r\n\t\t\t\ttype: \"quarter\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"year\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].year(),\r\n\t\t\t\ttype: \"year\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tdataForm[\"date\"] = JSON.stringify(dataForm[\"date\"])\r\n\t\tapi.post(\"/smi_indicateurs/create_valeur\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); reload() })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\r\n\tlet type = \"date\"\r\n\tif (frequence == \"week\") {\r\n\t\ttype = \"date_picker_week\"\r\n\t}\r\n\tif (frequence == \"month\") {\r\n\t\ttype = \"date_picker_month\"\r\n\t}\r\n\tif (frequence == \"quarter\") {\r\n\t\ttype = \"date_picker_quarter\"\r\n\t}\r\n\tif (frequence == \"year\") {\r\n\t\ttype = \"date_picker_year\"\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Ajouter une valeur\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<PlusOutlined />}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={420}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date\",\r\n\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"valeur\",\r\n\t\t\t\t\t\t\t\tlabel: \"Valeur\",\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"comment\",\r\n\t\t\t\t\t\t\t\tlabel: \"Commentaire\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React from \"react\"\r\nimport {\r\n\tPopover,\r\n\tTypography,\r\n\tSpace,\r\n\tDescriptions\r\n} from \"antd\"\r\n\r\nconst Text = Typography.Text\r\nexport default ({ indicateur, children }) => {\r\n\treturn (\r\n\t\t<Popover placement=\"topRight\" content={\r\n\t\t\t<Descriptions  bordered>\r\n\t\t\t\t{[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Description\",\r\n\t\t\t\t\t\tdescription: indicateur.description\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Methode de calcul\",\r\n\t\t\t\t\t\tdescription: indicateur.methode_calcul\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Mode de calcul\",\r\n\t\t\t\t\t\tdescription: indicateur.mode_calcul\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Domaine\",\r\n\t\t\t\t\t\tdescription: indicateur.domaine\r\n\t\t\t\t\t}\r\n\t\t\t\t].map((i) => (\r\n\t\t\t\t\t<Descriptions.Item span={3} label={i.title}>{i.description}</Descriptions.Item>\r\n\t\t\t\t))}\r\n\t\t\t</Descriptions>\r\n\r\n\t\t}\r\n\t\t trigger=\"click\"\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Popover>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport moment from 'moment';\r\n\r\nexport default ({ reload, addButton, indicateurv_id }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"indicateurv_id\"] = indicateurv_id\r\n\t\tdataForm[\"domaine\"] = JSON.stringify(dataForm[\"domaine\"])\r\n\t\tdataForm[\"date_prevu\"] = dataForm[\"date_prevu\"] ? dataForm[\"date_prevu\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdataForm[\"date\"] = dataForm[\"date\"] ? dataForm[\"date\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tapi.post(\"/smi_conformites\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); reload() })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Ajouter non-conformité\">\r\n\t\t\t\t{\r\n\t\t\t\t\taddButton &&\r\n\t\t\t\t\taddButton(showDrawer)\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\t!addButton &&\r\n\t\t\t\t\t<Button onClick={showDrawer} icon={<PlusOutlined />}>Ajouter</Button>\r\n\t\t\t\t}\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle=\"Non Conformité\"\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={420}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\tlabel: \"intitulé\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"nature\",\r\n\t\t\t\t\t\t\t\tlabel: \"Nature de la non-conformité\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Produit/service acheté\", value: \"Produit/service achete\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Reclamation client\", value: \"Reclamation client\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Plainte\", value: \"Plainte\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Accident/incident\", value: \"Accident/incident\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Impact environnemental\", value: \"Impact environnemental\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Non atteinte d'un objectif\", value: \"Non atteinte d'un objectif\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Inspection\", value: \"Inspection\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Règlementation\", value: \"Reglementation\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Autres\", value: \"Autres\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"nature_label\",\r\n\t\t\t\t\t\t\t\tlabel: \"Libellé de la nature\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date non-conformité\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\tlabel: \"Description\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"processu_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"domaine\",\r\n\t\t\t\t\t\t\t\tlabel: \"Domaine\",\r\n\t\t\t\t\t\t\t\ttype: \"selectmultiple\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Qualité\", value: \"qualite\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Environnement\", value: \"environnement\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Santé & Securité\", value: \"sante\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date_prevu\",\r\n\t\t\t\t\t\t\t\tlabel: \"Délais prévu\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t\t//disabledDate: (current, form) => current && current < form.getFieldValue(\"date\"),\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tdate: moment(),\r\n\t\t\t\t\t\t\tdate_prevu: moment()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select, Tag } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tInfoOutlined,\r\n\tCheckCircleTwoTone,\r\n\tCloseCircleTwoTone\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole, getIndicateurEcart } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\nimport AddIndicateur from \"./components/AddIndicateur\";\r\nimport AddIndicateurv from \"./components/AddIndicateurv\";\r\nimport HistoryIndicateurv from \"./components/HistoryIndicateurv\";\r\nimport { indicateurCastDate, indicateurCastTypeDate, listProcessus } from \"utils\"\r\nimport IndicateurInfo from \"./components/IndicateurInfo\";\r\nimport AddNonConformite from \"./components/AddNonConformite\";\r\nconst months = [\r\n\t\"JAN\",\r\n\t\"FEV\",\r\n\t\"MAR\",\r\n\t\"AVR\",\r\n\t\"MAI\",\r\n\t\"JUN\",\r\n\t\"JUI\",\r\n\t\"AOUT\",\r\n\t\"SEP\",\r\n\t\"OCT\",\r\n\t\"NOV\",\r\n\t\"DEC\"\r\n]\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst [processusId, setProcessusId] = React.useState(1)\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.processu?.slog\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Objectif\",\r\n\t\t\tdataIndex: \"objectif\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.objectif?.name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Indicateur\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: false,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Critère de performance\",\r\n\t\t\tdataIndex: \"seuil\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.indicateur_sueil + \" à \" + row?.seuil + \" \" + row?.mesure\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Fréquence\",\r\n\t\t\tdataIndex: \"frequence\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn indicateurCastTypeDate(row.frequence)\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Résultat\",\r\n\t\t\tdataIndex: \"valeur\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.valeurs?.length !== 0) {\r\n\t\t\t\t\treturn row?.valeurs[row.valeurs?.length - 1].valeur + \" \" + row?.mesure\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"-\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Ecart\",\r\n\t\t\tdataIndex: \"valeur\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tlet ecart = getIndicateurEcart(row);\r\n\t\t\t\tif (!ecart) {\r\n\t\t\t\t\treturn \"Acucun valeur\"\r\n\t\t\t\t}\r\n\t\t\t\tecart = ecart.toFixed(2)\r\n\t\t\t\tif (ecart > 0) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button type=\"text\" block={true} title={ecart} icon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />} >{\" \" + ecart}</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<AddNonConformite\r\n\t\t\t\t\t\t\tindicateurv_id={row?.valeurs[row.valeurs?.length - 1].id}\r\n\t\t\t\t\t\t\treload={() => { }}\r\n\t\t\t\t\t\t\taddButton={(onClick) => (<Button onClick={onClick} type=\"text\" block={true} title={ecart} icon={<CloseCircleTwoTone twoToneColor=\"#ff5722\" />} >{\" \" + ecart}</Button>)} />\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: \"Date de la valeur\",\r\n\t\t\tdataIndex: \"date\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.valeurs?.length !== 0) {\r\n\t\t\t\t\treturn indicateurCastDate(row?.valeurs[row.valeurs?.length - 1].date)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"-\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<IndicateurInfo indicateur={row} ><Button shape=\"circle\" icon={<InfoOutlined />} /></IndicateurInfo>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"AJOUTER_VALEUR_INDICATEUR\") &&\r\n\t\t\t\t\t\t<AddIndicateurv reload={() => action.reload()} title={row.name} frequence={row.frequence} indicateur_id={row.id} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t//<HistoryIndicateurv reload={() => action.reload()} mesure={row?.mesure} indicateur_id={row.id} valeurs={row?.valeurs} title={\"Historique des valeurs\"} />,\r\n\t\t\t\t<Tooltip title=\"Historique des valeurs\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => history.push(\"/smi/qualite/indicateurs/\" + row.id)}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<HistoryOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_INDICATEUR\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_indicateurs/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Indicateurs & valeurs\">\r\n\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t{\r\n\t\t\t\t\thasRole(user, \"AJOUTER_INDICATEUR\") &&\r\n\t\t\t\t\t<AddIndicateur reload={() => actionRef.current.reload()} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"processu_id\"] = processusId\r\n\t\t\t\t\treturn api.get(\"/smi_indicateurs\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select defaultValue={1} style={{ width: 220 }} onChange={(value) => {\r\n\t\t\t\t\t\t\tsetProcessusId(value);\r\n\t\t\t\t\t\t\taction.reload();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{listProcessus.map(p => (\r\n\t\t\t\t\t\t\t\t<Select.Option value={p.id}>{p.value}</Select.Option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React from 'react';\r\nimport { Line } from '@ant-design/charts';\r\nimport { indicateurCastDate } from \"utils\"\r\nexport default ({ valeurs }) => {\r\n\tconst [data, setData] = React.useState([])\r\n\tReact.useEffect(() => {\r\n\t\tconst d = valeurs?.map((v) => {\r\n\t\t\treturn {\r\n\t\t\t\tyear: indicateurCastDate(v.date),\r\n\t\t\t\tvalue: v?.valeur\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetData(d)\r\n\t}, [valeurs])\r\n\r\n\treturn <Line\r\n\t\txField='year'\r\n\t\tyField='value'\r\n\t\tpoint={{\r\n\t\t\tsize: 5,\r\n\t\t\tshape: 'diamond',\r\n\t\t}}\r\n\t\tdata={data}\r\n\t/>;\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { Gauge, Liquid, measureTextWidth } from '@ant-design/charts';\r\nimport { Card, Spin } from 'antd';\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport Text from 'antd/lib/typography/Text';\r\nimport { CaretUpOutlined, CaretDownOutlined, MinusOutlined } from \"@ant-design/icons\"\r\nexport default ({ lastValeur, beforeLastValeur, indicateur, loading }) => {\r\n\tvar config = {\r\n\t\tpercent: lastValeur?.valeur / 100,\r\n\t\trange: {\r\n\t\t\tticks: [0, 1 / 3, 2 / 3, 1],\r\n\t\t\tcolor: indicateur.indicateur_sueil == \"<\" ? ['#30BF78', '#FAAD14', '#F4664A'] : ['#F4664A', '#FAAD14', '#30BF78'],\r\n\t\t},\r\n\t\tindicator: {\r\n\t\t\tpointer: { style: { stroke: '#D0D0D0' } },\r\n\t\t\tpin: { style: { stroke: '#D0D0D0' } },\r\n\t\t},\r\n\t\tstatistic: {\r\n\t\t\tcontent: {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tfontSize: '20px',\r\n\t\t\t\t\tlineHeight: '20px',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Card title={indicateur.name} style={{ width: 250, height: 250 }} >\r\n\t\t\t\t<Spin style={{ alignSelf: \"center\" }} />\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\tif (!lastValeur) {\r\n\t\treturn (\r\n\t\t\t<Card title={indicateur.name} style={{ width: 250, height: 250 }} >\r\n\t\t\t\tAucun valeur trouver\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<Card title={indicateur.name} style={{width: 250, height: 250, }} >\r\n\t\t\t<Gauge height={150} width={150} {...config} />\r\n\t\t\t<Card.Meta\r\n\t\t\t\ttitle={<a>{indicateurCastDate(lastValeur.date)}</a>}\r\n\t\t\t\tdescription={\r\n\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n\t\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t\t{`Seuil: ${indicateur.seuil} ${indicateur.mesure}  |  ${indicateurCastTypeDate(JSON.parse(lastValeur.date).type)}`}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbeforeLastValeur &&\r\n\t\t\t\t\t\t\t<div style={{ color: (lastValeur.valeur - beforeLastValeur.valeur) >= 0 ? \"green\" : \"red\" }}>\r\n\t\t\t\t\t\t\t\t<Text style={{ color: (lastValeur.valeur - beforeLastValeur.valeur) >= 0 ? \"green\" : \"red\" }}>{Math.abs(lastValeur.valeur - beforeLastValeur.valeur)} {indicateur.mesure} </Text>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t(lastValeur.valeur - beforeLastValeur.valeur) > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<CaretUpOutlined />\r\n\t\t\t\t\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t\t\t\t\t(lastValeur.valeur - beforeLastValeur.valeur) == 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MinusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t: <CaretDownOutlined />\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t);\r\n};","import React from \"react\"\r\nimport { useAppStore } from \"stores\";\r\nimport {\r\n\tTag,\r\n\tmessage,\r\n\tPopconfirm,\r\n\tButton,\r\n\tDivider,\r\n\tStatistic,\r\n\tCard,\r\n\tRow,\r\n\tCol,\r\n\tSpin,\r\n\tTypography,\r\n\tCollapse\r\n} from \"antd\"\r\n\r\nimport {\r\n\tArrowUpOutlined,\r\n\tArrowDownOutlined\r\n} from \"@ant-design/icons\"\r\nimport IndicateursvChart from \"./components/IndicateursvChart\";\r\nimport GaugeIndicateur from \"./components/GaugeIndicateur\";\r\nimport Page from \"components/Page\";\r\n\r\nconst { Panel } = Collapse;\r\n\r\nconst Indicateur = ({ indicateur }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [loading, setLoading] = React.useState(true)\r\n\tconst [valeurs, setValeurs] = React.useState([])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tapi.get(\"smi_indicateurs/\" + indicateur.id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetValeurs(res?.data?.data?.data)\r\n\t\t\t\t//console.log(res.data.data.data)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t}, [indicateur])\r\n\r\n\tlet lastValeur = null\r\n\tif (valeurs?.length >= 1) {\r\n\t\tlastValeur = valeurs[valeurs?.length - 1]\r\n\t}\r\n\tlet beforeLastValeur = null\r\n\tif (valeurs?.length >= 2) {\r\n\t\tbeforeLastValeur = valeurs[valeurs?.length - 2]\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Page >\r\n\t\t\t<GaugeIndicateur loading={loading} beforeLastValeur={beforeLastValeur} lastValeur={lastValeur} indicateur={indicateur} />\r\n\t\t</Page>\r\n\t)\r\n}\r\n\r\nconst Processu = ({ p }) => {\r\n\treturn (\r\n\t\t<Row gutter={18}>\r\n\r\n\t\t\t{\r\n\t\t\t\tp?.indicateurs?.map((i) => (\r\n\t\t\t\t\t<Indicateur indicateur={i} />\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [processus, setProcessus] = React.useState([])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tapi.get(\"smi_processus\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProcessus(res.data.data)\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Page title=\"Tableau de board QHSE\" >\r\n\t\t\t<Collapse defaultActiveKey={['0']}>\r\n\t\t\t\t{\r\n\t\t\t\t\tprocessus.map((p, index) => (\r\n\t\t\t\t\t\t<Panel header={p.name} key={index} extra={<div><b>{p.indicateurs.length}</b> INDICATEURS</div>}>\r\n\t\t\t\t\t\t\t<Processu p={p} />\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</Collapse>\r\n\t\t</Page>\r\n\t)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tprocessus.map((p) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Processu p={p} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\"\r\n\r\n\r\nimport {\r\n\tuseRouteMatch,\r\n\tuseHistory\r\n} from \"react-router-dom\"\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { Button, Tooltip, message, Popconfirm, Select, Tag } from \"antd\";\r\n\r\nimport Page from \"components/Page\"\r\n\r\nimport { useAppStore } from \"stores\"\r\nimport { Spin } from \"antd\"\r\n\r\nimport IndicateursvChart from \"./components/IndicateursvChart\"\r\nimport { indicateurCastDate, indicateurCastTypeDate, hasRole } from \"utils\"\r\n\r\nexport default () => {\r\n\tconst history = useHistory()\r\n\tconst { params } = useRouteMatch()\r\n\tconst { api, user } = useAppStore()\r\n\tconst [data, setData] = React.useState(null)\r\n\tconst [loading, setLoading] = React.useState(true)\r\n\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Date\",\r\n\t\t\tdataIndex: \"date\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn indicateurCastDate(row.date)\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valeur\",\r\n\t\t\tdataIndex: \"valeur\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Comment\",\r\n\t\t\tdataIndex: \"comment\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdbys_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t//<HistoryIndicateurv reload={() => action.reload()} mesure={row?.mesure} indicateur_id={row.id} valeurs={row?.valeurs} title={\"Historique des valeurs\"} />,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_INDICATEURV\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_indicateurvs/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\r\n\treturn (\r\n\t\t<Page withBack={true} title={\"Historique des valeurs\"} >\r\n\t\t\t{data &&\r\n\t\t\t\t<div style={{ height: 120 }}>\r\n\t\t\t\t\t<IndicateursvChart valeurs={data} />\r\n\t\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<ProTable\r\n\t\t\t\t\tactionRef={actionRef}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tsearch={true}\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\tellipsis={true}\r\n\t\t\t\t\trequest={(p, sort, filters) => {\r\n\t\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\t\tp[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\t\tp[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\t\tp[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\t\tp[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn api.get(\"/smi_indicateurs/\" + params.id, { params: p }).then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(res.data.data.data)\r\n\t\t\t\t\t\t\tsetData(res.data.data.data)\r\n\t\t\t\t\t\t\treturn res.data.data\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\t\tpageSize: 5\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message, Form, Divider, Progress, Typography } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tMinusCircleOutlined,\r\n\tInfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder, renderItem } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Item from 'antd/lib/list/Item';\r\n\r\n\r\nconst Text = Typography.Text\r\nexport default ({ title, reload, indicateur_id, frequence, row }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst postData = (dataForm) => {\r\n\t\tconsole.log(dataForm)\r\n\t\tif (dataForm[\"correctives\"] && dataForm[\"correctives\"].length > 0) {\r\n\t\t\tdataForm[\"correctives\"] = dataForm[\"correctives\"].map(c => ({\r\n\t\t\t\taction: c.action,\r\n\t\t\t\techeance: c.echeance.format(\"yy-M-D\"),\r\n\t\t\t\tusers: c.users\r\n\t\t\t}))\r\n\t\t}\r\n\t\tapi.post(\"/smi_conformites/correcte/\" + row.id, dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\t//onClose();\r\n\t\t\t//reload()\r\n\t\t})\r\n\t}\r\n\tconst add = (dataForm) => {\r\n\t\tif (dataForm[\"avancement\"] == 100 && dataForm[\"date_cloture\"]) {\r\n\t\t\tif (row?.actions?.length > 0) {\r\n\t\t\t\tlet isAcs = true\r\n\t\t\t\trow?.actions.forEach(a => {\r\n\t\t\t\t\tif (a.avancement < 100) {\r\n\t\t\t\t\t\tisAcs = false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (!isAcs) {\r\n\t\t\t\t\tmessage.warn(\"Aucune NC cloturée sans realiser les AC(s) ratachées\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataForm[\"date_cloture\"] = dataForm[\"date_cloture\"].format(\"yy-M-D\")\r\n\t\t\tconsole.log(\"post data with date_cloture and avancemetn 100\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tif (!dataForm[\"date_cloture\"] && dataForm[\"avancement\"] != 100 && dataForm[\"avancement\"] != 0) {\r\n\t\t\tdataForm[\"date_cloture\"] = null\r\n\t\t\tconsole.log(\"post data with date_cloture of null\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tmessage.warn(\"Error !\")\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"TRAITEMENT DU PROBLÈME\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={\"TRAITEMENT DU PROBLÈME\"}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={\"50%\"}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Form.List\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"corrections\"\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue={row?.corrections ? JSON.parse(row?.corrections) : [\"\"]}\r\n\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidator: async (_, names) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!names || names.length < 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn Promise.reject(new Error('At least 2 passengers'));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{(fields, { add, remove }, { errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.map((field, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={index === 0 ? 'Actions correction' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={field.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger={['onChange', 'onBlur']}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: \"Veuillez saisir la correction ou supprimer ce champ.\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"Action correction\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.length > 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusCircleOutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"absolute\", right: -15, top: \"50%\", color: \"#999\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(field.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => add()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAjouter une correction\r\n              \t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.ErrorList errors={errors} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.List>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.List\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"correctives\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(fields, { add, remove }, { errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(fields.length !== 0 || row.actions.length !== 0) && renderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (row?.actions?.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider plain>{`Il ya ${row?.actions?.length} action(s) courrective(s)`}</Divider>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", backgroundColor: \"#fafafa\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 2 }}>Intitule</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>Date echeance</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>Responsables</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>Avancement</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row?.actions?.map((a) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 2 }}>{a.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>{a.date_echeance}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>{a.users}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}><Progress steps={5} percent={a?.avancement} /></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoCircleOutlined /><Text style={{ marginLeft: 5 }} type=\"secondary\">On peut le gérer les AC dans la section Plan d'action.</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider plain>{`Nécessite une action corrective (AC)?`}</Divider>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.map((field, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={field.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={field.key} style={{ display: \"flex\", flexDirection: \"column\", border: \"1px lightgray dashed\", padding: 5, borderRadius: 3, position: \"relative\" }} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderItem(form, [], { ...field, label: \"Action proposées\", name: [field.name, \"action\"], fieldKey: [field.fieldKey, 'action'], type: \"textarea\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderItem(form, [], { ...field, label: \"Echéance\", name: [field.name, \"echeance\"], fieldKey: [field.fieldKey, 'echeance'], type: \"date\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...field,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"selectmultiple\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"Responsables\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: [field.name, \"users\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusCircleOutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"absolute\", right: -15, top: \"50%\", color: \"#999\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(field.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => add()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAjouter une action corrective (AC)\r\n              \t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.ErrorList errors={errors} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.List>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\tif (form.getFieldValue(\"correctives\")?.length !== 0 || row.actions.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\treturn renderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.form = form\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn renderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"causes\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"Analyse des causes(identification de la (des) cause(s)) si il ya AC\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"divider\",\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"avancement\",\r\n\t\t\t\t\t\t\t\tlabel: \"Avancement\",\r\n\t\t\t\t\t\t\t\ttype: \"progress\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date_cloture\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date cloture\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tdate_cloture: row?.date_cloture ? moment(row?.date_cloture) : null,\r\n\t\t\t\t\t\t\tavancement: row?.avancement,\r\n\t\t\t\t\t\t\tcauses: row?.causes\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React from \"react\"\r\nimport {\r\n\tPopover,\r\n\tTypography,\r\n\tSpace,\r\n\tDescriptions\r\n} from \"antd\"\r\n\r\nconst Text = Typography.Text\r\nexport default ({ nonconformite, children }) => {\r\n\treturn (\r\n\t\t<Popover placement=\"topRight\" content={\r\n\t\t\t<Descriptions  bordered>\r\n\t\t\t\t{[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Description\",\r\n\t\t\t\t\t\tdescription: nonconformite.description\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Domaine\",\r\n\t\t\t\t\t\tdescription: nonconformite.domaine\r\n\t\t\t\t\t}\r\n\t\t\t\t].map((i) => (\r\n\t\t\t\t\t<Descriptions.Item span={3} label={i.title}>{i.description}</Descriptions.Item>\r\n\t\t\t\t))}\r\n\t\t\t</Descriptions>\r\n\r\n\t\t}\r\n\t\t trigger=\"click\"\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Popover>\r\n\t)\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select, Tag, Progress } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tInfoOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\nimport AddIndicateur from \"./components/AddIndicateur\";\r\nimport AddIndicateurv from \"./components/AddIndicateurv\";\r\nimport HistoryIndicateurv from \"./components/HistoryIndicateurv\";\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport AddNonConformite from \"./components/AddNonConformite\";\r\nimport EditNonConformite from \"./components/EditNonConformite\";\r\nimport NonConformiteInfo from \"./components/NonConformiteInfo\";\r\nconst months = [\r\n\t\"JAN\",\r\n\t\"FEV\",\r\n\t\"MAR\",\r\n\t\"AVR\",\r\n\t\"MAI\",\r\n\t\"JUN\",\r\n\t\"JUI\",\r\n\t\"AOUT\",\r\n\t\"SEP\",\r\n\t\"OCT\",\r\n\t\"NOV\",\r\n\t\"DEC\"\r\n]\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\thideInSearch: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Nature de la non-conformité\",\r\n\t\t\tdataIndex: \"nature\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Libellé de la nature\",\r\n\t\t\tdataIndex: \"nature_label\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: \"description\",\r\n\t\t\tdataIndex: \"Description\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.objectif?.name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date non-conformité\",\r\n\t\t\tdataIndex: \"date\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.processu?.slog\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Avancement\",\r\n\t\t\tdataIndex: \"avancement\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn <Progress steps={5} percent={row?.avancement} />\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.createdby?.username\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Accepter par\",\r\n\t\t\tdataIndex: \"acceptedb\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.acceptedb?.username\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<NonConformiteInfo nonconformite={row} ><Button shape=\"circle\" icon={<InfoOutlined />} /></NonConformiteInfo>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"EDIT_NON_CONFORMITE\") &&\r\n\t\t\t\t\t\t<EditNonConformite reload={() => action.reload()} title={row.name} frequence={row.frequence} indicateur_id={row.id} row={row} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_INDICATEUR\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_conformites/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des non-conformités\">\r\n\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t{\r\n\t\t\t\t\thasRole(user, \"AJOUTER_INDICATEUR\") &&\r\n\t\t\t\t\t<AddNonConformite reload={() => actionRef.current.reload()} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_conformites\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message, Form, Divider, Progress, Typography } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tMinusCircleOutlined,\r\n\tInfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder, renderItem } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\n\r\nconst Text = Typography.Text\r\nexport default ({ title, reload, indicateur_id, frequence, row }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst postData = (dataForm) => {\r\n\r\n\t\tapi.post(\"/smi_actions/correcte/\" + row.id, dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\t//onClose();\r\n\t\t\t//reload()\r\n\t\t})\r\n\t}\r\n\tconst add = (dataForm) => {\r\n\t\tif (dataForm[\"avancement\"] == 100 && dataForm[\"date_cloture\"]) {\r\n\t\t\tdataForm[\"date_cloture\"] = dataForm[\"date_cloture\"].format(\"yy-M-D\")\r\n\t\t\tconsole.log(\"post data with date_cloture and avancemetn 100\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tif (!dataForm[\"date_cloture\"] && dataForm[\"avancement\"] != 100 && dataForm[\"avancement\"] != 0) {\r\n\t\t\tdataForm[\"date_cloture\"] = null\r\n\t\t\tconsole.log(\"post data with date_cloture of null\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tmessage.warn(\"Error !\")\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"TRAITEMENT ACTION\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={\"TRAITEMENT ACTION\"}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={\"50%\"}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"avancement\",\r\n\t\t\t\t\t\t\t\tlabel: \"Avancement\",\r\n\t\t\t\t\t\t\t\ttype: \"progress\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date_cloture\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date cloture\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"observation\",\r\n\t\t\t\t\t\t\t\tlabel: \"Observation\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"state\",\r\n\t\t\t\t\t\t\t\tlabel: \"Etat de action\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlabel: \"Anullée\", value: \"Anullée\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tdate_cloture: row?.date_cloture ? moment(row?.date_cloture) : null,\r\n\t\t\t\t\t\t\tavancement: row?.avancement,\r\n\t\t\t\t\t\t\tobservation: row?.observation\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message, Form, Divider, Progress, Select, Typography } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tMinusCircleOutlined,\r\n\tInfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder, renderItem } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\n\r\nconst Text = Typography.Text\r\nexport default ({ title, reload, indicateur_id, frequence, row }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst postData = (dataForm) => {\r\n\r\n\t\tapi.post(\"/smi_actions/\", dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\tonClose();\r\n\t\t\treload()\r\n\t\t})\r\n\t}\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"echeance\"] = dataForm[\"echeance\"] ? dataForm[\"echeance\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\treturn postData(dataForm)\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"AJOUTER ACTION\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t>Ajouter</Button>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={\"AJOUTER ACTION\"}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={\"50%\"}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"processu_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"action\",\r\n\t\t\t\t\t\t\t\tlabel: \"Intitulé\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"conformite_id\",\r\n\t\t\t\t\t\t\t\tlabel: \"Non-conformité (AC)\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_conformites/search\",\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"conformite\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.name\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"echeance\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date echeance\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"selectmultiple\",\r\n\t\t\t\t\t\t\t\tname: \"users\",\r\n\t\t\t\t\t\t\t\tlabel: \"Responsables\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\techeance: row?.date_cloture ? moment(row?.date_cloture) : null,\r\n\t\t\t\t\t\t\tavancement: row?.avancement,\r\n\t\t\t\t\t\t\tobservation: row?.observation\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Progress, Tag, Typography, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tInfoOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole, listProcessus } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\nimport AddIndicateur from \"./components/AddIndicateur\";\r\nimport AddIndicateurv from \"./components/AddIndicateurv\";\r\nimport HistoryIndicateurv from \"./components/HistoryIndicateurv\";\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport IndicateurInfo from \"./components/IndicateurInfo\";\r\nimport EditAction from \"./components/EditAction\";\r\nimport AddAction from \"./components/AddAction\";\r\nconst months = [\r\n\t\"JAN\",\r\n\t\"FEV\",\r\n\t\"MAR\",\r\n\t\"AVR\",\r\n\t\"MAI\",\r\n\t\"JUN\",\r\n\t\"JUI\",\r\n\t\"AOUT\",\r\n\t\"SEP\",\r\n\t\"OCT\",\r\n\t\"NOV\",\r\n\t\"DEC\"\r\n]\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst [processusId, setProcessusId] = React.useState(1)\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\thideInSearch: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Intitulé\",\r\n\t\t\tdataIndex: \"actions_name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus_slog\",\r\n\t\t\thideInSearch: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Type\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row.conformites_name ?\r\n\t\t\t\t\t<Tooltip title={\"NC: \" + row?.conformites_name}>\r\n\t\t\t\t\t\t<Tag color=\"blue\">AC</Tag>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Tag color=\"green\">AA</Tag>\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date echeance\",\r\n\t\t\tdataIndex: \"actions_date_echeance\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Responsables\",\r\n\t\t\tdataIndex: \"actions_users\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn JSON.parse(row?.actions_users)?.map((a, i) => (\r\n\t\t\t\t\t<Tag>{a}</Tag>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Avancement\",\r\n\t\t\tdataIndex: \"actions_avancement\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn <Progress steps={5} percent={row?.actions_avancement} />\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdbys_username\",\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Accepter par\",\r\n\t\t\tdataIndex: \"acceptedbys_username\",\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SMI_EDIT_ACTION\") &&\r\n\t\t\t\t\t\t<EditAction row={row} reload={() => action.reload()} title={row.name} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SMI_VALIDER_ACTION\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Elle est efficase?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_actions/accepte/\" + row.id).then(() => { message.info(\"Bien ajouter\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<FaCheck />} />\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SMI_SUPPRIMER_ACTION\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_actions/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"AC & AA\">\r\n\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t{\r\n\t\t\t\t\thasRole(user, \"SMI_AJOUTER_ACTION\") &&\r\n\t\t\t\t\t<AddAction reload={() => actionRef.current.reload()} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"processu_id\"] = processusId\r\n\t\t\t\t\treturn api.get(\"/smi_actions\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select defaultValue={1} style={{ width: 220 }} onChange={(value) => {\r\n\t\t\t\t\t\t\tsetProcessusId(value);\r\n\t\t\t\t\t\t\taction.reload();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{listProcessus.map(p => (\r\n\t\t\t\t\t\t\t\t<Select.Option value={p.id}>{p.value}</Select.Option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React from \"react\"\r\nimport { Menu } from 'antd';\r\nimport { MailOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\r\n\r\nimport { useHistory, Route } from \"react-router-dom\"\r\nimport Axes from \"./qualite/Axes\";\r\nimport ObjectifsOperationnels from \"./qualite/ObjectifsOperationnels\";\r\nimport Processus from \"./qualite/Processus\";\r\nimport Indicateurs from \"./qualite/Indicateurs\";\r\nimport { hasRole, _hasRole } from \"utils\";\r\nimport Dashboard from \"./qualite/Dashboard\";\r\nimport IndicateursHistory from \"./qualite/IndicateursHistory\";\r\nimport NonConformite from \"./qualite/NonConformite\";\r\nimport Actions from \"./qualite/Actions\";\r\nconst { SubMenu } = Menu;\r\n\r\nexport default () => {\r\n\tconst history = useHistory()\r\n\tconst [current, setCurrent] = React.useState(\"mail\")\r\n\r\n\r\n\tconst handleClick = e => {\r\n\t\tsetCurrent(e.key)\r\n\t\thistory.push(\"/smi/qualite/\" + e.key)\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\"\r\n\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\tzIndex: 10,\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tboxShadow: \"0 1px 4px rgba(0,21,41,.08)\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\t_hasRole(\"SMI_ANNUAIRE\") &&\r\n\t\t\t\t\t<SubMenu key=\"annuaire\" title=\"Annuaire\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t_hasRole(\"SMI_AXES\") &&\r\n\t\t\t\t\t\t\t<Menu.Item key=\"axes_strategiques\">Les axes stratégiques</Menu.Item>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{_hasRole(\"SMI_OBJECTIFS_OP\") && <Menu.Item key=\"objectifs_operationnel\">Les objectifs opérationnels</Menu.Item>}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t_hasRole(\"SMI_PROCESSUS\") &&\r\n\t\t\t\t\t\t\t<Menu.Item key=\"processus\">Les processus</Menu.Item>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t}\r\n\t\t\t\t<SubMenu key=\"pilotage\" title=\"Pilotage\">\r\n\t\t\t\t\t{_hasRole(\"SMI_DASHBOARD\") && <Menu.Item key=\"dashboard\">Tableau de bord</Menu.Item>}\r\n\t\t\t\t\t{_hasRole(\"SMI_INDICATEURS\") && <Menu.Item key=\"indicateurs\">Indicateurs & valeurs</Menu.Item>}\r\n\t\t\t\t\t{_hasRole(\"SMI_RMA\") && <Menu.Item key=\"rma\">RMA</Menu.Item>}\r\n\t\t\t\t</SubMenu>\r\n\t\t\t\t<SubMenu key=\"amelioration\" title=\"Amélioration\">\r\n\t\t\t\t\t<Menu.Item key=\"plans_actions\">Plan d'actions</Menu.Item>\r\n\t\t\t\t\t<Menu.Item key=\"non_conformites\">Non-conformités</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t\t<SubMenu key=\"documentation\" title=\"Documentation\">\r\n\t\t\t\t\t<Menu.Item key=\"documentation_vigueur\">Documentation en vigueur</Menu.Item>\r\n\t\t\t\t\t<Menu.Item key=\"gestion_documentaire\">Gestion documentaire</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t</Menu>\r\n\t\t\t<div style={{ paddingTop: 50 }}>\r\n\t\t\t\t<Route path=\"/smi/qualite/axes_strategiques\" >\r\n\t\t\t\t\t<Axes />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/smi/qualite/objectifs_operationnel\" >\r\n\t\t\t\t\t<ObjectifsOperationnels />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/smi/qualite/processus\" >\r\n\t\t\t\t\t<Processus />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path=\"/smi/qualite/indicateurs\" >\r\n\t\t\t\t\t<Indicateurs />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path=\"/smi/qualite/indicateurs/:id\" >\r\n\t\t\t\t\t<IndicateursHistory />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/smi/qualite/dashboard\" >\r\n\t\t\t\t\t<Dashboard />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t//Non Conformité\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<Route exact path=\"/smi/qualite/non_conformites\" >\r\n\t\t\t\t\t<NonConformite />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path=\"/smi/qualite/plans_actions\" >\r\n\t\t\t\t\t<Actions />\r\n\t\t\t\t</Route>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}","import {\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  LaptopOutlined,\r\n  NotificationOutlined,\r\n  DashboardOutlined,\r\n\tApartmentOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { FaCarAlt, FaBell, FaUserFriends, FaClipboardList } from \"react-icons/fa\";\r\nimport { RiSteeringFill } from \"react-icons/ri\";\r\nimport { GiPathDistance, GiSteeringWheel } from \"react-icons/gi\";\r\n\r\nimport Dashboard from \"pages/Dashboard\"\r\n\r\nimport ListUsers from \"pages/Users/List\"\r\nimport AddUser from \"pages/Users/Add\"\r\nimport EditUser from \"pages/Users/Edit\"\r\n\r\nimport ListCars from \"pages/Cars/List\"\r\nimport AddCars from \"pages/Cars/Add\"\r\nimport EditCars from \"pages/Cars/Edit\"\r\n\r\nimport ListDrivers from \"pages/Drivers/List\"\r\nimport AddDriver from \"pages/Drivers/Add\"\r\nimport EditDriver from \"pages/Drivers/Edit\"\r\n\r\nimport ListClients from \"pages/Clients/List\"\r\nimport AddClient from \"pages/Clients/Add\"\r\nimport EditClient from \"pages/Clients/Edit\"\r\n\r\nimport AddDecharge from \"pages/Decharges/Add\"\r\nimport ListDecharges from \"pages/Decharges/List\"\r\nimport ShowDecharge from \"pages/Decharges/Show\"\r\nimport EditDecharge from \"pages/Decharges/Edit\"\r\nimport RestititionDecharge from \"pages/Decharges/RestititionDecharge\"\r\nimport DechargeHistory from \"pages/Decharges/DechargeHistory\"\r\nimport ChecklistDecharge from \"pages/Decharges/ChecklistDecharge\"\r\n\r\nimport UserCars from 'pages/Users/UserCars';\r\nimport ListeDechargeRestititions from 'pages/Decharges/ListeDechargeRestititions';\r\nimport CarDecharges from 'pages/Cars/CarDecharges';\r\nimport ListCarsState from 'pages/Cars/ListCarsState';\r\nimport AddCarState from 'pages/Cars/AddCarState';\r\nimport GroupCar from 'pages/Cars/GroupCar';\r\n\r\n\r\nimport AddVLMission from \"pages/Missions/AddVL\"\r\nimport AddMDMission from \"pages/Missions/AddMD\"\r\nimport ListRoles from 'pages/Users/ListRoles';\r\nimport AddRole from 'pages/Users/AddRole';\r\nimport UsersRoles from \"pages/Users/UsersRoles\"\r\nimport CamionRemorque from 'pages/Cars/CamionRemorque';\r\n\r\nimport ListPeremptions from 'pages/Peremptions/List';\r\nimport AddPeremptions from 'pages/Peremptions/Add';\r\nimport EditPeremptions from 'pages/Peremptions/Edit';\r\nimport ListAlertsPeremptions from 'pages/Peremptions/ListAlerts';\r\nimport ChangeCarState from 'pages/Cars/ChangeCarState';\r\nimport EditCarState from 'pages/Cars/EditCarState';\r\nimport Notifications from 'pages/Users/Notifications';\r\nimport ListVL from 'pages/Missions/ListVL';\r\nimport ListMiseDispositionVL from 'pages/Clients/ListMiseDispositionVL';\r\nimport ShowVL from \"pages/Missions/ShowVL\"\r\nimport EditVL from 'pages/Missions/EditVL';\r\nimport EditMD from 'pages/Missions/EditMD';\r\nimport SMIQualite from 'pages/QHSE/SMIQualite';\r\nimport Axes from 'pages/QHSE/qualite/Axes';\r\nimport ListMD from 'pages/Missions/ListMD';\r\n\r\nexport default {\r\n  appName: \"GPark v1.0.0\",\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'dashboard',\r\n      label: \"Tableau de bord\",\r\n      role: \"DASHBOARD\",\r\n      component: Dashboard,\r\n      icon: <DashboardOutlined />,\r\n      authority: [\"dashboard\"],\r\n      hideInSide: true,\r\n      exact: true\r\n    },\r\n    {\r\n      path: '/dashboard',\r\n      name: 'dashboard',\r\n      label: \"Tableau de bord\",\r\n      role: \"DASHBOARD\",\r\n      component: Dashboard,\r\n      icon: <DashboardOutlined />,\r\n      authority: [\"dashboard\"],\r\n    },\r\n    {\r\n      path: '/notifications',\r\n      name: 'Notifications',\r\n      label: \"Notifications\",\r\n      component: Notifications,\r\n      icon: <DashboardOutlined />,\r\n      authority: [\"dashboard\"],\r\n      hideInSide: true,\r\n    },\r\n    // users \r\n    {\r\n      name: 'users',\r\n      label: \"Utilisateurs\",\r\n      icon: <UserOutlined />,\r\n      role: \"UTILISATEURS\",\r\n      routes: [\r\n        {\r\n          path: '/users/add',\r\n          name: 'add-user',\r\n          label: 'Ajouter utilisateur',\r\n          component: AddUser,\r\n        },\r\n        {\r\n          path: '/users',\r\n          name: 'list-users',\r\n          label: 'Liste des utilisateurs',\r\n          component: ListUsers,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/users/edit/:id',\r\n          name: 'edit-user',\r\n          label: \"Modifier l'utilisateur\",\r\n          component: EditUser,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/users/cars',\r\n          name: 'user-cars-users',\r\n          label: 'utilisateurs <> véhicules',\r\n          component: UserCars,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/roles/add',\r\n          name: 'add-roles',\r\n          label: 'Ajouter role',\r\n          component: AddRole,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/roles',\r\n          name: 'list-roles',\r\n          label: 'Liste des roles',\r\n          component: ListRoles,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/users/roles',\r\n          name: 'users-roles',\r\n          label: 'Utilisateurs <> Roles',\r\n          component: UsersRoles,\r\n          exact: true\r\n        },\r\n      ]\r\n    },\r\n    // cars\r\n    {\r\n      name: 'cars',\r\n      label: \"Véhicules\",\r\n      role: \"LISTE_VEHICULES\",\r\n      icon: <FaCarAlt style={{ marginRight: 10 }} />,\r\n      routes: [\r\n        {\r\n          path: '/cars/add',\r\n          name: 'add-cars',\r\n          label: 'Ajouter véhicule',\r\n          role: \"AJOUTER_VEHICULE\",\r\n          component: AddCars,\r\n        },\r\n        {\r\n          path: '/cars',\r\n          name: 'list-cars',\r\n          label: 'Liste des véhicules',\r\n          component: ListCars,\r\n          role: \"LISTE_VEHICULES\",\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/cars/groups',\r\n          name: 'groups-cars',\r\n          label: 'Groupes <> vehicules',\r\n          component: GroupCar,\r\n          role: \"VEHICULES_GROUPES\",\r\n        },\r\n        {\r\n          path: '/cars_state',\r\n          name: 'status-cars',\r\n          label: 'véhicules > Status',\r\n          component: ListCarsState,\r\n          role: \"STATUS_VEHICULES\",\r\n          exact: true\r\n\r\n        },\r\n        {\r\n          path: '/cars_state/add',\r\n          name: 'add-status-cars',\r\n          label: 'Ajouter status',\r\n          role: \"MODIFIER_STATUS_VEHICULE\",\r\n          component: AddCarState,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/cars_state/edit/:id',\r\n          name: 'edit-status-cars',\r\n          label: 'Modifier status d\\'une véhicule',\r\n          role: \"MODIFIER_STATUS_VEHICULE\",\r\n          component: EditCarState,\r\n          hideInSide: true,\r\n        },\r\n        {\r\n          path: '/cars/stats/edit/:id',\r\n          name: 'edit-car-state',\r\n          label: 'Modifier Status véhicule',\r\n          role: \"MODIFIER_STATUS_VEHICULE\",\r\n          component: ChangeCarState,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/cars/edit/:id',\r\n          name: 'edit-cars',\r\n          label: 'Modifier véhicule',\r\n          role: \"MODIFIER_VEHICULE\",\r\n          component: EditCars,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/cars/decharges/:car_id',\r\n          name: 'decharges-car',\r\n          label: 'Decharge',\r\n          component: CarDecharges,\r\n          hideInSide: true\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      name: \"peremptions\",\r\n      label: \"Péremptions\",\r\n      icon: <FaBell style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_PEREMPTIONS\",\r\n      routes: [\r\n        {\r\n          path: '/peremptions/add',\r\n          name: 'add-peremption',\r\n          label: 'Ajouter péremption',\r\n          role: \"AJOUTER_PEREMPTIONS\",\r\n          component: AddPeremptions,\r\n        },\r\n        {\r\n          path: '/peremptions/',\r\n          name: 'list-peremptions',\r\n          label: 'Liste péremptions',\r\n          role: \"LISTE_PEREMPTIONS\",\r\n          component: ListPeremptions,\r\n        },\r\n\r\n        {\r\n          path: '/peremptions/edit/:id',\r\n          name: 'edit-peremption',\r\n          label: \"Modifier péremption\",\r\n          role: \"MODIFIER_PEREMPTIONS\",\r\n          component: EditPeremptions,\r\n          hideInSide: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'drivers',\r\n      label: \"Conducteurs\",\r\n      icon: <GiSteeringWheel style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_CONDUCTEURS\",\r\n      routes: [\r\n        {\r\n          path: '/drivers/add',\r\n          name: 'add-driver',\r\n          label: 'Ajouter conducteur',\r\n          role: \"AJOUTER_CONDUCTEUR\",\r\n          component: AddDriver,\r\n        },\r\n        {\r\n          path: '/drivers',\r\n          name: 'list-drivers',\r\n          label: 'Liste des conducteurs',\r\n          role: \"LISTE_CONDUCTEURS\",\r\n          component: ListDrivers,\r\n          exact: true\r\n        },\r\n\r\n        {\r\n          path: '/drivers/edit/:id',\r\n          name: 'edit-driver',\r\n          label: \"Modifier conducteur\",\r\n          role: \"MODIFIER_CONDUCTEUR\",\r\n          component: EditDriver,\r\n          hideInSide: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'clients',\r\n      label: \"Clients\",\r\n      icon: <FaUserFriends style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_CLIENTS\",\r\n      routes: [\r\n        {\r\n          path: '/clients/add',\r\n          name: 'add-client',\r\n          label: 'Ajouter client',\r\n          role: \"AJOUTER_CLIENT\",\r\n          component: AddClient,\r\n        },\r\n        {\r\n          path: '/clients',\r\n          name: 'list-clients',\r\n          label: 'Liste des clients',\r\n          role: \"LISTE_CLIENTS\",\r\n          component: ListClients,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/mise_disposition_vl',\r\n          name: 'list-mise-a-disposition-vl',\r\n          label: 'Mise à disposition VL',\r\n          role: \"LISTE_MISE_DISPOSITION_VL\",\r\n          component: ListMiseDispositionVL,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/clients/edit/:id',\r\n          name: 'edit-client',\r\n          label: \"Modifier client\",\r\n          role: \"MODIFIER_CLIENT\",\r\n          component: EditClient,\r\n          hideInSide: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'decharges',\r\n      label: \"Decharges\",\r\n      icon: <FaClipboardList style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_DECHARGES\",\r\n      routes: [\r\n        {\r\n          path: '/decharges/add',\r\n          name: 'add-decharge',\r\n          label: 'Ajouter decharge',\r\n          component: AddDecharge,\r\n          role: \"AJOUTER_DECHARGE\",\r\n        },\r\n        {\r\n          path: '/decharges',\r\n          name: 'list-decharges',\r\n          label: 'Etat décharges',\r\n          component: ListDecharges,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/decharges/show/:id',\r\n          name: 'show-decharge',\r\n          label: \"Affiche decharge\",\r\n          component: ShowDecharge,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/edit/:id',\r\n          name: 'edit-decharge',\r\n          label: \"Modifier décharge\",\r\n          component: EditDecharge,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/restitition/:id',\r\n          name: 'restitition-decharge',\r\n          label: \"Restitution decharge\",\r\n          component: RestititionDecharge,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/restititions',\r\n          name: 'restititions-decharge',\r\n          label: \"Décharges restituer\",\r\n          role: \"LISTE_DECHARGES_RESTITUER\",\r\n          component: ListeDechargeRestititions,\r\n        },\r\n        {\r\n          path: '/decharges/history/:car_id',\r\n          name: 'history-decharge',\r\n          label: \"History decharge\",\r\n          component: DechargeHistory,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/checklist/:id',\r\n          name: 'add-checklist-decharge',\r\n          label: \"Checklist decharge\",\r\n          component: ChecklistDecharge,\r\n          hideInSide: true\r\n        },\r\n      ]\r\n    },\r\n\r\n    {\r\n      name: 'missions',\r\n      label: \"Missions\",\r\n      role: \"LISTE_MISSIONS\",\r\n      icon: <GiPathDistance style={{ marginRight: 10 }} />,\r\n      routes: [\r\n        {\r\n          path: '/missions_vl/add',\r\n          name: 'add-mission-vl',\r\n          label: 'Ajouter mission VL',\r\n          role: \"AJOUTER_MISSION_VL\",\r\n          component: AddVLMission,\r\n        },\r\n\t\t\t\t{\r\n          path: '/missions_vl/edit/:id',\r\n          name: 'edit-missions-vl',\r\n          label: \"Modifier mission\",\r\n          role: \"MODIFIER_MISSION_VL\",\r\n          component: EditVL,\r\n          hideInSide: true\r\n        },\r\n\t\t\t\t{\r\n          path: '/missions_md/add',\r\n          name: 'add-mission-md',\r\n          label: 'Ajouter mission MD',\r\n          role: \"AJOUTER_MISSION_MD\",\r\n          component: AddMDMission,\r\n        },\r\n\t\t\t\t{\r\n          path: '/missions_md/edit/:id',\r\n          name: 'edit-missions-md',\r\n          label: \"Modifier mission MD\",\r\n          role: \"MODIFIER_MISSION_MD\",\r\n          component: EditMD,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/missions_vl',\r\n          name: 'list-missions-vl',\r\n          role: \"LISTE_MISSIONS_VL\",\r\n          label: 'List missions VL',\r\n          component: ListVL,\r\n          exact: true\r\n        },\r\n\t\t\t\t{\r\n          path: '/missions_md',\r\n          name: 'list-missions-md',\r\n          role: \"LISTE_MISSIONS_MD\",\r\n          label: 'List missions MD',\r\n          component: ListMD,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/missions_vl/show/:id',\r\n          name: 'show-missions-vl',\r\n         // role: \"LISTE_MISSIONS_VL\",\r\n          label: 'Show missions VL',\r\n          component: ShowVL,\r\n          hideInSide: true\r\n        },\r\n      ]\r\n    },\r\n\t\t{\r\n      name: 'smi',\r\n      label: \"SMI\",\r\n      role: \"SMI\",\r\n      icon: <ApartmentOutlined style={{ marginRight: 10 }} />,\r\n      routes: [\r\n        {\r\n          path: '/smi/qualite',\r\n          name: 'qualite',\r\n          label: 'Portail Qualité',\r\n          role: \"SMI_QUALITE\",\r\n          component: SMIQualite,\r\n        }\r\n      ]\r\n    },\r\n\r\n  ]\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { hasRole } from \"utils\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"title\",\r\n      sorter: true,\r\n      render: (text, row, index, action) => {\r\n        return row.title + \" | \" + row.sub_title\r\n      }\r\n    },\r\n    {\r\n      title: \"Date Creéation\",\r\n      dataIndex: \"created_at\",\r\n      valueType: \"dateTime\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"<>\",\r\n      dataIndex: \"is_read\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n      render: (text, row, index, action) => {\r\n        return row.is_read ? \"DEJA VU\" : \"Non vu\"\r\n      }\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Button\r\n          onClick={() => {\r\n            api.post(\"/notifications/\" + row.id).then(() => {\r\n              history.push(row.url)\r\n            })\r\n          }}\r\n          shape=\"circle\" icon={<EyeOutlined />}\r\n        />\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Notifications\" selectedSiderKey=\"list-notifiactions\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/notifications\", { params }).then((res) => res.data)\r\n        }}\r\n\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n\r\n  const add = (data) => {\r\n    api.post(\"/auth/users\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau Utilisateur\"  selectedSiderKey=\"add-users\">\r\n      <FormBuilder formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Nom d'utilisateur\",\r\n      dataIndex: \"username\",\r\n      copyable: true,\r\n      filters: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Nom\",\r\n      dataIndex: \"firstname\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Prénom\",\r\n      dataIndex: \"lastname\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Poste\",\r\n      dataIndex: \"poste\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"mail\",\r\n      valueType: \"email\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Creéation\",\r\n      dataIndex: \"created_at\",\r\n      valueType: \"dateTime\",\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Tel\",\r\n      dataIndex: \"tel\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <a\r\n          onClick={() => {\r\n            api.post(\"auth/users/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n          }}\r\n        >\r\n          Supprimer\r\n      </a>,\r\n        <a\r\n          onClick={() => {\r\n            history.push(\"/users/edit/\" + row.id)\r\n          }}\r\n        >\r\n          Modifier\r\n      </a>\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Utilisateurs\" selectedSiderKey=\"list-users\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filter) => {\r\n          console.log(sort)\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          return api.get(\"/auth/users\", { params, sort }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n\r\n  const edit = (data) => {\r\n    api.put(\"/auth/users/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/auth/users/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie l'utilisateur\" selectedSiderKey=\"list-users\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Button, message, Transfer, Form, Skeleton } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nimport SearchInput from \"components/SearchInput\";\r\nimport { groupBy } from \"lodash\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const [cars, setCars] = useState([])\r\n  const [data, setData] = useState({\r\n    user_id: null,\r\n    cars_id: [],\r\n    loadingCars: true,\r\n    loadingUserCars: false,\r\n    carGroupe: \"vh\"\r\n  })\r\n  const [selectedKeys, setSelectedKey] = useState([])\r\n  window.data = data\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  };\r\n  const formTailLayout = {\r\n  };\r\n\r\n  const affecte = () => {\r\n    if (data.user_id && data.cars_id) {\r\n      api.post(\"/auth/users/cars\", {\r\n        user_id: data.user_id,\r\n        cars_id: data.cars_id\r\n      }).then((res) => {\r\n        message.info(\"Bien ajouter\")\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data.user_id) {\r\n      setData({ ...data, loadingUserCars: true })\r\n      api.get(\"auth/users/cars/\" + data.user_id).then((res) => {\r\n        const cars_id = res.data.data.map(c => c.id)\r\n        setData({ ...data, cars_id, loadingUserCars: false })\r\n      })\r\n    }\r\n  }, [data.user_id])\r\n\r\n  useEffect(() => {\r\n    api.get(\"allcars\").then((res) => {\r\n      const _cars = res.data.data.map(car => ({ ...car, id: Number.parseInt(car.id) }))\r\n      setData({ ...data, loadingCars: false })\r\n      setCars(_cars)\r\n    })\r\n  }, [data.carGroupe])\r\n\r\n\r\n\r\n  const handleChange = (nextTargetKeys, direction, moveKeys) => {\r\n    setData({ ...data, cars_id: nextTargetKeys })\r\n  };\r\n\r\n  const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n    setSelectedKey([...sourceSelectedKeys, ...targetSelectedKeys])\r\n  };\r\n\r\n\r\n  return (\r\n    <Page title=\"Affecté des vehicules au utilisateur\" selectedSiderKey=\"user-cars-users\">\r\n      <Form\r\n        {...formItemLayout}\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        onFinish={affecte}\r\n      >\r\n\r\n        <Form.Item label={\"Utilisateur\"} name={\"user_id\"}>\r\n          <SearchInput\r\n            url=\"auth/users/search\"\r\n            style={{ width: 200 }}\r\n            mapOptionToString={c => c.firstname + \" \" + c.lastname}\r\n            onSelect={(value, option) => {\r\n              setData({ ...data, user_id: option.id })\r\n            }}\r\n            onChange={(value, option) => {\r\n              if (option) {\r\n                setData({ ...data, user_id: option.id })\r\n              } else {\r\n                setData({ ...data, user_id: null })\r\n              }\r\n            }}\r\n            placeholder=\"Rechercher ...\"\r\n          />\r\n        </Form.Item>\r\n\r\n        {\r\n          (data.loadingCars || data.loadingUserCars) &&\r\n          <Skeleton />\r\n        }\r\n\r\n        {!(data.loadingCars || data.loadingUserCars) && data.user_id &&\r\n          < Form.Item label={\"Véhicules affecté\"} name={\"carsId\"}>\r\n            <Transfer\r\n              rowKey={record => record.id}\r\n              showSearch={true}\r\n              dataSource={cars}\r\n              titles={['Tout', 'Affecté']}\r\n              targetKeys={data.cars_id}\r\n              selectedKeys={selectedKeys}\r\n              onChange={handleChange}\r\n              onSelectChange={handleSelectChange}\r\n              render={item => item.code_gps + \" | \" + item.matricule}\r\n              style={{ marginBottom: 16 }}\r\n              listStyle={{\r\n                width: 250,\r\n                height: 300,\r\n              }}\r\n              disabled={false}\r\n            />\r\n          </Form.Item>\r\n        }\r\n\r\n\r\n        <Form.Item {...formTailLayout} >\r\n          <Button type=\"primary\" onClick={affecte}>\r\n            Envoyer\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Page >\r\n  )\r\n}","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { roleFormItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom\";\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const add = (data) => {\r\n    data[\"name\"] = data[\"name\"].toUpperCase()\r\n    api.post(\"/roles\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/roles\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau Role\">\r\n      <FormBuilder formItems={roleFormItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"designantion\",\r\n      dataIndex: \"name\",\r\n      copyable: true,\r\n      filters: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <a\r\n          onClick={() => {\r\n            api.post(\"roles/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n          }}\r\n        >\r\n          Supprimer\r\n      </a>\r\n      ]\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Page title=\"Roles\" >\r\n      <ProTable\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filter) => {\r\n          console.log(sort)\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          return api.get(\"roles\", { params, sort }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { Form, Input, Button, Checkbox, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _prop, _messages, _carGenre, _marque } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n\r\n  const add = (data) => {\r\n    api.post(\"/cars\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau véhicule\" selectedSiderKey=\"add-cars\">\r\n      <FormBuilder formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Popconfirm, Tooltip } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaInfo, FaPaintBrush } from \"react-icons/fa\"\r\n\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"matricule\",\r\n      dataIndex: \"matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"code_gps\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"name\",\r\n      hideInSearch: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Observation\",\r\n      dataIndex: \"observation\",\r\n      hideInSearch: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Date status\",\r\n      dataIndex: \"state_date\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"createdby\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Popconfirm\r\n          title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n          onConfirm={() => {\r\n            api.post(\"/cars_state/delete/\" + row.id).then(() => {\r\n              message.info(\"Bien Supprimé\");\r\n              action.reload();\r\n            })\r\n          }}\r\n          onCancel={() => { }}\r\n          okText=\"Oui\"\r\n          cancelText=\"No\"\r\n        >\r\n          <Button\r\n            shape=\"circle\" icon={<DeleteOutlined />} />\r\n        </Popconfirm>,\r\n        <>\r\n          {\r\n            hasRole(user, \"MODIFIER_STATUS_VEHICULE\") &&\r\n            <Tooltip title=\"Modifier status véhicule\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/cars_state/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title={\"Status des véhicules\"} selectedSiderKey=\"list-cars\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/cars_state\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { Form, Input, Button, Checkbox, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _prop, _messages, _carGenre, _marque } from \"_consts\";\r\n\r\nimport { formItemsCarState } from \"./columns\"\r\nimport {useHistory} from \"react-router-dom\"\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const add = (data) => {\r\n    data[\"state_date\"] = data[\"state_date\"] ? data[\"state_date\"].format(\"YYYY-MM-DD HH:mm:ss\") : null\r\n    api.post(\"/cars_state\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/cars_state\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Changement statut de véhicule\">\r\n      <FormBuilder formItems={formItemsCarState} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import React, { useState, useEffect } from \"react\"\r\nimport { Form, Input, Button, Checkbox, message, Spin } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\n\r\nimport { formItemsCarState } from \"./columns\"\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport * as moment from \"moment\"\r\nimport { _prop, _marque, _carGenre, _messages, _carStateName } from \"_consts\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const { params } = useRouteMatch()\r\n  const [data, setData] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingData, setLoadingData] = useState(true)\r\n\r\n\r\n\r\n  const edit = (postData) => {\r\n    setLoading(true)\r\n    postData[\"state_date\"] = postData[\"state_date\"] ? postData[\"state_date\"].format(\"YYYY-MM-DD HH:mm:ss\") : null\r\n    api.put(\"/cars_state/\" + params.id, postData).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      //history.push(\"/cars_state\")\r\n      setLoading(false)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/cars_state/\" + params.id).then((res) => {\r\n      setData(res.data.data)\r\n      setLoadingData(false)\r\n    })\r\n  }, [])\r\n\r\n\r\n\r\n  if (loadingData || !data) {\r\n    return <div style={{height: 200,display: \"flex\", justifyContent: \"center\", alignItems:\"center\"}}>\r\n      <Spin size=\"large\" />\r\n    </div>\r\n  }\r\n  return (\r\n    <Page withBack={true} title=\"Modifier statut de véhicule\">\r\n      <FormBuilder\r\n        initialValues={{\r\n          car_id: data?.car_id,\r\n          car: data?.car,\r\n          state_date: moment(data?.state_date),\r\n          name: data?.name,\r\n          observation: data?.observation\r\n        }}\r\n        formItems={[\r\n          {\r\n            name: \"car_id\",\r\n            label: \"Véhicule\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"cars/search\",\r\n            defaultOptionName: \"car\",\r\n            mapOptionToString: c => c?.matricule + \" | \" + c?.marque,\r\n            disabled: true\r\n          },\r\n          {\r\n            name: \"name\",\r\n            label: \"Designation\",\r\n            type: \"select\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            selects: _carStateName\r\n          },\r\n          {\r\n            name: \"state_date\",\r\n            label: \"Date\",\r\n            type: \"date\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n          },\r\n          {\r\n            name: \"observation\",\r\n            label: \"Observation\",\r\n            type: \"textarea\"\r\n          }\r\n        ]}\r\n        onFinish={edit}\r\n        loading={loading}\r\n      />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Form, Input, Button, Skeleton, message } from 'antd';\r\nimport {\r\n  ArrowLeftOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { _postes, _prop, _marque, _carGenre, _messages, _carStateName } from \"_consts\";\r\n\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n\r\n\r\n  const edit = (postData) => {\r\n    setLoading(true)\r\n    postData[\"state_date\"] = postData[\"state_date\"] ? postData[\"state_date\"].format(\"YYYY-MM-DD HH:mm:ss\") : null\r\n    api.post(\"/cars_state\", postData).then((res) => {\r\n      history.push(\"/cars_state\")\r\n      message.info(\"Bien ajouter\")\r\n    }).catch(() => {\r\n      setLoading(false)\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    api.get(\"/cars/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title={\"Ajouter Status : \" + data.matricule} selectedSiderKey=\"list-cars\">\r\n      <FormBuilder\r\n        formItems={[\r\n          {\r\n            name: \"car_id\",\r\n            label: \"Véhicule\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"cars/search\",\r\n            defaultOptionName: \"car\",\r\n            mapOptionToString: c => c?.matricule + \" | \" + c?.marque,\r\n            disabled: true\r\n          },\r\n          {\r\n            name: \"name\",\r\n            label: \"Designation\",\r\n            type: \"select\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            selects: _carStateName\r\n          },\r\n          {\r\n            name: \"state_date\",\r\n            label: \"Date\",\r\n            type: \"date\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n          },\r\n          {\r\n            name: \"observation\",\r\n            label: \"Observation\",\r\n            type: \"textarea\"\r\n          }\r\n        ]}\r\n        initialValues={{\r\n          car_id: data.id,\r\n          car: data\r\n        }}\r\n        onFinish={edit}\r\n      />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Form, Input, Button, Skeleton, message } from 'antd';\r\nimport {\r\n  ArrowLeftOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n\r\n  const edit = (data) => {\r\n    api.put(\"/cars/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    api.get(\"/cars/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title={\"Modifie véhicule : \" + data.matricule} selectedSiderKey=\"list-cars\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n    EyeOutlined,\r\n    ToTopOutlined,\r\n    DeleteOutlined,\r\n    HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nexport default function () {\r\n    const { api } = useAppStore()\r\n    const history = useHistory()\r\n    const { params } = useRouteMatch()\r\n    const car_id = params.car_id\r\n    const columns = [\r\n        {\r\n            title: \"Matricule\",\r\n            dataIndex: \"matricule\",\r\n            copyable: true,\r\n            sorter: true,\r\n        },\r\n        {\r\n            title: \"Code GPS\",\r\n            dataIndex: \"code_gps\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Client\",\r\n            dataIndex: \"clients.designation\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Conducteur\",\r\n            dataIndex: \"drivers_fullname\",\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Date Décharge\",\r\n            dataIndex: \"date_decharge\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Date Restitution\",\r\n            dataIndex: \"restititions.date_restitition\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Date Fin Prestation\",\r\n            dataIndex: \"date_fin_prestation\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Cree par\",\r\n            dataIndex: \"username\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"option\",\r\n            valueType: \"option\",\r\n            dataIndex: \"id\",\r\n            render: (text, row, index, action) => [\r\n                <Tooltip title=\"Afficher\">\r\n                    <Button\r\n                        onClick={() => {\r\n                            history.push(\"/decharges/show/\" + row.id)\r\n                        }}\r\n                        shape=\"circle\" icon={<EyeOutlined />} />\r\n                </Tooltip>,\r\n            ]\r\n        }\r\n    ];\r\n    const actionRef = React.useRef()\r\n    return (\r\n        <Page withBack={true} title={\"Décharges\"} selectedSiderKey=\"list-cars\">\r\n            <ProTable\r\n                actionRef={actionRef}\r\n                size=\"small\"\r\n                search={true}\r\n                columns={columns}\r\n                ellipsis={true}\r\n                request={(params, sort, filters) => {\r\n                    if (sort) {\r\n                        params[\"sortBy\"] = Object.keys(sort)[0]\r\n                        params[\"sort\"] = Object.values(sort)[0]\r\n                    }\r\n                    if (filters) {\r\n                        params[\"filterBy\"] = Object.keys(filters)[0]\r\n                        params[\"filter\"] = Object.values(filters)\r\n                    }\r\n                    return api.get(\"/cars/decharges/\" + car_id, { params }).then((res) => res.data)\r\n                }}\r\n                pagination={{\r\n                    defaultCurrent: 1,\r\n                    pageSize: 10\r\n                }}\r\n            />\r\n        </Page>\r\n    );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const add = (data) => {\r\n    api.post(\"/clients\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/clients\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau client(Structure)\" selectedSiderKey=\"add-clients\">\r\n      <FormBuilder formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Code (SAP)\",\r\n      dataIndex: \"code\",\r\n      copyable: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"designation\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Localité\",\r\n      dataIndex: \"localite\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"TEL\",\r\n      dataIndex: \"tel\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      copyable: true\r\n    },\r\n    {\r\n      title: \"Client Hierachique\",\r\n      dataIndex: [\"client\", \"designation\"],\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <>\r\n          { hasRole(user, \"SUPPRIMER_CLIENT\") &&\r\n            <Tooltip title=\"Supprimer\">\r\n              <Button\r\n                onClick={() => {\r\n                  api.post(\"/clients/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n                }}\r\n                shape=\"circle\" icon={<DeleteOutlined />} />\r\n            </Tooltip>}\r\n        </>,\r\n        <>\r\n          {hasRole(user, \"MODIFIER_CLIENT\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/clients/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Clients\" selectedSiderKey=\"list-clients\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filter) => {\r\n          console.log(sort)\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          return api.get(\"/clients\", { params, sort }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n  const edit = (data) => {\r\n    api.put(\"/clients/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/clients\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/clients/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie client\" selectedSiderKey=\"list-clients\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { Loading3QuartersOutlined } from \"@ant-design/icons\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [loading, setLoading] = useState(false)\r\n  const add = (data) => {\r\n    setLoading(true);\r\n    api.post(\"/drivers\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/drivers\")\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau conducteur\" selectedSiderKey=\"add-drivers\">\r\n      <FormBuilder loading={loading} formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { hasRole } from \"utils\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Nom\",\r\n      dataIndex: \"firstname\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Prénom\",\r\n      dataIndex: \"lastname\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"TEL\",\r\n      dataIndex: \"tel\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      copyable: true\r\n    },\r\n    {\r\n      title: \"Code paie\",\r\n      dataIndex: \"code_paie\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"type\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Creéation\",\r\n      dataIndex: \"created_at\",\r\n      valueType: \"dateTime\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        ,\r\n        <>\r\n          { hasRole(user, \"SUPPRIMER_CONDUCTEUR\") &&\r\n            <Tooltip title=\"Supprimer\">\r\n              <Popconfirm\r\n                title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n                onConfirm={() => {\r\n                  api.post(\"/drivers/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n                }}\r\n                onCancel={() => { }}\r\n                okText=\"Oui\"\r\n                cancelText=\"No\"\r\n              >\r\n                <Button\r\n\r\n                  shape=\"circle\" icon={<DeleteOutlined />}\r\n                />\r\n              </Popconfirm>\r\n            </Tooltip>}\r\n        </>,\r\n        <>\r\n          {hasRole(user, \"MODIFIER_CONDUCTEUR\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/drivers/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Conducteurs\" selectedSiderKey=\"list-drivers\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/drivers\", { params }).then((res) => res.data.data)\r\n        }}\r\n\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n\r\n  const edit = (data) => {\r\n    api.put(\"/drivers/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/drivers\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/drivers/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie conducteur\" selectedSiderKey=\"list-drivers\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const add = (data) => {\r\n    setLoading(true);\r\n    api.post(\"/clients\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/clients\")\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau client(Structure)\" selectedSiderKey=\"add-clients\">\r\n      <FormBuilder loading={loading} formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Code (SAP)\",\r\n      dataIndex: \"code\",\r\n      copyable: true,\r\n      hideInSearch: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"designation\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Localité\",\r\n      dataIndex: \"localite\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"TEL\",\r\n      dataIndex: \"tel\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      copyable: true\r\n    },\r\n    {\r\n      title: \"Client Hierachique\",\r\n      dataIndex: [\"client_h_designation\"],\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <>\r\n          {\r\n            hasRole(user, \"SUPPRIMER_CLIENT\") &&\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n              onConfirm={() => {\r\n                api.post(\"/clients/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Tooltip title=\"Supprimer\">\r\n                <Button\r\n                  shape=\"circle\" icon={<DeleteOutlined />} />\r\n              </Tooltip>\r\n            </Popconfirm>\r\n          }\r\n        </>,\r\n\r\n        <>\r\n          {hasRole(user, \"MODIFIER_CLIENT\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/clients/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Clients\" selectedSiderKey=\"list-clients\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/clients\", { params }).then((res) => res.data.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, DatePicker } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck } from 'react-icons/fa';\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst [date1, setDate1] = React.useState(moment().startOf('month'))\r\n\tconst [date2, setDate2] = React.useState(moment())\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Matricule\",\r\n\t\t\tdataIndex: \"cars_matricule\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Code GPS\",\r\n\t\t\tdataIndex: \"cars_code_gps\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Client\",\r\n\t\t\tdataIndex: \"clients_designation\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.clients_mother_designation) {\r\n\t\t\t\t\treturn row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn row.clients_designation\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date Décharge\",\r\n\t\t\tdataIndex: \"decharges_date_decharge\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date Fin Prestation\",\r\n\t\t\tdataIndex: \"decharges_date_fin_prestation\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date restitution\",\r\n\t\t\tdataIndex: \"restititions_date_restitition\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valider par\",\r\n\t\t\tdataIndex: \"acceptedby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<Tooltip title=\"Afficher\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push(\"/decharges/show/\" + row.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<EyeOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title={\"Mise à disposition VL\"}>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"date1\"] = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"date2\"] = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"format\"] = \"json\"\r\n\t\t\t\t\treturn api.get(\"/mise_disposition_vl\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div style={{ flex: 1, display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date1\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate1(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date1}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date2\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate2(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date2}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n\t\t\t\t\t\t<RiFileExcel2Line\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst d1 = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tconst d2 = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tapi.get(`/mise_disposition_vl?format=excel&date1=${d1}&date2=${d2}`,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tresponseType: 'blob',\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconst url = window.URL.createObjectURL(new Blob([res.data]));\r\n\t\t\t\t\t\t\t\t\tconst link = document.createElement('a');\r\n\t\t\t\t\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\t\t\t\t\tlink.setAttribute('download', 'etat_vehicules_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n\t\t\t\t\t\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\t\t\t\t\t\tlink.click();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n  const edit = (data) => {\r\n    api.put(\"/clients/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/clients\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/clients/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie client\" selectedSiderKey=\"list-clients\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"cars_matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"clients_designation\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: false,\r\n      render: (text, row, index, action) => {\r\n        if (row.clients_mother_designation) {\r\n          return row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n        } else {\r\n          return row.clients_designation\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      dataIndex: \"drivers_fullname\",\r\n      sorter: true,\r\n      copyable: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Décharge\",\r\n      dataIndex: \"date_decharge\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Fin Prestation\",\r\n      dataIndex: \"date_fin_prestation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"createdby_username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Valider par\",\r\n      dataIndex: \"acceptedby_username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Afficher\">\r\n          <Button\r\n            onClick={() => {\r\n              history.push(\"/decharges/show/\" + row.id)\r\n            }}\r\n            shape=\"circle\" icon={<EyeOutlined />} />\r\n        </Tooltip>,\r\n        <>\r\n          {hasRole(user, \"VALIDER_DECHARGE\") &&\r\n\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir valider?\"\r\n              onConfirm={() => {\r\n                api.post(\"/decharges/accepte/\" + row.id).then(() => {\r\n                  message.success(\"Decharge validée!\")\r\n                  actionRef.current.reload()\r\n                })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n              disabled={row.acceptedby_username}\r\n            >\r\n              <Tooltip title=\"Valider\">\r\n                <Button\r\n                  disabled={row.acceptedby_username}\r\n                  shape=\"circle\" icon={<FaCheck />} />\r\n              </Tooltip>\r\n            </Popconfirm>\r\n          }\r\n        </>,\r\n        <>\r\n          {hasRole(user, \"MODIFIER_DECHARGE\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/decharges/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n\r\n        <>\r\n          {\r\n            hasRole(user, \"DECHARGE_CHANGER_CONDUCTEUR\") &&\r\n            <Tooltip title=\"Change conducteur\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/decharges/checklist/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<FaUserEdit />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n        <>\r\n          {\r\n            hasRole(user, \"RESTITUER_DECHARGE\") && <Tooltip title=\"Restitution\">\r\n              <Button\r\n                disabled={row[\"restititions.id\"]}\r\n                onClick={() => {\r\n                  history.push(\"/decharges/restitition/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<ToTopOutlined />} />\r\n            </Tooltip>}\r\n        </>,\r\n\r\n        <>\r\n          {\r\n            hasRole(user, \"SUPPRIMER_DECHARGE\") &&\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n              onConfirm={() => {\r\n                api.post(\"/decharges/delete/\" + row.id).then(() => {\r\n                  message.info(\"Bien Supprimé\"); action.reload();\r\n                })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button\r\n                shape=\"circle\" icon={<DeleteOutlined />}\r\n              />\r\n            </Popconfirm>\r\n          }\r\n        </>\r\n\r\n      ]\r\n    }\r\n  ];\r\n  return (\r\n    <Page title={\"Décharges\"} selectedSiderKey=\"list-cars\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/decharges\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Divider, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport PrintRestitition from \"components/PrintRestitition\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport Print from \"components/Print\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const { params } = useRouteMatch()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ step: 0 })\r\n  window.allData = allData\r\n\r\n  useEffect(() => {\r\n    api.get(\"decharges/\" + params.id).then((res) => {\r\n      setAllData({ ...allData, decharge: res.data.data })\r\n    })\r\n  }, [params])\r\n\r\n\r\n\r\n  const printDecharge = useRef(null);\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  const printRestitition = useRef(null);\r\n  const handlePrintRestitition = useReactToPrint({\r\n    content: () => printRestitition.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n  return (\r\n    <Page withBack={true} loading={!allData.decharge} title={\"Affiche decharge n° \" + params.id}>\r\n\r\n      {\r\n        allData?.decharge?.restitition &&\r\n        <>\r\n          <Divider orientation=\"left\"><h1><b>Restitution (Decharge)</b></h1></Divider>\r\n          <Print\r\n            component={<PrintRestitition ref={printRestitition} decharge={allData?.decharge} />}\r\n            disabledDelete={true}\r\n          />\r\n        </>\r\n      }\r\n      {\r\n        allData?.decharge?.checklists.reverse().map((checklist, i) => (\r\n          <>\r\n            <Divider orientation=\"left\"><h1><b>Chcklist Le:</b> {checklist.date_checklist}:</h1></Divider>\r\n            <Print\r\n              component={\r\n                <PrintDecharge checklist={{\r\n                  ...allData?.decharge,\r\n                  ...checklist,\r\n                  \"drivers.firstname\": checklist.driver.firstname,\r\n                  \"drivers.lastname\": checklist.driver.lastname\r\n                }}\r\n                />\r\n              }\r\n              onDelete={() => {\r\n                api.post(\"decharges/checklist/delete/\" + checklist.id).then(() => {\r\n                  history.push(\"/decharges\")\r\n                  message.info(\"Checklist est supprimer\")\r\n                })\r\n              }}\r\n              disabledDelete={i === (allData?.decharge?.checklists.length - 1)}\r\n            />\r\n          </>\r\n        ))\r\n      }\r\n    </Page >\r\n  )\r\n}","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { message, Card, Divider } from 'antd';\r\nimport * as moment from \"moment\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { formDechargeItems, formCheckListRestititionItems } from \"./columns\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const { params } = useRouteMatch()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ decharge: null })\r\n  window.allData = allData\r\n  useEffect(() => {\r\n    api.get(\"decharges/\" + params.id).then((res) => {\r\n      const driver = {\r\n        id: res.data.data[\"drivers.id\"],\r\n        firstname: res.data.data[\"drivers.firstname\"],\r\n        lastname: res.data.data[\"drivers.lastname\"],\r\n      }\r\n      setAllData({ ...allData, decharge: res.data.data, driver })\r\n\r\n    })\r\n  }, [])\r\n\r\n  const restitition = (data) => {\r\n    data[\"car_id\"] = allData.decharge[\"cars.id\"]\r\n    data[\"decharge_id\"] = allData.decharge[\"decharges.id\"]\r\n    data[\"date_restitition\"] = data[\"date_restitition\"] ? data[\"date_restitition\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    data[\"date_checklist\"] = data[\"date_restitition\"]\r\n    api.post(\"decharges/restitition/\" + params.id, data).then((res) => {\r\n      message.success(\"Bien Ajouter\")\r\n      history.push(\"/decharges/show/\" + params.id)\r\n    })\r\n  }\r\n  return (\r\n    <Page withBack={true} loading={!allData.decharge} title={\"Restitition (Décharge)\"}>\r\n      <Card\r\n        title={`Decharge N° ${allData.decharge && allData.decharge[\"decharges.id\"]}, Le ${allData.decharge && moment(allData.decharge[\"decharges.date_decharge\"]).format(\"DD-MM-Y\")}`}\r\n        extra={<Link to={`/decharges/show/${allData.decharge && allData.decharge[\"decharges.id\"]}`}>Plus d'info</Link>}\r\n      >\r\n        <p><b>Client:</b> {allData.decharge && allData.decharge[\"clients.designation\"]}</p>\r\n        <p><b>Marque véhicule:</b> {allData.decharge && allData.decharge[\"cars.marque\"]}</p>\r\n        <p><b>Matricule véhicule:</b> {allData.decharge && allData.decharge[\"cars.matricule\"]}</p>\r\n        <p><b>Code GPS:</b> {allData.decharge && allData.decharge[\"cars.code_gps\"]}</p>\r\n      </Card>\r\n      <Divider orientation=\"left\"><h1>Chcklist de restitition:</h1></Divider>\r\n      {allData.decharge &&\r\n\r\n        <FormBuilder\r\n          formItems={formCheckListRestititionItems} onFinish={restitition}\r\n          initialValues={\r\n            {\r\n              driver: allData.driver,\r\n              driver_id: allData.driver && allData.driver.id,\r\n              odometre: allData?.decharge && allData.decharge.odometre,\r\n              date_restitition: moment(),\r\n              assurance: allData.decharge.assurance,\r\n              assurance_marchandises: allData.decharge.assurance_marchandises,\r\n              boite_pharm: allData.decharge.boite_pharm,\r\n              carnet_enter: allData.decharge.carnet_enter,\r\n              carte_gpl: allData.decharge.carte_gpl,\r\n              carte_grise: allData.decharge.carte_grise,\r\n              cle_roue: allData.decharge.cle_roue,\r\n              cle_vehicule: allData.decharge.cle_vehicule,\r\n              cric: allData.decharge.cric,\r\n              extincteur: allData.decharge.extincteur,\r\n              gillet: allData.decharge.gillet,\r\n              niveau_carburant: allData.decharge.niveau_carburant,\r\n              permis_circuler: allData.decharge.permis_circuler,\r\n              pochette_cle: allData.decharge.pochette_cle,\r\n              poste_radio: allData.decharge.poste_radio,\r\n              roue_secour: allData.decharge.roue_secour,\r\n              scanner: allData.decharge.scanner,\r\n              starts: allData.decharge.starts,\r\n              triangle: allData.decharge.triangle,\r\n              vignette: allData.decharge.vignette\r\n            }\r\n          }\r\n        />\r\n      }\r\n    </Page >\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { hasRole } from \"utils\";\r\n\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n  const routeMatch = useRouteMatch()\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"cars_matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"clients_designation\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: false,\r\n      render: (text, row, index, action) => {\r\n        if (row.clients_mother_designation) {\r\n          return row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n        } else {\r\n          return row.clients_designation\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      copyable: true,\r\n      dataIndex: \"drivers_fullname\",\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Décharge\",\r\n      dataIndex: \"date_decharge\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Fin Prestation\",\r\n      dataIndex: \"date_fin_prestation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Restitution\",\r\n      dataIndex: \"restititions.date_restitition\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Afficher\">\r\n          <Button\r\n            onClick={() => {\r\n              console.log(row)\r\n              history.push(\"/decharges/show/\" + row[\"id\"])\r\n            }}\r\n            shape=\"circle\" icon={<EyeOutlined />} />\r\n        </Tooltip>,\r\n        <>\r\n          {\r\n            hasRole(user, \"SUPPRIMER_DECHARGE_RESTIUER\") &&\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n              onConfirm={() => {\r\n                api.post(\"/decharges/restititions/delete/\" + row[\"restititions.id\"]).then(() => {\r\n                  message.info(\"Bien Supprimé\"); action.reload();\r\n                })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button shape=\"circle\" icon={<DeleteOutlined />} />\r\n            </Popconfirm >\r\n          }\r\n        </>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  return (\r\n    <Page title={\"Décharges Restituer\"} >\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          console.log(routeMatch)\r\n          return api.get(\"/decharges/restititions/\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const routeMatch = useRouteMatch()\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"clients.designation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      dataIndex: \"drivers_fullname\",\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Décharge\",\r\n      dataIndex: \"date_decharge\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Fin Prestation\",\r\n      dataIndex: \"date_fin_prestation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Restitition\",\r\n      dataIndex: \"restititions.date_restitition\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Afficher\">\r\n          <Button\r\n            onClick={() => {\r\n              history.push(\"/decharges/show/\" + row.id)\r\n            }}\r\n            shape=\"circle\" icon={<EyeOutlined />} />\r\n        </Tooltip>,\r\n        <Tooltip title=\"Supprimer\">\r\n          <Button\r\n            onClick={() => {\r\n              //api.post(\"/decharges/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n            }}\r\n            shape=\"circle\" icon={<DeleteOutlined />} />\r\n        </Tooltip>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  return (\r\n    <Page withBack={true} title={\"Historique CheckList\"}>\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/decharges/history/\" + routeMatch.params.car_id, { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { message, Card, Divider } from \"antd\";\r\nimport * as moment from \"moment\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { FormBuilder } from \"components/UIBuilder\";\r\nimport { formCheckListItems, formCheckListRestititionItems } from \"./columns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nexport default function () {\r\n  const { api } = useAppStore();\r\n  const { params } = useRouteMatch();\r\n  const history = useHistory();\r\n  const [allData, setAllData] = useState({ decharge: null });\r\n  window.allData = allData;\r\n  useEffect(() => {\r\n    api.get(\"decharges/\" + params.id).then((res) => {\r\n      setAllData({ ...allData, decharge: res.data.data });\r\n    });\r\n  }, []);\r\n\r\n  const addChecklist = (data) => {\r\n    data[\"car_id\"] = allData.decharge[\"cars.id\"];\r\n    data[\"decharge_id\"] = allData.decharge[\"decharges.id\"];\r\n    data[\"date_checklist\"] = data[\"date_checklist\"]\r\n      ? data[\"date_checklist\"].format(\"yy-M-D\")\r\n      : moment().format(\"yy-M-D\");\r\n    api.post(\"decharges/checklist/\" + params.id, data).then((res) => {\r\n      message.success(\"Bien Ajouter\");\r\n      history.push(\"/decharges/show/\" + params.id);\r\n    });\r\n  };\r\n  return (\r\n    <Page\r\n      withBack={true}\r\n      loading={!allData.decharge}\r\n      title={\"Changement de conducteur\"}\r\n    >\r\n      <Card\r\n        title={`Decharge N° ${allData.decharge && allData.decharge[\"decharges.id\"]\r\n          }, Le ${allData.decharge &&\r\n          moment(allData.decharge[\"decharges.date_decharge\"]).format(\"DD-MM-Y\")\r\n          }`}\r\n        extra={\r\n          <Link\r\n            to={`/decharges/show/${allData.decharge && allData.decharge[\"decharges.id\"]\r\n              }`}\r\n          >\r\n            Plus d'info\r\n          </Link>\r\n        }\r\n      >\r\n        <p>\r\n          <b>Client:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"clients.designation\"]}\r\n        </p>\r\n        <p>\r\n          <b>Marque véhicule:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"cars.marque\"]}\r\n        </p>\r\n        <p>\r\n          <b>Matricule véhicule:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"cars.matricule\"]}\r\n        </p>\r\n        <p>\r\n          <b>Code GPS:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"cars.code_gps\"]}\r\n        </p>\r\n      </Card>\r\n      <Divider orientation=\"left\">\r\n        <h1>Chcklist:</h1>\r\n      </Divider>\r\n      {\r\n        allData.decharge &&\r\n        <FormBuilder\r\n          formItems={[\r\n            {\r\n              name: \"date_checklist\",\r\n              label: \"Date checklist\",\r\n              type: \"date\",\r\n              disabledDate: (current, form) =>\r\n                current &&\r\n                current < moment(allData.decharge.checklists[0].date_checklist)\r\n            },\r\n            {\r\n              name: \"driver_id\",\r\n              label: \"Conducteur\",\r\n              type: \"search\",\r\n              rules: [{ required: true, message: _messages.required }],\r\n              url: \"drivers/search\",\r\n              defaultOptionName: \"driver\",\r\n              mapOptionToString: (c) => c?.firstname + \" \" + c.lastname\r\n            },\r\n            {\r\n              name: \"niveau_carburant\",\r\n              label: \"Niveau carburant\",\r\n              rules: [{ required: true, message: _messages.required }],\r\n              type: \"progress\"\r\n            },\r\n            {\r\n              name: \"odometre\",\r\n              label: \"Odometre\",\r\n              rules: [{ required: true, message: _messages.required }],\r\n              type: \"integer\",\r\n              inputProp: {\r\n                suffix: \"KM\"\r\n              }\r\n            },\r\n            {\r\n              name: \"starts\",\r\n              label: \"Etat de véhicule\",\r\n              type: \"rate\"\r\n            },\r\n            {\r\n              name: \"cle_vehicule\",\r\n              label: \"Nbs clés véhicule\",\r\n              type: \"integer\",\r\n              inputProp: {\r\n                suffix: \"Clé(s)\"\r\n              }\r\n            },\r\n            {\r\n              name: \"carte_grise\",\r\n              label: \"Carte grise\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"assurance\",\r\n              label: \"Assurance\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"assurance_marchandises\",\r\n              label: \"Assurance marchandises\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"scanner\",\r\n              label: \"Scanner\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"permis_circuler\",\r\n              label: \"Permis circuler\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"carnet_enter\",\r\n              label: \"Carnet entretien\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"vignette\",\r\n              label: \"Vignette\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"carte_gpl\",\r\n              label: \"Carte GPL\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"gillet\",\r\n              label: \"Gillet\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"roue_secour\",\r\n              label: \"Roue secour\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"cric\",\r\n              label: \"Cric\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"cle_roue\",\r\n              label: \"Cle roue\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"poste_radio\",\r\n              label: \"Poste radio\",\r\n              type: \"checkbox\"\r\n            },\r\n\r\n            {\r\n              name: \"extincteur\",\r\n              label: \"Extincteur\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"boite_pharm\",\r\n              label: \"Boite pharmacie\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"triangle\",\r\n              label: \"Triangle de présignalisation\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"pochette_cle\",\r\n              label: \"Pochette des clés\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"observation_checklist\",\r\n              label: \"Observation\",\r\n              type: \"textarea\"\r\n            }\r\n          ]}\r\n          onFinish={addChecklist}\r\n          initialValues={{\r\n            odometre: allData.decharge.odometre,\r\n            assurance: allData.decharge.assurance,\r\n            assurance_marchandises: allData.decharge.assurance_marchandises,\r\n            boite_pharm: allData.decharge.boite_pharm,\r\n            carnet_enter: allData.decharge.carnet_enter,\r\n            carte_gpl: allData.decharge.carte_gpl,\r\n            carte_grise: allData.decharge.carte_grise,\r\n            cle_roue: allData.decharge.cle_roue,\r\n            cle_vehicule: allData.decharge.cle_vehicule,\r\n            cric: allData.decharge.cric,\r\n            extincteur: allData.decharge.extincteur,\r\n            gillet: allData.decharge.gillet,\r\n            niveau_carburant: allData.decharge.niveau_carburant,\r\n            permis_circuler: allData.decharge.permis_circuler,\r\n            pochette_cle: allData.decharge.pochette_cle,\r\n            poste_radio: allData.decharge.poste_radio,\r\n            roue_secour: allData.decharge.roue_secour,\r\n            scanner: allData.decharge.scanner,\r\n            starts: allData.decharge.starts,\r\n            triangle: allData.decharge.triangle,\r\n            vignette: allData.decharge.vignette\r\n          }}\r\n        />\r\n      }\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport * as moment from \"moment\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SearchMultipleInput from \"components/SearchMultipleInput\"\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\twindow.api = api\r\n\tconst history = useHistory()\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"type\"] = \"VL\"\r\n\t\tdataForm[\"date_bon_mission\"] = dataForm[\"date_bon_mission\"] ? dataForm[\"date_bon_mission\"].format(\"yy-M-D\") : null\r\n\t\tdataForm[\"date_depart_mission\"] = dataForm[\"date_depart_mission\"] ? dataForm[\"date_depart_mission\"].format(\"yy-M-D\") : null\r\n\t\tdataForm[\"date_arrivee_mission\"] = dataForm[\"date_arrivee_mission\"] ? dataForm[\"date_arrivee_mission\"].format(\"yy-M-D\") : null\r\n\t\tapi.post(\"/missionvls\", dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\thistory.push(\"/missions_vl/\" + res?.data?.id)\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<Page title=\"Nouvelle mission VL\">\r\n\t\t\t<FormBuilder\r\n\t\t\t\tformItems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"numero\",\r\n\t\t\t\t\t\tlabel: \"Numero bon commande\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_bon_mission\",\r\n\t\t\t\t\t\tlabel: \"Date d'effet(Bon commande)\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"car_id\",\r\n\t\t\t\t\t\tlabel: \"Véhicule\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\t//\tquery_string: \"groupe=leger\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"client_id\",\r\n\t\t\t\t\t\tlabel: \"Client\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"clients/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"client\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.designation\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"depart_id\",\r\n\t\t\t\t\t\tlabel: \"Départ\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cities/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"depart\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.wilaya_name + \" - \" + c?.daira_name + \" - \" + c?.commune_name\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"destinations\",\r\n\t\t\t\t\t\tlabel: \"Destination\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver1_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 1\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"driver1\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver2_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 2\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\tdefaultOptionName: \"driver2\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_depart_mission\",\r\n\t\t\t\t\t\tlabel: \"Date depart\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_bon_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_arrivee_mission\",\r\n\t\t\t\t\t\tlabel: \"Date arrivée\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_depart_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"Observation\",\r\n\t\t\t\t\t\tlabel: \"observation\",\r\n\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tdate_bon_mission: moment(),\r\n\t\t\t\t\tdate_depart_mission: moment(),\r\n\t\t\t\t\tdepart_id: 1158,\r\n\t\t\t\t\tdepart: {\r\n\t\t\t\t\t\t\"id\": 1158,\r\n\t\t\t\t\t\t\"wilaya_name\": \"Bordj Bou Arreridj\",\r\n\t\t\t\t\t\t\"daira_name\": \"Bordj Bou Arreridj\",\r\n\t\t\t\t\t\t\"commune_name\": \"Bordj Bou Arreridj\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonFinish={add}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\nimport * as moment from \"moment\"\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n\tconst { params } = useRouteMatch()\r\n\tconst { api } = useAppStore()\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [data, setData] = useState({})\r\n\tconst history = useHistory()\r\n\r\n\tconst edit = (data) => {\r\n\t\tdata[\"type\"] = \"VL\"\r\n\t\tdata[\"date_arrivee\"] = data[\"date_arrivee\"] ? data[\"date_arrivee\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_arrivee_destination\"] = data[\"date_arrivee_destination\"] ? data[\"date_arrivee_destination\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_arrivee_mission\"] = data[\"date_arrivee_mission\"] ? data[\"date_arrivee_mission\"].format(\"yy-M-D\") : null\r\n\t\tdata[\"date_depart\"] = data[\"date_depart\"] ? data[\"date_depart\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_depart_destination\"] = data[\"date_depart_destination\"] ? data[\"date_depart_destination\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_depart_mission\"] = data[\"date_depart_mission\"] ? data[\"date_depart_mission\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_bon_mission\"] = data[\"date_bon_mission\"] ? data[\"date_bon_mission\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\r\n\t\tapi.put(\"/missionvls/\" + params.id, data).then((res) => {\r\n\t\t\tmessage.info(\"Bien modifier\")\r\n\t\t\thistory.push(\"/missions_vl\")\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/missionvls/\" + params.id).then(({ data }) => {\r\n\t\t\tsetData(data.data)\r\n\t\t\tsetLoading(false)\r\n\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Page withBack={true} loading={loading} title=\"Modifie Mission VL\" selectedSiderKey=\"list-drivers\">\r\n\t\t\t<FormBuilder\r\n\t\t\t\tformItems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"numero\",\r\n\t\t\t\t\t\tlabel: \"Numero bon commande\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_bon_mission\",\r\n\t\t\t\t\t\tlabel: \"Date d'effet(Bon commande)\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"car_id\",\r\n\t\t\t\t\t\tlabel: \"Véhicule\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\tquery_string: \"groupe=leger\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"client_id\",\r\n\t\t\t\t\t\tlabel: \"Client\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"clients/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"client\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.designation\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"depart_id\",\r\n\t\t\t\t\t\tlabel: \"Départ\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cities/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"depart\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.wilaya_name + \" - \" + c?.daira_name + \" - \" + c?.commune_name\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"destinations\",\r\n\t\t\t\t\t\tlabel: \"Destination\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver1_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 1\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"driver1\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver2_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 2\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\tdefaultOptionName: \"driver2\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_depart_mission\",\r\n\t\t\t\t\t\tlabel: \"Date depart\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_bon_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_arrivee_mission\",\r\n\t\t\t\t\t\tlabel: \"Date arrivée\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_depart_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"Observation\",\r\n\t\t\t\t\t\tlabel: \"observation\",\r\n\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tdate_arrivee: moment(data[\"date_arrivee\"]),\r\n\t\t\t\t\tdate_arrivee_destination: moment(data[\"date_arrivee_destination\"]),\r\n\t\t\t\t\tdate_arrivee_mission: data[\"date_arrivee_mission\"] ? moment(data[\"date_arrivee_mission\"]) : null,\r\n\t\t\t\t\tdate_bon_mission: moment(data[\"date_bon_mission\"]),\r\n\t\t\t\t\tdate_depart: moment(data[\"date_depart\"]),\r\n\t\t\t\t\tdate_depart_destination: moment(data[\"date_depart_destination\"]),\r\n\t\t\t\t\tdate_depart_mission: data[\"date_depart_mission\"] ? moment(data[\"date_depart_mission\"]) : null,\r\n\t\t\t\t\tcreated_at: moment(data[\"created_at\"]),\r\n\t\t\t\t\tupdated_at: moment(data[\"updated_at\"]),\r\n\t\t\t\t}}\r\n\t\t\t\tonFinish={edit}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n\r\n}","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport * as moment from \"moment\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SearchMultipleInput from \"components/SearchMultipleInput\"\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\twindow.api = api\r\n\tconst history = useHistory()\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"type\"] = \"MD\"\r\n\t\tdataForm[\"date_bon_mission\"] = dataForm[\"date_bon_mission\"] ? dataForm[\"date_bon_mission\"].format(\"yy-M-D\") : null\r\n\t\tdataForm[\"date_depart_mission\"] = dataForm[\"date_depart_mission\"] ? dataForm[\"date_depart_mission\"].format(\"yy-M-D\") : null\r\n\t\tdataForm[\"date_arrivee_mission\"] = dataForm[\"date_arrivee_mission\"] ? dataForm[\"date_arrivee_mission\"].format(\"yy-M-D\") : null\r\n\t\tapi.post(\"/missionvls\", dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\thistory.push(\"/missions_md/\" + res?.data?.id)\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<Page title=\"Nouvelle mission MD\">\r\n\t\t\t<FormBuilder\r\n\t\t\t\tformItems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"numero\",\r\n\t\t\t\t\t\tlabel: \"Numero bon commande\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_bon_mission\",\r\n\t\t\t\t\t\tlabel: \"Date d'effet(Bon commande)\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"car_id\",\r\n\t\t\t\t\t\tlabel: \"Tracteur\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\tquery_string: \"groupe=LIVRAISON%20MARCHANDISE\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"remourque_id\",\r\n\t\t\t\t\t\tlabel: \"Remorque\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\tquery_string: \"genre=REMORQUE\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"client_id\",\r\n\t\t\t\t\t\tlabel: \"Client\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"clients/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"client\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.designation\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"depart_id\",\r\n\t\t\t\t\t\tlabel: \"Départ\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cities/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"depart\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.wilaya_name + \" - \" + c?.daira_name + \" - \" + c?.commune_name\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"destinations\",\r\n\t\t\t\t\t\tlabel: \"Destination\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver1_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 1\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"driver1\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver2_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 2\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\tdefaultOptionName: \"driver2\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_depart_mission\",\r\n\t\t\t\t\t\tlabel: \"Date depart\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_bon_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_arrivee_mission\",\r\n\t\t\t\t\t\tlabel: \"Date arrivée\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_depart_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"Observation\",\r\n\t\t\t\t\t\tlabel: \"observation\",\r\n\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tdate_bon_mission: moment(),\r\n\t\t\t\t\tdate_depart_mission: moment(),\r\n\t\t\t\t\tdepart_id: 1158,\r\n\t\t\t\t\tdepart: {\r\n\t\t\t\t\t\t\"id\": 1158,\r\n\t\t\t\t\t\t\"wilaya_name\": \"Bordj Bou Arreridj\",\r\n\t\t\t\t\t\t\"daira_name\": \"Bordj Bou Arreridj\",\r\n\t\t\t\t\t\t\"commune_name\": \"Bordj Bou Arreridj\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonFinish={add}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\nimport * as moment from \"moment\"\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n\tconst { params } = useRouteMatch()\r\n\tconst { api } = useAppStore()\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [data, setData] = useState({})\r\n\tconst history = useHistory()\r\n\r\n\tconst edit = (data) => {\r\n\t\tdata[\"type\"] = \"VL\"\r\n\t\tdata[\"date_arrivee\"] = data[\"date_arrivee\"] ? data[\"date_arrivee\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_arrivee_destination\"] = data[\"date_arrivee_destination\"] ? data[\"date_arrivee_destination\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_arrivee_mission\"] = data[\"date_arrivee_mission\"] ? data[\"date_arrivee_mission\"].format(\"yy-M-D\") : null\r\n\t\tdata[\"date_depart\"] = data[\"date_depart\"] ? data[\"date_depart\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_depart_destination\"] = data[\"date_depart_destination\"] ? data[\"date_depart_destination\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_depart_mission\"] = data[\"date_depart_mission\"] ? data[\"date_depart_mission\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_bon_mission\"] = data[\"date_bon_mission\"] ? data[\"date_bon_mission\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\r\n\t\tapi.put(\"/missionvls/\" + params.id, data).then((res) => {\r\n\t\t\tmessage.info(\"Bien modifier\")\r\n\t\t\thistory.push(\"/missions_vl\")\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/missionvls/\" + params.id).then(({ data }) => {\r\n\t\t\tsetData(data.data)\r\n\t\t\tsetLoading(false)\r\n\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Page withBack={true} loading={loading} title=\"Modifie Mission VL\" selectedSiderKey=\"list-drivers\">\r\n\t\t\t<FormBuilder\r\n\t\t\t\tformItems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"numero\",\r\n\t\t\t\t\t\tlabel: \"Numero bon commande\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_bon_mission\",\r\n\t\t\t\t\t\tlabel: \"Date d'effet(Bon commande)\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"car_id\",\r\n\t\t\t\t\t\tlabel: \"Véhicule\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\tquery_string: \"groupe=leger\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"client_id\",\r\n\t\t\t\t\t\tlabel: \"Client\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"clients/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"client\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.designation\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"depart_id\",\r\n\t\t\t\t\t\tlabel: \"Départ\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cities/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"depart\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.wilaya_name + \" - \" + c?.daira_name + \" - \" + c?.commune_name\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"destinations\",\r\n\t\t\t\t\t\tlabel: \"Destination\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver1_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 1\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"driver1\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver2_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 2\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\tdefaultOptionName: \"driver2\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_depart_mission\",\r\n\t\t\t\t\t\tlabel: \"Date depart\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_bon_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_arrivee_mission\",\r\n\t\t\t\t\t\tlabel: \"Date arrivée\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_depart_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"Observation\",\r\n\t\t\t\t\t\tlabel: \"observation\",\r\n\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tdate_arrivee: moment(data[\"date_arrivee\"]),\r\n\t\t\t\t\tdate_arrivee_destination: moment(data[\"date_arrivee_destination\"]),\r\n\t\t\t\t\tdate_arrivee_mission: data[\"date_arrivee_mission\"] ? moment(data[\"date_arrivee_mission\"]) : null,\r\n\t\t\t\t\tdate_bon_mission: moment(data[\"date_bon_mission\"]),\r\n\t\t\t\t\tdate_depart: moment(data[\"date_depart\"]),\r\n\t\t\t\t\tdate_depart_destination: moment(data[\"date_depart_destination\"]),\r\n\t\t\t\t\tdate_depart_mission: data[\"date_depart_mission\"] ? moment(data[\"date_depart_mission\"]) : null,\r\n\t\t\t\t\tcreated_at: moment(data[\"created_at\"]),\r\n\t\t\t\t\tupdated_at: moment(data[\"updated_at\"]),\r\n\t\t\t\t}}\r\n\t\t\t\tonFinish={edit}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, DatePicker } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport ChangeState from \"./components/ChangeState\"\r\nimport CalcGPS from \"./components/CalcGPS\"\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst [date1, setDate1] = React.useState(moment().startOf('month'))\r\n\tconst [date2, setDate2] = React.useState(moment())\r\n\r\n\tconst [loadingDownload, setLoadingDownload] = React.useState(false)\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Matricule\",\r\n\t\t\tdataIndex: \"cars_matricule\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Code GPS\",\r\n\t\t\tdataIndex: \"cars_code_gps\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Client\",\r\n\t\t\tdataIndex: \"clients_designation\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.clients_mother_designation) {\r\n\t\t\t\t\treturn row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn row.clients_designation\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Conducteur\",\r\n\t\t\tdataIndex: \"driver1s_fullname\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Depart\",\r\n\t\t\tdataIndex: \"driver1s_fullname\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row.departs_wilaya_name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Destinations\",\r\n\t\t\tdataIndex: \"destinations\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date départ\",\r\n\t\t\tdataIndex: \"missions_date_depart_mission\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date arrivee\",\r\n\t\t\tdataIndex: \"missions_date_arrivee_mission\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Status\",\r\n\t\t\tdataIndex: \"missionvls_state\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => (<ChangeState mission={row} />)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valider par\",\r\n\t\t\tdataIndex: \"acceptedby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"GPS par\",\r\n\t\t\tdataIndex: \"gpsby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<Tooltip title=\"Afficher\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push(\"/missions_vl/show/\" + row.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<PrinterOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"MODIFIER_GPS_MISSION_VL\") &&\r\n\t\t\t\t\t\t<CalcGPS />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{hasRole(user, \"VALIDER_MISSION_VL\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir valider?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/missionvls/accepte/\" + row.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tmessage.success(\"Mission validée!\")\r\n\t\t\t\t\t\t\t\t\tactionRef.current.reload()\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t\tdisabled={row.acceptedby_username}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Valider\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={row.acceptedby_username}\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<FaCheck />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{hasRole(user, \"MODIFIER_MISSION_VL\") &&\r\n\t\t\t\t\t\t<Tooltip title=\"Modifier\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thistory.push(\"/missions_vl/edit/\" + row.id)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_MISSION_VL\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/missionvls/delete/\" + row.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tmessage.info(\"Bien Supprimé\"); action.reload();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title={\"Missions VL\"} selectedSiderKey=\"list-cars\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"date1\"] = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"date2\"] = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\treturn api.get(\"/missionvls?type=VL\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div style={{ flex: 1, display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date1\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate1(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date1}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date2\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate2(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date2}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tloading={loadingDownload}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\ticon={<RiFileExcel2Line size={20} />}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst d1 = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tconst d2 = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tsetLoadingDownload(true)\r\n\t\t\t\t\t\t\t\tapi.get(`/missionvls?format=excel&date1=${d1}&date2=${d2}`,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tresponseType: 'blob',\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconst url = window.URL.createObjectURL(new Blob([res.data]));\r\n\t\t\t\t\t\t\t\t\tconst link = document.createElement('a');\r\n\t\t\t\t\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\t\t\t\t\tlink.setAttribute('download', 'etat_missions_vl_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n\t\t\t\t\t\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\t\t\t\t\t\tlink.click();\r\n\t\t\t\t\t\t\t\t\tsetLoadingDownload(false)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, DatePicker } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport ChangeState from \"./components/ChangeState\"\r\nimport CalcGPS from \"./components/CalcGPS\"\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst [date1, setDate1] = React.useState(moment().startOf('month'))\r\n\tconst [date2, setDate2] = React.useState(moment())\r\n\r\n\tconst [loadingDownload, setLoadingDownload] = React.useState(false)\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Matricule\",\r\n\t\t\tdataIndex: \"cars_matricule\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Code GPS\",\r\n\t\t\tdataIndex: \"cars_code_gps\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Client\",\r\n\t\t\tdataIndex: \"clients_designation\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.clients_mother_designation) {\r\n\t\t\t\t\treturn row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn row.clients_designation\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Conducteur\",\r\n\t\t\tdataIndex: \"driver1s_fullname\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Depart\",\r\n\t\t\tdataIndex: \"driver1s_fullname\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row.departs_wilaya_name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Destinations\",\r\n\t\t\tdataIndex: \"destinations\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date départ\",\r\n\t\t\tdataIndex: \"missions_date_depart_mission\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date arrivee\",\r\n\t\t\tdataIndex: \"missions_date_arrivee_mission\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Status\",\r\n\t\t\tdataIndex: \"missionvls_state\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => (<ChangeState mission={row} />)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valider par\",\r\n\t\t\tdataIndex: \"acceptedby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"GPS par\",\r\n\t\t\tdataIndex: \"gpsby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<Tooltip title=\"Afficher\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push(\"/missions_vl/show/\" + row.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<PrinterOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"MODIFIER_GPS_MISSION_MD\") &&\r\n\t\t\t\t\t\t<CalcGPS />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{hasRole(user, \"VALIDER_MISSION_MD\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir valider?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/missionvls/accepte/\" + row.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tmessage.success(\"Mission validée!\")\r\n\t\t\t\t\t\t\t\t\tactionRef.current.reload()\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t\tdisabled={row.acceptedby_username}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Valider\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={row.acceptedby_username}\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<FaCheck />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{hasRole(user, \"MODIFIER_MISSION_MD\") &&\r\n\t\t\t\t\t\t<Tooltip title=\"Modifier\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thistory.push(\"/missions_vl/edit/\" + row.id)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_MISSION_MD\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/missionvls/delete/\" + row.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tmessage.info(\"Bien Supprimé\"); action.reload();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title={\"Missions MD\"} selectedSiderKey=\"list-cars\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"date1\"] = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"date2\"] = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\treturn api.get(\"/missionvls?type=MD\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div style={{ flex: 1, display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date1\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate1(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date1}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date2\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate2(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date2}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tloading={loadingDownload}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\ticon={<RiFileExcel2Line size={20} />}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst d1 = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tconst d2 = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tsetLoadingDownload(true)\r\n\t\t\t\t\t\t\t\tapi.get(`/missionvls?format=excel&date1=${d1}&date2=${d2}&type=MD`,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tresponseType: 'blob',\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconst url = window.URL.createObjectURL(new Blob([res.data]));\r\n\t\t\t\t\t\t\t\t\tconst link = document.createElement('a');\r\n\t\t\t\t\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\t\t\t\t\tlink.setAttribute('download', 'etat_missions_vl_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n\t\t\t\t\t\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\t\t\t\t\t\tlink.click();\r\n\t\t\t\t\t\t\t\t\tsetLoadingDownload(false)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n}\r\n\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Divider, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintMission from \"components/PrintMission\";\r\nimport PrintRestitition from \"components/PrintRestitition\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport Print from \"components/Print\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n\tconst { api } = useAppStore()\r\n\tconst { params } = useRouteMatch()\r\n\tconst history = useHistory()\r\n\tconst [mission, setMission] = useState({ step: 0 })\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"missionvls/\" + params.id).then((res) => {\r\n\t\t\tsetMission(res.data.data)\r\n\t\t})\r\n\t}, [params])\r\n\r\n\r\n\r\n\tconst printMission = useRef(null);\r\n\tconst handlePrintMission = useReactToPrint({\r\n\t\tcontent: () => printMission.current,\r\n\t\tonBeforeGetContent: async () => { },\r\n\t});\r\n\r\n\tconst printRestitition = useRef(null);\r\n\tconst handlePrintRestitition = useReactToPrint({\r\n\t\tcontent: () => printRestitition.current,\r\n\t\tonBeforeGetContent: async () => { },\r\n\t});\r\n\treturn (\r\n\t\t<Page withBack={true} loading={!mission} title={\"Affiche mission n° \" + params.id}>\r\n\t\t\t{\r\n\t\t\t\tmission.car &&\r\n\t\t\t\t<Print\r\n\t\t\t\t\tdisabledDelete={true}\r\n\t\t\t\t\tcomponent={\r\n\t\t\t\t\t\t<PrintMission mission={mission} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\tapi.post(\"missionvls/delete/\" + mission.id).then(() => {\r\n\t\t\t\t\t\t\thistory.push(\"/mission\")\r\n\t\t\t\t\t\t\tmessage.info(\"Checklist est supprimer\")\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t}\r\n\t\t</Page >\r\n\t)\r\n}","import { Layout, Menu } from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  LaptopOutlined,\r\n  NotificationOutlined\r\n} from '@ant-design/icons';\r\nimport config from \"config\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { hasRole } from 'utils';\r\nimport { useAppStore } from 'stores';\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nexport default () => {\r\n  const history = useHistory()\r\n  const { user } = useAppStore()\r\n  const { selectedSiderKey } = useAppStore()\r\n  return (\r\n    <Sider\r\n      width={200}\r\n      style={{\r\n        overflow: 'auto',\r\n        height: 'calc(100vh - 32px)',\r\n        marginTop: 32,\r\n        position: 'fixed',\r\n        left: 0,\r\n        //    background: \"linear-gradient(0deg, rgba(42, 32, 132, 1) 0%, rgba(48, 83, 209, 1) 37%, rgba(42, 32, 132, 1) 100%)\"\r\n      }}\r\n    >\r\n      <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={selectedSiderKey}>\r\n        {\r\n          config.routes.map((r, i) => {\r\n            if (r.role) {\r\n              if (r.routes) {\r\n                return (\r\n                  hasRole(user, r.role) ? <SubMenu key={r.name} icon={r.icon} title={r.label}>\r\n                    {\r\n                      r.routes.map((rr, ii) => {\r\n                        if (rr.role) {\r\n                          return hasRole(user, rr.role) ? (\r\n                            rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                          ) : null\r\n                        } else {\r\n                          return rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                        }\r\n                      })\r\n                    }\r\n                  </SubMenu> : null\r\n                )\r\n              } else {\r\n                return hasRole(user, r.role) ? (r.hideInSide ? undefined : <Menu.Item onClick={() => history.push(r.path)} key={r.name} icon={r.icon}>{r.label}</Menu.Item>) : null\r\n              }\r\n            } else {\r\n              if (r.routes) {\r\n                return (\r\n                  <SubMenu key={r.name} icon={r.icon} title={r.label}>\r\n                    {\r\n                      r.routes.map((rr, ii) => {\r\n                        if (rr.role) {\r\n                          return hasRole(user, rr.role) ? (\r\n                            rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                          ) : null\r\n                        } else {\r\n                          return (\r\n                            rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                          )\r\n                        }\r\n                      })\r\n                    }\r\n                  </SubMenu>\r\n                )\r\n              } else {\r\n                return r.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(r.path)} key={r.name} icon={r.icon}>{r.label}</Menu.Item>\r\n              }\r\n            }\r\n          })\r\n        }\r\n      </Menu>\r\n    </Sider>\r\n  )\r\n}","import React from \"react\"\r\nimport {\r\n\tBrowserRouter,\r\n\tRoute,\r\n\tSwitch,\r\n\tLink\r\n} from \"react-router-dom\"\r\nimport { Layout } from 'antd';\r\n\r\nimport NotFound from \"components/NotFound\"\r\n\r\nimport Header from \"containers/Header\"\r\nimport Side from \"containers/Side\"\r\n\r\nimport config from \"config\"\r\nimport { useAppStore } from 'stores';\r\nimport { hasRole } from \"utils\";\r\n\r\nconst { Content } = Layout;\r\n\r\nexport default function () {\r\n\tconst { user } = useAppStore()\r\n\tconst t = []\r\n\tfor (let i = 0; i < 100; i++) {\r\n\t\tt.push(i)\r\n\t}\r\n\tconst renderSubMenuRoutes = (routes) => {\r\n\t\treturn (\r\n\t\t\t<Switch>\r\n\t\t\t\t{routes.map((r, i) => {\r\n\t\t\t\t\tif (r.role) {\r\n\t\t\t\t\t\treturn hasRole(user, r.role) ?\r\n\t\t\t\t\t\t\t<Route key={i} exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn <Route key={i} exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</Switch>\r\n\t\t)\r\n\t}\r\n\tconst renderRoutes = () => {\r\n\t\treturn config.routes.map((r, i) => {\r\n\t\t\tif (r.role) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\thasRole(user, r.role) ? <Switch>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tr.routes ?\r\n\t\t\t\t\t\t\t\trenderSubMenuRoutes(r.routes) :\r\n\t\t\t\t\t\t\t\t<Route exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Switch> : null\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tr.routes ?\r\n\t\t\t\t\t\t\t\trenderSubMenuRoutes(r.routes) :\r\n\t\t\t\t\t\t\t\t<Route exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Layout>\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\twidth: 200,\r\n\t\t\t\t\theight: 32,\r\n\t\t\t\t\tbackgroundColor: \"white\",\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\tpaddingBottom: 5,\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\tdisplay: \"flex\", justifyContent: \"center\",\r\n\t\t\t\t\t\talignItems: \"center\", flex: 1\r\n\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//<img alt=\"\" style={{ height: 36 }} src=\"gpark_logo2.png\" />\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Side />\r\n\t\t\t\t<Layout style={{ marginLeft: 200, overflowY: \"scroll\" }}>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Content style={{ paddingTop: 32 }}>\r\n\t\t\t\t\t\t{renderRoutes()}\r\n\t\t\t\t\t</Content>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\t\t</BrowserRouter >\r\n\t)\r\n}","import React, { useState } from \"react\"\r\nimport { Form, Input, Button, Checkbox, message, Divider } from 'antd';\r\n\r\n\r\nimport { useHistory, useLocation } from \"react-router-dom\"\r\nimport { useAppStore } from \"stores\"\r\nimport useApi from \"useApi\";\r\nimport * as _consts from \"_consts\"\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n  },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8,\r\n    span: 16,\r\n  },\r\n};\r\n\r\n\r\nexport default function Login() {\r\n  let history = useHistory();\r\n  let { api, setToken } = useApi()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const onFinish = (values) => {\r\n    setLoading(true)\r\n    api\r\n      .post(\"auth/login\", values)\r\n      .then(({ data }) => {\r\n        setToken(data.data.token);\r\n        document.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false)\r\n      });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n\r\n      <Form\r\n        layout=\"vertical\"\r\n        name=\"basic\"\r\n        initialValues={{\r\n        }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        style={{\r\n          width: 400,\r\n          padding: 20,\r\n          borderRadius: 5\r\n        }}\r\n\r\n      >\r\n        <div style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}>\r\n          <img alt=\"Gpark\" style={{ height: 72, width: 72 }} src=\"gpark_logo.png\" />\r\n        </div>\r\n        <Divider />\r\n        <h1 style={{ fontSize: 30, fontWeight: 700 }}>Se connecter à G P A R K</h1>\r\n        <Form.Item\r\n          label=\"Nom d'utilisateur\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: _consts._messages[\"required\"],\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Mot de pass\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: _consts._messages[\"required\"],\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Divider />\r\n        <Form.Item >\r\n          <Button loading={loading} type=\"primary\" style={{ width: \"100%\" }} htmlType=\"submit\">\r\n            Connecté\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\nimport { Spin } from 'antd';\n\nimport { AppProvider } from \"./stores\";\n\nimport Main from \"containers/Main\";\nimport Login from 'containers/Login';\n\nimport useApi from 'useApi';\n\nexport default function App() {\n  const [isLoadingUser, setIsLoadingUser] = useState(true);\n  const [user, setUser] = useState(null);\n  const { api, setToken, token } = useApi();\n  const [selectedSiderKey, setSelectedSiderKey] = useState(\"\")\n  const loadCurentUser = () => {\n    let isSubscribed = true;\n    setIsLoadingUser(true);\n    api\n      .get(\"/auth/me\")\n      .then(({ data }) => {\n        if (isSubscribed) {\n          setUser(data.data);\n          setIsLoadingUser(false);\n        }\n      })\n      .catch(() => {\n        if (isSubscribed) {\n          setUser(null);\n          setIsLoadingUser(false);\n        }\n      });\n    return () => (isSubscribed = false);\n  }\n\n  useEffect(loadCurentUser, [token]);\n  //useEffect(loadCurentUser, [user, api]);\n\n  if (isLoadingUser) {\n    return (\n      <div\n        style={{\n          flex: 1,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Spin size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <AppProvider value={{ user, setUser, api, setToken, selectedSiderKey, setSelectedSiderKey }}>\n      {user ? <Main /> : <Login />}\n    </AppProvider>\n  )\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ConfigProvider } from 'antd';\nimport frFR from 'antd/lib/locale/fr_FR';\n\nimport 'antd/dist/antd.css';\n//import \"@ant-design/pro-table/dist/protable.css\";\nimport '@ant-design/pro-table/dist/table.css';\n\n//import 'react-perfect-scrollbar/dist/css/styles.css';\nimport './index.css';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <ConfigProvider locale={frFR}>\n    <App />\n  </ConfigProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}