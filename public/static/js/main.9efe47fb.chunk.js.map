{"version":3,"sources":["stores.js","useApi.js","containers/Header.js","_consts.js","components/Page.js","components/Statistic.js","pages/Dashboard.js","pages/Cars/GroupCar.js","components/SearchInput.js","components/SearchInput2.js","components/DebounceSelect.js","components/CircularProgress.js","components/UIBuilder.js","pages/Users/columns.js","utils.js","pages/Cars/List.js","pages/Cars/columns.js","pages/Drivers/columns.js","pages/Clients/columns.js","pages/Decharges/columns.js","components/PrintDecharge.js","pages/Decharges/Add.js","components/PrintRestitition.js","components/Print.js","pages/Decharges/Edit.js","components/SearchMultipleInput.js","pages/Users/UsersRoles.js","pages/Peremptions/columns.js","pages/Missions/components/ChangeState.js","pages/Missions/components/CalcGPS.js","components/decompte.png","components/PrintMission.js","pages/QHSE/qualite/Axes.js","pages/QHSE/qualite/components/AddObjetif.js","pages/QHSE/qualite/ObjectifsOperationnels.js","pages/QHSE/qualite/Processus.js","pages/QHSE/qualite/components/AddIndicateur.js","pages/QHSE/qualite/components/AddIndicateurv.js","pages/QHSE/qualite/components/IndicateurInfo.js","pages/QHSE/qualite/components/AddNonConformite.js","pages/QHSE/qualite/Indicateurs.js","pages/QHSE/qualite/components/IndicateursvChart.js","pages/QHSE/qualite/components/GaugeIndicateur.js","pages/QHSE/qualite/Dashboard.js","pages/QHSE/qualite/IndicateursHistory.js","pages/QHSE/qualite/components/EditNonConformite.js","pages/QHSE/qualite/components/NonConformiteInfo.js","pages/QHSE/qualite/NonConformite.js","pages/QHSE/qualite/components/EditAction.js","pages/QHSE/qualite/components/AddAction.js","pages/QHSE/qualite/Actions.js","pages/QHSE/SMIQualite.js","config.js","pages/Users/Notifications.js","pages/Users/Add.js","pages/Users/List.js","pages/Users/Edit.js","pages/Users/UserCars.js","pages/Users/AddRole.js","pages/Users/ListRoles.js","pages/Cars/Add.js","pages/Cars/ListCarsState.js","pages/Cars/AddCarState.js","pages/Cars/EditCarState.js","pages/Cars/ChangeCarState.js","pages/Cars/Edit.js","pages/Cars/CarDecharges.js","pages/Peremptions/Add.js","pages/Peremptions/List.js","pages/Peremptions/Edit.js","pages/Drivers/Add.js","pages/Drivers/List.js","pages/Drivers/Edit.js","pages/Clients/Add.js","pages/Clients/List.js","pages/Clients/ListMiseDispositionVL.js","pages/Clients/Edit.js","pages/Decharges/List.js","pages/Decharges/Show.js","pages/Decharges/RestititionDecharge.js","pages/Decharges/ListeDechargeRestititions.js","pages/Decharges/DechargeHistory.js","pages/Decharges/ChecklistDecharge.js","pages/Missions/AddVL.js","pages/Missions/EditVL.js","pages/Missions/ListVL.js","pages/Missions/ShowVL.js","containers/Side.js","containers/Main.js","containers/Login.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","AppProvider","children","value","Provider","useAppStore","useContext","useState","localStorage","getItem","token","setToken","updateToken","setItem","useMemo","api","axios","create","baseURL","headers","interceptors","response","use","error","msg","data","message","setTimeout","status","window","location","reload","Promise","reject","user","setUser","useApi","notifications","setNotifications","history","useHistory","networkState","useNetwork","getNotifications","get","then","res","useEffect","intr","setInterval","clearInterval","handleMenuClick","e","key","nb","i","length","is_read","Header","style","height","backgroundColor","position","zIndex","width","boxShadow","display","justifyContent","alignItems","paddingLeft","online","type","showIcon","trigger","title","content","itemLayout","dataSource","renderItem","item","Item","Meta","onClick","post","id","push","url","description","sub_title","to","icon","BellOutlined","marginRight","count","placement","overlay","LogoutOutlined","color","username","DownOutlined","_marque","_messages","_carStateName","label","subTitle","withBack","loading","selectedSiderKey","setSelectedSiderKey","document","config","appName","onBack","goBack","backIcon","ArrowLeftOutlined","padding","Icon","suffix","span","precision","valueStyle","prefix","ChartPiVL","capacity_logistics_vl","operationel_vl","non_exploite_vl","affecte_vl","en_panne_vl","accedente_vl","dashboardVL","setDashboardVl","setLoading","getDashboardVL","size","non_exploite_vlP","affecte_vlP","en_panne_vlP","accedente_vlP","accedente_v","percent","autoFit","radius","showTitle","visible","adjust","lineWidth","stroke","state","selected","t","getTheme","geometries","interval","rect","fill","Statistic","useRef","Page","orientation","query_string","mapOptionToString","placeholder","onSelect","onChange","defaultOption","disabled","options","setOptions","defaultValue","onSearch","searchText","map","c","optionLabelProp","setValue","mode","showSearch","labels","tagRender","props","closable","onClose","labelInValue","debounceTimeout","React","fetching","setFetching","fetchRef","debounceFetcher","debounce","current","fetchId","_options","filterOption","notFoundContent","setPercent","flexDirection","Group","marginTop","p","MinusOutlined","PlusOutlined","Option","Select","TextArea","Input","Form","form","initialValues","plain","text","name","hasFeedback","rules","CircularProgress","setFieldsValue","renderValue","SearchInput","defaultOptionName","option","field","SearchInput2","optionsId","console","log","flex","DebounceSelect","newValue","newOptions","initialValue","selects","select","o","inputProp","Password","valuePropName","checkedChildren","unCheckedChildren","defaultChecked","format","disabledDate","picker","pattern","target","render","FormBuilder","formItems","onFinish","onFinishFailed","extra","full","useForm","formItemLayout","labelCol","xs","sm","wrapperCol","layout","htmlType","required","roleFormItems","hasRole","roleName","_hasRole","roles","r","months","indicateurCastDate","dateValue","date","JSON","parse","year","indicateurCastTypeDate","InfoCar","row","setVisible","car","setCar","Text","mark","prop","old_matricule","genre","puissance","energie","carrosserie","code_gps","matricule","onVisibleChange","v","shape","formItemsCarState","marque","designation","formDechargeItems","getFieldValue","formCheckListRestititionItems","firstname","lastname","styles","hide","page","fontSize","margin","border","pageHeader","fontWeight","pageBody","paddingTop","paddingBottom","pageFooter","textAlign","PrintDecharge","checklist","this","src","moment","marginBottom","odometre","cle_vehicule","niveau_carburant","toUpperCase","marginLeft","flexWrap","minHeight","toString","Component","Document","checked","Step","Steps","decharge","restitition","date_restitition","dir","carte_grise","assurance","assurance_marchandises","vignette","scanner","permis_circuler","carnet_enter","carte_gpl","roue_secour","cle_roue","gillet","cric","poste_radio","extincteur","boite_pharm","triangle","pochette_cle","component","onDelete","disabledDelete","printComponent","handlePrintComponent","useReactToPrint","onBeforeGetContent","a","onConfirm","onCancel","okText","cancelText","cloneElement","ref","mockData","mission","missionvls_state","setState","catch","PrintMission","numero","destinations","client","date_depart_mission","date_arrivee_mission","driver1","code_paie","driver2","observation","decompte","actionRef","search","columns","dataIndex","copyable","sorter","hideInSearch","ellipsis","request","params","sort","filters","Object","keys","values","pagination","defaultCurrent","pageSize","slog","dataForm","info","index","action","axe","pTexts","processus","valueType","DeleteOutlined","AddObjetif","destroyOnClose","indicateur_id","frequence","week","month","quarter","stringify","Typography","indicateur","bordered","methode_calcul","mode_calcul","domaine","addButton","indicateurv_id","showDrawer","date_prevu","processu","objectif","indicateur_sueil","seuil","mesure","valeurs","valeur","ecart","getIndicateurEcart","block","CheckCircleTwoTone","twoToneColor","AddNonConformite","CloseCircleTwoTone","IndicateurInfo","InfoOutlined","AddIndicateurv","HistoryOutlined","AddIndicateur","setData","d","xField","yField","point","lastValeur","beforeLastValeur","range","ticks","indicator","pointer","pin","statistic","lineHeight","alignSelf","Math","abs","CaretUpOutlined","CaretDownOutlined","Panel","Collapse","Indicateur","setValeurs","GaugeIndicateur","Processu","gutter","indicateurs","setProcessus","defaultActiveKey","header","useRouteMatch","IndicateursvChart","postData","echeance","users","EditOutlined","List","corrections","validator","_","names","Error","fields","add","remove","errors","validateTrigger","whitespace","noStyle","MinusCircleOutlined","right","top","ErrorList","actions","date_echeance","steps","avancement","InfoCircleOutlined","borderRadius","fieldKey","date_cloture","causes","isAcs","forEach","warn","nonconformite","createdby","NonConformiteInfo","EditNonConformite","conformites_name","actions_users","actions_avancement","EditAction","AddAction","SubMenu","Menu","routes","path","role","Dashboard","DashboardOutlined","authority","hideInSide","exact","EyeOutlined","UserOutlined","filter","put","cars","setCars","user_id","cars_id","loadingCars","loadingUserCars","carGroupe","selectedKeys","setSelectedKey","affecte","_cars","Number","parseInt","rowKey","record","titles","targetKeys","nextTargetKeys","direction","moveKeys","onSelectChange","sourceSelectedKeys","targetSelectedKeys","listStyle","setRoles","roles_id","loadingRoles","loadingUserRoles","_roles","handleChange","handleSelectChange","minWidth","setParams","m","drivers_fullname","toolBarRender","cursor","responseType","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click","group_id","loadingGroupCars","h","loadingData","setLoadingData","car_id","state_date","startOf","date1","setDate1","date2","setDate2","clients_mother_designation","clients_designation","d1","d2","step","allData","setAllData","printDecharge","date_decharge","date_checklist","starts","success","acceptedby_username","ToTopOutlined","printRestitition","Print","checklists","reverse","driver","dechargeData","setDechargeData","client_id","driver_id","observation_checklist","routeMatch","wilaya_name","daira_name","commune_name","date_bon_mission","depart_id","depart","date_arrivee","date_arrivee_destination","date_depart","date_depart_destination","created_at","updated_at","loadingDownload","setLoadingDownload","departs_wilaya_name","ChangeState","PrinterOutlined","CalcGPS","setMission","printMission","ApartmentOutlined","setCurrent","Axes","ObjectifsOperationnels","Processus","Indicateurs","IndicateursHistory","NonConformite","Actions","Sider","Layout","overflow","left","theme","defaultSelectedKeys","rr","ii","undefined","Content","renderSubMenuRoutes","Side","overflowY","Login","className","err","errorInfo","alt","_consts","App","isLoadingUser","setIsLoadingUser","isSubscribed","Main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","locale","frFR","getElementById"],"mappings":"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","file":"static/js/main.9efe47fb.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst AppContext = createContext(null);\r\n\r\nexport function AppProvider({ children, value }) {\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...value,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useAppStore = () => useContext(AppContext);\r\n","import { useState, useMemo } from \"react\";\r\nimport { message } from \"antd\"\r\nimport axios from \"axios\"\r\nconst reload = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  localStorage.setItem(\"token\", \"\");\r\n  if (token !== \"\") { window.location.reload(); }\r\n}\r\nexport default () => {\r\n  const API_URL = \"/api\"\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"))\r\n  const updateToken = (token) => {\r\n    localStorage.setItem(\"token\", token)\r\n    setToken(token)\r\n  }\r\n  return useMemo(() => {\r\n    const api = axios.create({\r\n      baseURL: API_URL,\r\n      headers: {\r\n        'x-access-token': token,\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n        'accept': 'application/json'\r\n      }\r\n    })\r\n    api.interceptors.response.use(function (response) {\r\n      // Any status code that lie within the range of 2xx cause this function to trigger\r\n      // Do something with response data\r\n      return response;\r\n    }, function (error) {\r\n      const msg = error?.response?.data?.message ? error?.response?.data?.message : error.message\r\n      message.error(msg)\r\n      setTimeout(() => {\r\n        if (error.response.status === 401 && error.response.data.message !== \"Token not provided.\") {\r\n          //reload()\r\n          //message.error(\"Vous ñ'avez pas l'autorisation\")\r\n        }\r\n        if (error.response.status === 401 && error.response.data.message === \"An error while decoding token.\") {\r\n          //reload()\r\n\r\n        } if (error.response.status === 401 && error.response.data.message === \"Provided token is expired.\") {\r\n          reload()\r\n        }\r\n      }, 3000)\r\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n      // Do something with response error\r\n\r\n      return Promise.reject(error);\r\n    });\r\n    return {\r\n      api: api,\r\n      token,\r\n      setToken: updateToken\r\n    }\r\n  }, [token])\r\n}\r\n","import {\r\n\tLayout,\r\n\tMenu,\r\n\tAvatar,\r\n\tPopover,\r\n\tButton,\r\n\tDropdown,\r\n\tmessage,\r\n\tTooltip,\r\n\tList,\r\n\tBadge,\r\n\tDivider,\r\n\tAlert\r\n} from 'antd';\r\n\r\nimport { DownOutlined, LogoutOutlined, BellOutlined } from '@ant-design/icons';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport useApi from \"useApi\"\r\nimport { useAppStore } from \"stores\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { useNetwork } from 'ahooks';\r\n\r\nexport default () => {\r\n\tconst { user, setToken, setUser } = useAppStore()\r\n\tconst { api } = useApi()\r\n\tconst [notifications, setNotifications] = useState([])\r\n\tconst history = useHistory()\r\n\tconst networkState = useNetwork();\r\n\r\n\tconst getNotifications = () => {\r\n\t\tapi.get(\"/notifications?pageSize=5\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\t//console.log()\r\n\t\t\t\tsetNotifications(res.data.data)\r\n\t\t\t})\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tgetNotifications()\r\n\t\tconst intr = setInterval(getNotifications, 60000)\r\n\t\treturn () => clearInterval(intr)\r\n\t}, [])\r\n\r\n\tconst NotificatiobContent = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={notifications}\r\n\t\t\t\t\trenderItem={item => (\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\ttitle={<a onClick={() => {\r\n\t\t\t\t\t\t\t\t\tapi.post(\"/notifications/\" + item.id).then(() => {\r\n\t\t\t\t\t\t\t\t\t\thistory.push(item.url)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}} >{item.title}</a>}\r\n\t\t\t\t\t\t\t\tdescription={`${item.sub_title} | ${item.is_read ? \"DEJA VU\" : \"Non vu\"}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Link to={\"/notifications\"} >Plus des notifications</Link>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif (e.key === \"1\") {\r\n\t\t\tsetToken(null)\r\n\t\t\tsetUser(null)\r\n\t\t}\r\n\t}\r\n\tlet nb = 0\r\n\tfor (let i = 0; i < notifications.length; i++) {\r\n\t\tif (notifications[i].is_read == false) {\r\n\t\t\tnb++\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Layout.Header style={{\r\n\t\t\theight: 32,\r\n\t\t\tbackgroundColor: \"white\",\r\n\t\t\tposition: 'fixed',\r\n\t\t\tzIndex: 10,\r\n\t\t\twidth: 'calc(100% - 200px)',\r\n\t\t\tboxShadow: \"0 1px 4px rgba(0,21,41,.08)\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tpaddingLeft: 0\r\n\t\t}} >\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\t!networkState.online &&\r\n\t\t\t\t\t<Alert style={{height: 28}} message=\"Pas de connexion Internet\" type=\"warning\" showIcon />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Popover trigger=\"click\" title=\"Notifications\" content={NotificatiobContent}>\r\n\t\t\t\t\t<Button icon={<BellOutlined />} style={{ marginRight: 10 }}>\r\n\t\t\t\t\t\t<Badge count={nb} />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Popover>\r\n\t\t\t\t<Dropdown trigger=\"click\" placement=\"bottomRight\" overlay={() => (\r\n\t\t\t\t\t<Menu >\r\n\t\t\t\t\t\t<Menu.Item onClick={handleMenuClick} key=\"1\" icon={<LogoutOutlined style={{ color: \"red\" }} />}>\r\n\t\t\t\t\t\t\tSe déconnecter\r\n          </Menu.Item>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t)}>\r\n\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t{user.username} <DownOutlined />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\r\n\t\t</Layout.Header>\r\n\t)\r\n}","export const _carStates = [\r\n  { label: \"En marche\", id: \"marche\" },\r\n  { label: \"Entrée d'atelie\", id: \"entre_atelie\" },\r\n  { label: \"Sortie d'atelie\", id: \"sortie_atelie\" },\r\n  { label: \"Véhicule En Mission\", id: \"mission\" },\r\n  { label: \"Véhicule En Panne\", id: \"panne\" },\r\n  { label: \"Véhicule Accedenté\", id: \"accedente\" },\r\n]\r\n\r\nexport const _carGenre = [\r\n  { label: \"V P\", value: \"V P\" },\r\n  { label: \"CAMION\", value: \"CAMION\" },\r\n  { label: \"TRACTEUR\", value: \"TRACTEUR\" },\r\n  { label: \"REMORQUE\", value: \"REMORQUE\" },\r\n  { label: \"BUS\", value: \"BUS\" },\r\n  { label: \"UTILITAIRE\", value: \"UTILITAIRE\" },\r\n  { label: \"MICRO BUS\", value: \"MICRO BUS\" },\r\n  { label: \"V H\", value: \"V H\" },\r\n  { label: \"MOTO\", value: \"MOTO\" },\r\n  { label: \"AMBULANCE\", value: \"AMBULANCE\" },\r\n  { label: \"MOTOCYCLE\", value: \"MOTOCYCLE\" },\r\n  { \"label\": \"RETRO CHARGEUR\", \"value\": \"RETRO CHARGEUR\" }, { \"label\": \"CHARIOT ELEVATEUR\", \"value\": \"CHARIOT ELEVATEUR\" }, { \"label\": \"CHARIOT ELEVATEUR  1.6T-MAL\", \"value\": \"CHARIOT ELEVATEUR  1.6T-MAL\" }, { \"label\": \"CHARIOT ELEVATEUR  2.5T\", \"value\": \"CHARIOT ELEVATEUR  2.5T\" }, { \"label\": \"CHARIOT ELEVATEUR  2T-MAL\", \"value\": \"CHARIOT ELEVATEUR  2T-MAL\" }, { \"label\": \"CHARIOT ELEVATEUR 03T\", \"value\": \"CHARIOT ELEVATEUR 03T\" }, { \"label\": \"CHARIOT ELEVATEUR 5T-MAL\", \"value\": \"CHARIOT ELEVATEUR 5T-MAL\" }, { \"label\": \"CHARIOT ELEVATEUR -MAL\", \"value\": \"CHARIOT ELEVATEUR -MAL\" }, { \"label\": \"EXCAVATRICE\", \"value\": \"EXCAVATRICE\" }, { \"label\": \"STAKAR\", \"value\": \"STAKAR\" }, { \"label\": \"STATION D'EPURATION\", \"value\": \"STATION D'EPURATION\" }, { \"label\": \"TANDEM VIBRATOIR\", \"value\": \"TANDEM VIBRATOIR\" }, { \"label\": \"TRANSPALETTE ELECTRIQUE  1.6T \", \"value\": \"TRANSPALETTE ELECTRIQUE  1.6T \" }, { \"label\": \"TRANSPALETTE GERBEUR  1.4T-MAL\", \"value\": \"TRANSPALETTE GERBEUR  1.4T-MAL\" },\r\n]\r\n\r\nexport const _marque = [{ \"label\": \"RENAULT CLIO\", \"value\": \"RENAULT CLIO\" }, { \"label\": \"DACIA SENDERO\", \"value\": \"DACIA SENDERO\" }, { \"label\": \"CHEVROLET AVIO\", \"value\": \"CHEVROLET AVIO\" }, { \"label\": \"CHEVROLET BREAK\", \"value\": \"CHEVROLET BREAK\" }, { \"label\": \"OPEL\", \"value\": \"OPEL\" }, { \"label\": \"CHEVROLET SAIL\", \"value\": \"CHEVROLET SAIL\" }, { \"label\": \"RENAULT SYMBOL\", \"value\": \"RENAULT SYMBOL\" }, { \"label\": \"FOTON\", \"value\": \"FOTON\" }, { \"label\": \"DACIA LOGAN\", \"value\": \"DACIA LOGAN\" }, { \"label\": \"DFSK\", \"value\": \"DFSK\" }, { \"label\": \"CHEVROLET CRUZE\", \"value\": \"CHEVROLET CRUZE\" }, { \"label\": \"PEUGEOT PARTNER\", \"value\": \"PEUGEOT PARTNER\" }, { \"label\": \"SUSUKI SWIFT\", \"value\": \"SUSUKI SWIFT\" }, { \"label\": \"CHEVROLET TRAX\", \"value\": \"CHEVROLET TRAX\" }, { \"label\": \"CHEVROLET AVIO \", \"value\": \"CHEVROLET AVIO \" }, { \"label\": \"PEUGEOT 207\", \"value\": \"PEUGEOT 207\" }, { \"label\": \"CHANGHE\", \"value\": \"CHANGHE\" }, { \"label\": \"NISSAN SUNNY\", \"value\": \"NISSAN SUNNY\" }, { \"label\": \"HONDA ODYSSEY\", \"value\": \"HONDA ODYSSEY\" }, { \"label\": \"MITSUBISHI MIRAGE STAR\", \"value\": \"MITSUBISHI MIRAGE STAR\" }, { \"label\": \"NISSAN NEW SUNNY \", \"value\": \"NISSAN NEW SUNNY \" }, { \"label\": \"HYUNDAI VERNA\", \"value\": \"HYUNDAI VERNA\" }, { \"label\": \"MERCEDES-Benz\", \"value\": \"MERCEDES-Benz\" }, { \"label\": \"CHEVROLET SPARK\", \"value\": \"CHEVROLET SPARK\" }, { \"label\": \"KIA PICANTO\", \"value\": \"KIA PICANTO\" }, { \"label\": \"TOYOTA COROLLA\", \"value\": \"TOYOTA COROLLA\" }, { \"label\": \"BENTLIY\", \"value\": \"BENTLIY\" }, { \"label\": \"PAOLETTI RACING\", \"value\": \"PAOLETTI RACING\" }, { \"label\": \"CHEVROLET SONIC\", \"value\": \"CHEVROLET SONIC\" }, { \"label\": \"TOYOTA YARIS\", \"value\": \"TOYOTA YARIS\" }, { \"label\": \"AUDI\", \"value\": \"AUDI\" }, { \"label\": \"HYUNDAI GENESIS\", \"value\": \"HYUNDAI GENESIS\" }, { \"label\": \"KIA SPORTAGE\", \"value\": \"KIA SPORTAGE\" }, { \"label\": \"PEUGEOT 301\", \"value\": \"PEUGEOT 301\" }, { \"label\": \"SEAT / IBIZA\", \"value\": \"SEAT / IBIZA\" }, { \"label\": \"VOLKSWAGEN POLO\", \"value\": \"VOLKSWAGEN POLO\" }, { \"label\": \"CITROEN CI-ELYSSE\", \"value\": \"CITROEN CI-ELYSSE\" }, { \"label\": \"VMS\", \"value\": \"VMS\" }, { \"label\": \"SKODA RAPIDE\", \"value\": \"SKODA RAPIDE\" }, { \"label\": \"RENAULT FLUENCE\", \"value\": \"RENAULT FLUENCE\" }, { \"label\": \"RENAULT GLR\", \"value\": \"RENAULT GLR\" }, { \"label\": \"RENAULT\", \"value\": \"RENAULT\" }, { \"label\": \"VOLKWAGEN\", \"value\": \"VOLKWAGEN\" }, { \"label\": \"IVECO\", \"value\": \"IVECO\" }, { \"label\": \"MERCEDES ACTROS\", \"value\": \"MERCEDES ACTROS\" }, { \"label\": \"DAIHATSU\", \"value\": \"DAIHATSU\" }, { \"label\": \"NISSAN PIK-UP\", \"value\": \"NISSAN PIK-UP\" }, { \"label\": \"DAIMER,BENZ\", \"value\": \"DAIMER,BENZ\" }, { \"label\": \"ISUZU\", \"value\": \"ISUZU\" }, { \"label\": \"RENAULT KANGO\", \"value\": \"RENAULT KANGO\" }, { \"label\": \"FAW\", \"value\": \"FAW\" }, { \"label\": \"CHENG LONG\", \"value\": \"CHENG LONG\" }, { \"label\": \"DONGFENG\", \"value\": \"DONGFENG\" }, { \"label\": \"HYUNDAI HD17\", \"value\": \"HYUNDAI HD17\" }, { \"label\": \"HENG TONG\", \"value\": \"HENG TONG\" }, { \"label\": \"KIA\", \"value\": \"KIA\" }, { \"label\": \"KIA 2700\", \"value\": \"KIA 2700\" }, { \"label\": \"PEUGEOT EXPERT\", \"value\": \"PEUGEOT EXPERT\" }, { \"label\": \"MERCEDES AXOR\", \"value\": \"MERCEDES AXOR\" }, { \"label\": \"MITSUBISHI\", \"value\": \"MITSUBISHI\" }, { \"label\": \"NISSAN\", \"value\": \"NISSAN\" }, { \"label\": \"NISSAN TIDA\", \"value\": \"NISSAN TIDA\" }, { \"label\": \"RENAULT MEGANE\", \"value\": \"RENAULT MEGANE\" }, { \"label\": \"JAC\", \"value\": \"JAC\" }, { \"label\": \"HYUNDAI HD 65\", \"value\": \"HYUNDAI HD 65\" }, { \"label\": \"TOYOTA HIACE\", \"value\": \"TOYOTA HIACE\" }, { \"label\": \"YOUNGMAN\", \"value\": \"YOUNGMAN\" }, { \"label\": \"TOYOTA HILUX\", \"value\": \"TOYOTA HILUX\" }, { \"label\": \"TOYOTA\", \"value\": \"TOYOTA\" }, { \"label\": \"SSANG YONG\", \"value\": \"SSANG YONG\" }, { \"label\": \"CITROEN BERLINGO\", \"value\": \"CITROEN BERLINGO\" }, { \"label\": \"CHEVROLET COLORADO\", \"value\": \"CHEVROLET COLORADO\" }, { \"label\": \"PEUGEOT BOXER\", \"value\": \"PEUGEOT BOXER\" }, { \"label\": \"SKODA OCTAVIA\", \"value\": \"SKODA OCTAVIA\" }, { \"label\": \"YUEJIN\", \"value\": \"YUEJIN\" }, { \"label\": \"DFAC\", \"value\": \"DFAC\" }, { \"label\": \"SHAANQI\", \"value\": \"SHAANQI\" }, { \"label\": \"RENAULT MASTER\", \"value\": \"RENAULT MASTER\" }, { \"label\": \"HYUNDAI H 100\", \"value\": \"HYUNDAI H 100\" }, { \"label\": \"JINBEI\", \"value\": \"JINBEI\" }, { \"label\": \"TATA\", \"value\": \"TATA\" }, { \"label\": \"KIA \", \"value\": \"KIA \" }, { \"label\": \"HIGER\", \"value\": \"HIGER\" }, { \"label\": \"MITSUBISHI FUSO\", \"value\": \"MITSUBISHI FUSO\" }, { \"label\": \"CITROEN CI-ELYSEE\", \"value\": \"CITROEN CI-ELYSEE\" }, { \"label\": \"HYUNDAI HD 160\", \"value\": \"HYUNDAI HD 160\" }, { \"label\": \"HINO\", \"value\": \"HINO\" }, { \"label\": \"TOYOTA COASTER \", \"value\": \"TOYOTA COASTER \" }, { \"label\": \"TOYOTA RAV4\", \"value\": \"TOYOTA RAV4\" }, { \"label\": \"MERCEDES-BENZ GLC 250\", \"value\": \"MERCEDES-BENZ GLC 250\" }, { \"label\": \"TOYOTA HILUX REVO\", \"value\": \"TOYOTA HILUX REVO\" }, { \"label\": \"NEW INTERNATIONAL PAYSTAR\", \"value\": \"NEW INTERNATIONAL PAYSTAR\" }, { \"label\": \"SCANIA\", \"value\": \"SCANIA\" }, { \"label\": \"NISSAN NAVARA\", \"value\": \"NISSAN NAVARA\" }, { \"label\": \"MERCEDES\", \"value\": \"MERCEDES\" }, { \"label\": \"RANGE ROVER\", \"value\": \"RANGE ROVER\" }, { \"label\": \"HYUNDAI HD 35\", \"value\": \"HYUNDAI HD 35\" }, { \"label\": \"PEUGEOT 2008\", \"value\": \"PEUGEOT 2008\" }, { \"label\": \"SKODA YETI\", \"value\": \"SKODA YETI\" }, { \"label\": \"KIA RIO\", \"value\": \"KIA RIO\" }, { \"label\": \"VANHOOL\", \"value\": \"VANHOOL\" }, { \"label\": \"FRUEHAUF\", \"value\": \"FRUEHAUF\" }, { \"label\": \"TRAILOR\", \"value\": \"TRAILOR\" }, { \"label\": \"TROULLIET\", \"value\": \"TROULLIET\" }, { \"label\": \"SNVI\", \"value\": \"SNVI\" }, { \"label\": \"KRONE\", \"value\": \"KRONE\" }, { \"label\": \"DPR TRAILER\", \"value\": \"DPR TRAILER\" }, { \"label\": \"SCHMITZ\", \"value\": \"SCHMITZ\" }, { \"label\": \"ACI\", \"value\": \"ACI\" }, { \"label\": \"MAF-TRAILLER\", \"value\": \"MAF-TRAILLER\" }]\r\n\r\nexport const _drivers_types = [{ \"label\": \"Chauffeur SR \", \"value\": \"Chauffeur SR \" }, { \"label\": \"Chauffeur TC Bus\", \"value\": \"Chauffeur TC Bus\" }, { \"label\": \"Chauffeur  VL \", \"value\": \"Chauffeur  VL \" }, { \"label\": \"Chauffeur  PL\", \"value\": \"Chauffeur  PL\" }, { \"label\": \"Chauffeur Ambulancier\", \"value\": \"Chauffeur Ambulancier\" }, { \"label\": \"AUTRE\", \"value\": \"AUTRE\" }]\r\n\r\nexport const _motifs_restitition_driver = [\r\n  { label: \"Conducteur Congé\", id: \"conge\" },\r\n  { label: \"Changement de conducteur\", id: \"change\" },\r\n  { label: \"Fin Préstation\", id: \"end_prestation\" },\r\n]\r\n\r\nexport const _motifs_restitition_client = [\r\n  { label: \"Véhicule En Panne\", id: \"panne\" },\r\n  { label: \"Fin De Prestation\", id: \"end_prestation\" },\r\n  { label: \"Pour Changé La Véhicule\", id: \"change\" },\r\n]\r\n\r\nexport const _services = [\r\n\r\n  {\r\n    label: \"COMMERCIAL\",\r\n    value: \"COMMERCIAL\"\r\n  },\r\n  {\r\n    label: \"ACHATS\",\r\n    value: \"ACHATS\"\r\n  },\r\n  {\r\n    label: \"MAINTENANCE\",\r\n    value: \"MAINTENANCE\"\r\n  },\r\n  {\r\n    label: \"EXPLOITATION\",\r\n    value: \"EXPLOITATION\"\r\n  },\r\n\r\n]\r\nexport const _postes = [\r\n  {\r\n    value: \"admin\",\r\n    label: \"Administarateur\"\r\n  },\r\n  {\r\n    value: \"ga\",\r\n    label: \"Gestionnaire administaratif\"\r\n  },\r\n  {\r\n    value: \"gm\",\r\n    label: \"Gestionnaire matériel\"\r\n  },\r\n  {\r\n    value: \"com\",\r\n    label: \"Commercial\"\r\n  }\r\n]\r\n\r\nexport const _messages = {\r\n  \"required\": \"Champ obligatoire\"\r\n}\r\n\r\nexport const _prop = [\r\n  {\r\n    value: \"CONDOR LOGISTICS\",\r\n    label: \"CONDOR LOGISTICS\"\r\n  },\r\n  {\r\n    value: \"CONDOR ELECTRONICS\",\r\n    label: \"CONDOR ELECTRONICS\"\r\n  },\r\n  {\r\n    value: \"TRAVOCOVIA\",\r\n    label: \"TRAVOCOVIA\"\r\n  }\r\n]\r\n\r\nexport const _motif_restititions = [\r\n  {\r\n    value: \"FIN DE CONTRAT\",\r\n    label: \"FIN DE CONTRAT\"\r\n  },\r\n  {\r\n    value: \"A LA DEMANDE DE CLIENT\",\r\n    label: \"À LA DEMANDE DE CLIENT\"\r\n  },\r\n  {\r\n    value: \"VEHICULE EN PANNE\",\r\n    label: \"VEHICULE EN PANNE\"\r\n  }\r\n]\r\n\r\nexport const _missionStateName = [\r\n  {\r\n    value: \"ARRET POUR AUTRES\",\r\n    label: \"ARRET POUR AUTRES\"\r\n  },\r\n  {\r\n    value: \"EN MISSION\",\r\n    label: \"EN MISSION\"\r\n  },\r\n  {\r\n    value: \"FIN MISSION\",\r\n    label: \"FIN MISSION\"\r\n  },\r\n  {\r\n    value: \"MISSION ANNULE\",\r\n    label: \"MISSION ANNULE\"\r\n  },\r\n  {\r\n    value: \"EN ATTENTE DE PROGRAMME\",\r\n    label: \"EN ATTENTE DE PROGRAMME\"\r\n  },\r\n  {\r\n    value: \"EN ATTENTE DE DECHARGEMENT\",\r\n    label: \"EN ATTENTE DE DECHARGEMENT\"\r\n  },\r\n  {\r\n    value: \"ARRET POUR PANNE\",\r\n    label: \"ARRET POUR PANNE\"\r\n  },\r\n  {\r\n    value: \"EXPLOITATION INTERNE\",\r\n    label: \"EXPLOITATION INTERNE\"\r\n  },\r\n  {\r\n    value: \"ARRET POUR ACCIDENT\",\r\n    label: \"ARRET POUR ACCIDENT\"\r\n  },\r\n  {\r\n    value: \"ARRET POUR ENTRETIEN\",\r\n    label: \"ARRET POUR ENTRETIEN\"\r\n  },\r\n  {\r\n    value: \"EN ATTENTE DE CHARGEMENT\",\r\n    label: \"EN ATTENTE DE CHARGEMENT\"\r\n  },\r\n]\r\nexport const _carStateName = [\r\n  {\r\n    value: \"EN PANNE PARC\",\r\n    label: \"EN PANNE (PARC)\"\r\n  },\r\n  {\r\n    value: \"EN PANNE ATELIER\",\r\n    label: \"EN PANNE (ATELIER)\"\r\n  },\r\n  {\r\n    value: \"OPERATIONNEL\",\r\n    label: \"OPERATIONNEL\"\r\n  },\r\n  {\r\n    value: \"ACCIDENTE\",\r\n    label: \"ACCIDENTE\"\r\n  },\r\n  {\r\n    value: \"VENDU\",\r\n    label: \"VENDU\"\r\n  },\r\n  {\r\n    value: \"VOLEE\",\r\n    label: \"VOLEE\"\r\n  }\r\n]","import React, { useEffect } from \"react\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport { Button, Skeleton, PageHeader } from 'antd';\r\nimport {\r\n  ArrowLeftOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport config from \"config\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nexport default ({ title, subTitle, withBack, loading, selectedSiderKey, children }) => {\r\n  const history = useHistory()\r\n  const { setSelectedSiderKey } = useAppStore()\r\n  useEffect(() => {\r\n    if (!selectedSiderKey) {\r\n      setSelectedSiderKey(\"\")\r\n    } else {\r\n      setSelectedSiderKey(selectedSiderKey)\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    title ? document.title = title + \" - \" + config.appName : document.title = config.appName\r\n  }, [title])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div >\r\n        <PageHeader\r\n          onBack={() => history.goBack()}\r\n          backIcon={withBack ? <ArrowLeftOutlined /> : null}\r\n          title={title}\r\n          subTitle={subTitle}\r\n        />,\r\n        <div style={{ padding: 15 }}>\r\n          <Skeleton />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader\r\n        onBack={() => history.goBack()}\r\n        backIcon={withBack ? <ArrowLeftOutlined /> : null}\r\n        title={title}\r\n        subTitle={subTitle}\r\n      />\r\n      <div style={{ padding: 15 }}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { Statistic, Card, Row, Col } from 'antd';\r\nimport { ArrowUpOutlined, ArrowDownOutlined } from '@ant-design/icons';\r\nimport { EyeOutlined, EllipsisOutlined, SettingOutlined } from '@ant-design/icons';\r\n\r\n/*\r\nconst actions = {\r\n  [\r\n  <EyeOutlined onClick={onClick} key=\"setting\" />,\r\n  <EllipsisOutlined key=\"ellipsis\" />,\r\n]}\r\n*/\r\nexport default ({ value, title, icon: Icon, suffix, color = \"#000\", onClick }) => (\r\n  <Col span={8}>\r\n    <Card\r\n\r\n    >\r\n      <Statistic\r\n        value={value}\r\n        precision={0}\r\n        valueStyle={{ color }}\r\n        prefix={Icon}\r\n        suffix={\" | \" + title}\r\n      />\r\n    </Card>\r\n  </Col>\r\n\r\n);","import React, { useEffect, useState, useRef } from \"react\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Chart,\r\n  Interval,\r\n  Tooltip,\r\n  Axis,\r\n  Coordinate,\r\n  Interaction,\r\n  getTheme,\r\n} from 'bizcharts';\r\n\r\nimport {\r\n  FaCarAlt,\r\n  FaCarSide,\r\n  FaCarCrash\r\n} from \"react-icons/fa\";\r\nimport {\r\n  Spin,\r\n  Divider,\r\n  Descriptions,\r\n  Row\r\n} from \"antd\"\r\n\r\nimport Statistic from \"components/Statistic\"\r\n\r\nfunction ChartPiVL() {\r\n  const { api } = useAppStore()\r\n  const [dashboardVL, setDashboardVl] = useState({\r\n    capacity_logistics_vl: 1,\r\n    operationel_vl: 0,\r\n    non_exploite_vl: 0,\r\n    affecte_vl: 0,\r\n    en_panne_vl: 0,\r\n    accedente_vl: 0\r\n  })\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const getDashboardVL = () => {\r\n    api.get(\"/dashboard_vl\").then((res) => {\r\n      setDashboardVl(res.data.data)\r\n      setLoading(false)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDashboardVL()\r\n    const intr = setInterval(getDashboardVL, 60000)\r\n    return () => clearInterval(intr)\r\n  }, [])\r\n\r\n  if (loading || !dashboardVL) {\r\n    return <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n      <Spin size=\"large\" />\r\n    </div>\r\n  }\r\n  //const operationel_vl = dashboardVL\r\n  const non_exploite_vlP = dashboardVL.non_exploite_vl\r\n  const affecte_vlP = dashboardVL.affecte_vl\r\n  const en_panne_vlP = dashboardVL.en_panne_vl\r\n  const accedente_vlP = dashboardVL.accedente_v\r\n  const capacity_logistics_vl = dashboardVL.capacity_logistics_vl\r\n  const operationel_vl = dashboardVL.operationel_vl\r\n\r\n  const non_exploite_vl = dashboardVL.non_exploite_vl / dashboardVL.capacity_logistics_vl\r\n  const affecte_vl = dashboardVL.affecte_vl / dashboardVL.capacity_logistics_vl\r\n  const en_panne_vl = dashboardVL.en_panne_vl / dashboardVL.capacity_logistics_vl\r\n  const accedente_vl = dashboardVL.accedente_v / dashboardVL.capacity_logistics_vl\r\n\r\n  const data = [\r\n    { item: 'NON EXPLOITE', count: non_exploite_vl, percent: non_exploite_vlP, color: \"#000\" },\r\n    { item: 'AFFECTE', count: affecte_vl, percent: affecte_vlP },\r\n    { item: 'EN PANNE', count: en_panne_vl, percent: en_panne_vlP },\r\n    { item: 'ACCEDENTE', count: accedente_vl, percent: accedente_vlP, color: \"red\" },\r\n  ];\r\n\r\n\r\n  return (\r\n    <>\r\n      <Row >\r\n        <Chart height={350} data={data} autoFit>\r\n          <Coordinate type=\"theta\" radius={0.75} />\r\n          <Tooltip showTitle={true} />\r\n          <Axis visible={false} />\r\n          <Interval\r\n            position=\"percent\"\r\n            adjust=\"stack\"\r\n            color=\"item\"\r\n            style={{\r\n              lineWidth: 1,\r\n              stroke: '#fff',\r\n            }}\r\n            state={{\r\n              selected: {\r\n                style: (t) => {\r\n                  const res = getTheme().geometries.interval.rect.selected.style(t);\r\n                  return { ...res, fill: 'red' }\r\n                }\r\n              }\r\n            }}\r\n          />\r\n          <Interaction type='element-single-selected' />\r\n        </Chart>\r\n        <Statistic\r\n          value={capacity_logistics_vl}\r\n          icon={<FaCarAlt style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Capacité\"\r\n          color=\"#000\"\r\n        />\r\n        <Statistic\r\n          value={operationel_vl}\r\n          icon={<FaCarAlt style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Opérationel\"\r\n          color=\"green\"\r\n        />\r\n        <Statistic\r\n          value={affecte_vlP}\r\n          icon={<FaCarSide style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Affecté\"\r\n          color=\"blue\"\r\n        />\r\n        <Statistic\r\n          value={non_exploite_vlP}\r\n          icon={<FaCarSide style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Non exploité\"\r\n          color=\"#9c27b0\"\r\n        />\r\n        <Statistic\r\n          value={en_panne_vlP}\r\n          icon={<FaCarSide style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"En panne\"\r\n          color=\"#faad14\"\r\n        />\r\n        <Statistic\r\n          value={accedente_vlP}\r\n          icon={<FaCarCrash style={{ marginRight: 10 }} />}\r\n          suffix=\"Véhicules\"\r\n          title=\"Accedenté\"\r\n          color=\"red\"\r\n        />\r\n      </Row>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default () => {\r\n  const { api } = useAppStore()\r\n  const chartPieVLRef = useRef(null);\r\n  const [dashboardVL, setDashboardVl] = useState({\r\n    capacity_logistics_vl: 0,\r\n    operationel_vl: 0,\r\n    non_exploite_vl: 0,\r\n    affecte_vl: 0,\r\n    en_panne_vl: 0,\r\n    accedente_vl: 0\r\n  })\r\n\r\n  useEffect(() => {\r\n    api.get(\"/dashboard_vl\").then((res) => {\r\n      setDashboardVl(res.data.data)\r\n    })\r\n\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <Page title=\"Dashboard\">\r\n      <Divider orientation=\"left\"><h1>VL</h1></Divider>\r\n      <ChartPiVL />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Button, message, Transfer, Form, Skeleton } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nimport SearchInput from \"components/SearchInput\";\r\nimport { groupBy } from \"lodash\";\r\n\r\nconst mockData = [];\r\nfor (let i = 0; i < 20; i++) {\r\n  mockData.push({\r\n    key: i.toString(),\r\n    matricule: `content${i + 1}`,\r\n    description: `description of content${i + 1}`,\r\n  });\r\n}\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  window.api = api\r\n  const [cars, setCars] = useState([])\r\n  const [data, setData] = useState({\r\n    group_id: null,\r\n    cars_id: [],\r\n    loadingCars: true,\r\n    loadingGroupCars: false,\r\n    carGroupe: \"vh\"\r\n  })\r\n  const [selectedKeys, setSelectedKey] = useState([])\r\n  window.data = data\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  };\r\n  const formTailLayout = {\r\n  };\r\n  const affecte = (h) => {\r\n    console.log(h)\r\n    api.post(\"/groups/cars/\" + data.group_id, data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data.group_id) {\r\n      setData({ ...data, loadingGroupCars: true })\r\n      api.get(\"groups/cars/\" + data.group_id).then((res) => {\r\n        const cars_id = res.data.data.map(c => c.id)\r\n        setData({ ...data, cars_id, loadingGroupCars: false })\r\n      })\r\n    }\r\n  }, [data.group_id])\r\n\r\n  useEffect(() => {\r\n    api.get(\"allcars\").then(({ data }) => {\r\n      const cars = data.data.map(car => ({ ...car, key: Number.parseInt(car.id) }))\r\n      setData({ ...data, cars, loadingCars: false })\r\n    })\r\n  }, [data.carGroupe])\r\n\r\n\r\n\r\n  const handleChange = (nextTargetKeys, direction, moveKeys) => {\r\n    setData({ ...data, cars_id: nextTargetKeys })\r\n  };\r\n\r\n  const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n    setSelectedKey([...sourceSelectedKeys, ...targetSelectedKeys])\r\n  };\r\n\r\n\r\n  return (\r\n    <Page title=\"Affecté des vehicules au groupe\" selectedSiderKey=\"group-cars\">\r\n      <Form\r\n        {...formItemLayout}\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        onFinish={affecte}\r\n      >\r\n\r\n        <Form.Item label={\"Groupe\"} name={\"group_id\"}>\r\n          <SearchInput\r\n            url=\"groups/search\"\r\n            style={{ width: 200 }}\r\n            mapOptionToString={c => c.name}\r\n            onSelect={(value, option) => {\r\n              setData({ ...data, group_id: option.id })\r\n            }}\r\n            onChange={(value, option) => {\r\n              if (option) {\r\n                setData({ ...data, group_id: option.id })\r\n              } else {\r\n                setData({ ...data, group_id: null })\r\n              }\r\n            }}\r\n            placeholder=\"Rechercher ...\"\r\n          />\r\n        </Form.Item>\r\n\r\n        {data.group_id && (() => {\r\n          if (data.loadingCars || data.loadingGroupCars) {\r\n            return <Skeleton />\r\n          } else {\r\n            return <Form.Item label={\"Véhicules affecté\"} name={\"carsId\"}>\r\n              <Transfer\r\n                showSearch={true}\r\n                dataSource={data.cars}\r\n                titles={['Tout', 'Affecté']}\r\n                targetKeys={data.cars_id}\r\n                selectedKeys={selectedKeys}\r\n                onChange={handleChange}\r\n                onSelectChange={handleSelectChange}\r\n                render={item => item.code_gps + \" | \" + item.matricule}\r\n                style={{ marginBottom: 16 }}\r\n                listStyle={{\r\n                  width: 250,\r\n                  height: 300,\r\n                }}\r\n                disabled={false}\r\n              />\r\n            </Form.Item>\r\n          }\r\n        })()}\r\n\r\n\r\n        <Form.Item {...formTailLayout} >\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Envoyer\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport Page from \"components/Page\"\r\nimport { AutoComplete, Input } from \"antd\"\r\nimport { useAppStore } from \"stores\"\r\n\r\nexport default ({ url, query_string, mapOptionToString, placeholder, onSelect, onChange, style, defaultOption, disabled }) => {\r\n\tconst { api } = useAppStore()\r\n\tconst [value, setValue] = useState('');\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\r\n\tconst onSearch = (searchText) => {\r\n\t\tapi.get(`${url}?data=${searchText}&${query_string}`).then(({ data }) => {\r\n\t\t\tconst options = data.data.map(c => ({ ...c, value: mapOptionToString(c), }))\r\n\t\t\tsetOptions(options)\r\n\t\t})\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AutoComplete\r\n\t\t\toptions={options}\r\n\t\t\tdefaultValue={() => {\r\n\t\t\t\tif (defaultOption) {\r\n\t\t\t\t\treturn mapOptionToString(defaultOption)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tdisabled={disabled}\r\n\t\t\tstyle={style}\r\n\t\t\tonSelect={onSelect}\r\n\t\t\tonSearch={onSearch}\r\n\t\t\tonChange={onChange}\r\n\t\t\tplaceholder={placeholder}\r\n\r\n\t\t/>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport Page from \"components/Page\"\r\nimport { AutoComplete, Input, Select, Tag } from \"antd\"\r\nimport { useAppStore } from \"stores\"\r\n\r\nexport default ({ url, query_string, mapOptionToString, placeholder, onSelect, onChange, style, defaultOption, disabled, optionLabelProp }) => {\r\n\tconst { api } = useAppStore()\r\n\tconst [value, setValue] = useState([]);\r\n\tconst [options, setOptions] = useState([]);\r\n\r\n\r\n\tconst onSearch = (searchText) => {\r\n\t\tapi.get(`${url}?data=${searchText}&${query_string}`).then(({ data }) => {\r\n\t\t\tconst options = data.data.map(c => ({ ...c, value: mapOptionToString(c), }))\r\n\t\t\tsetOptions(options)\r\n\t\t})\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tmode=\"tags\"\r\n\t\t\toptions={options}\r\n\t\t\toptionLabelProp={optionLabelProp}\r\n\t\t\tdefaultValue={() => {\r\n\t\t\t\tif (defaultOption) {\r\n\t\t\t\t\treturn defaultOption\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tshowSearch={false}\r\n\t\t\tdisabled={disabled}\r\n\t\t\tstyle={style}\r\n\t\t\tonSearch={onSearch}\r\n\t\t\t//onChange={_onChange}\r\n\t\t\tonChange={(labels, options) => {\r\n\t\t\t\tsetValue(options)\r\n\t\t\t\tonChange(options)\r\n\t\t\t}}\r\n\t\t\ttagRender={(props) => {\r\n\t\t\t\tconst { label, value, closable, onClose } = props;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color={\"blue\"} closable={closable} onClose={onClose} style={{ marginRight: 3 }}>\r\n\t\t\t\t\t\t{value}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tvalue={value}\r\n\t\t\tlabelInValue={true}\r\n\t\t/>\r\n\t)\r\n}","import React from 'react';\r\nimport { Select, Spin } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\n\r\nimport { useAppStore } from \"stores\"\r\n\r\nexport default ({ url, query_string, mapOptionToString, debounceTimeout = 800, ...props }) => {\r\n\tconst { api } = useAppStore()\r\n\tconst [fetching, setFetching] = React.useState(false);\r\n\tconst [options, setOptions] = React.useState([]);\r\n\tconst fetchRef = React.useRef(0);\r\n\r\n\tconst debounceFetcher = React.useMemo(() => {\r\n\t\tconst loadOptions = (value) => {\r\n\t\t\tfetchRef.current += 1;\r\n\t\t\tconst fetchId = fetchRef.current;\r\n\t\t\tsetOptions([]);\r\n\t\t\tsetFetching(true);\r\n\t\t\tapi.get(`${url}?data=${value}&${query_string}`).then(({ data }) => {\r\n\t\t\t\tif (fetchId !== fetchRef.current) {\r\n\t\t\t\t\t// for fetch callback order\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst _options = data.data.map(c => ({ ...c, value: mapOptionToString(c), }))\r\n\t\t\t\tsetOptions(_options)\r\n\t\t\t\tsetFetching(false);\r\n\t\t\t})\r\n\t\t};\r\n\r\n\t\treturn debounce(loadOptions, debounceTimeout);\r\n\t}, [debounceTimeout]);\r\n\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tlabelInValue\r\n\t\t\tfilterOption={false}\r\n\t\t\tonSearch={debounceFetcher}\r\n\t\t\tnotFoundContent={fetching ? <Spin size=\"small\" /> : null}\r\n\t\t\t{...props}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t);\r\n}","import { Progress, Button } from 'antd';\r\nimport { MinusOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function ({ defaultValue, onChange }) {\r\n  const [percent, setPercent] = useState(0)\r\n  useEffect(() => {\r\n    if (defaultValue) {\r\n      setPercent(defaultValue)\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    onChange(percent)\r\n  }, [percent])\r\n  const increase = () => {\r\n    let p = percent + 10;\r\n    if (p > 100) {\r\n      p = 100;\r\n    }\r\n    setPercent(p);\r\n  };\r\n\r\n  const decline = () => {\r\n    let p = percent - 10;\r\n    if (p < 0) {\r\n      p = 0;\r\n    }\r\n    setPercent(p);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n      <Progress type=\"circle\" percent={percent} />\r\n      <Button.Group style={{marginTop: 5}}>\r\n        <Button onClick={decline} icon={<MinusOutlined />} />\r\n        <Button onClick={increase} icon={<PlusOutlined />} />\r\n      </Button.Group>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tButton,\r\n\tCheckbox,\r\n\tSelect,\r\n\tDatePicker,\r\n\tRate,\r\n\tSwitch,\r\n\tDivider\r\n} from \"antd\";\r\nimport { values } from \"lodash\";\r\n\r\nimport SearchInput from \"components/SearchInput\";\r\nimport SearchInput2 from \"components/SearchInput2\";\r\nimport DebounceSelect from \"components/DebounceSelect\";\r\nimport CircularProgress from \"components/CircularProgress\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst { Item } = Form;\r\n\r\nexport const renderItem = (form, initialValues, item) => {\r\n\tif (item.type === \"divider\") {\r\n\t\treturn <Divider plain>{item.text}</Divider>\r\n\t}\r\n\tif (item.type === \"progress\") {\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tdefaultValue={initialValues[item.name]}\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\tform.setFieldsValue(item.name, value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"search\") {\r\n\t\tconst { renderValue } = item;\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tquery_string={item.query_string}\r\n\t\t\t\t\tdefaultOption={initialValues[item.defaultOptionName]}\r\n\t\t\t\t\tmapOptionToString={item.mapOptionToString}\r\n\t\t\t\t\tonSelect={(value, option) => {\r\n\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\tfield[item.name] = option.id;\r\n\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={item.disabled}\r\n\t\t\t\t\tonChange={(value, option) => {\r\n\t\t\t\t\t\tif (!option) {\r\n\t\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\t\tfield[item.name] = null;\r\n\t\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={item.label}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"search2\") {\r\n\t\tconst { renderValue } = item;\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<SearchInput2\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tquery_string={item.query_string}\r\n\t\t\t\t\tdefaultOption={initialValues[item.defaultOptionName]}\r\n\t\t\t\t\toptionLabelProp={item?.optionLabelProp}\r\n\t\t\t\t\tmapOptionToString={item.mapOptionToString}\r\n\t\t\t\t\tdisabled={item.disabled}\r\n\t\t\t\t\tonChange={(options) => {\r\n\t\t\t\t\t\tif (options) {\r\n\t\t\t\t\t\t\tlet optionsId = []\r\n\t\t\t\t\t\t\toptions.map((option) => {\r\n\t\t\t\t\t\t\t\tif (option.id) {\r\n\t\t\t\t\t\t\t\t\toptionsId.push(option.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log({ optionsId })\r\n\t\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\t\tfield[item.name] = optionsId\r\n\t\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={item.label}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"debounceSelect\") {\r\n\t\tconst { renderValue } = item;\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\trules={item.rules}\r\n\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t>\r\n\t\t\t\t<DebounceSelect\r\n\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t//\tvalue={form.getFieldValue(item.name)}\r\n\t\t\t\t\tmapOptionToString={item.mapOptionToString}\r\n\t\t\t\t\tplaceholder={item.label}\r\n\t\t\t\t\turl={item.url}\r\n\t\t\t\t\tquery_string={item.query_string}\r\n\t\t\t\t\tonChange={(newValue, newOptions) => {\r\n\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\t//console.log(newOptions)\r\n\t\t\t\t\t\tfield[item.name] = newOptions\r\n\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"select\") {\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tname={item.name}\r\n\t\t\t\tlabel={item.label}\r\n\t\t\t\thasFeedback\r\n\t\t\t\tinitialValue={item.initialValue}\r\n\t\t\t\trules={item.rules}\r\n\t\t\t>\r\n\t\t\t\t<Select placeholder=\"Selectioné\">\r\n\t\t\t\t\t{item.selects.map((select, i) => (\r\n\t\t\t\t\t\t<Option key={i} value={select.value}>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{select.label}{\" \"}\r\n\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"selectmultiple\") {\r\n\t\treturn (\r\n\t\t\t<Form.Item style={{ flex: 1, width: '100%' }} label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<Select mode=\"tags\"\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\tconst field = {};\r\n\t\t\t\t\t\tfield[item.name] = value\r\n\t\t\t\t\t\tform.setFieldsValue(field);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdefaultValue={item.initialValue}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t{item?.selects?.map((o, i) => (\r\n\t\t\t\t\t\t<Option key={i} value={o?.value}>{o?.label}</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t)\r\n\t}\r\n\tif (item.type === \"text\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<Input {...item.inputProp} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"textarea\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<TextArea />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"password\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name} rules={item.rules}>\r\n\t\t\t\t<Input.Password />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"checkbox\") {\r\n\t\treturn (\r\n\t\t\t<Item name={item.name} valuePropName=\"checked\">\r\n\t\t\t\t<Checkbox> {item.label} </Checkbox>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"boolean\") {\r\n\t\treturn (\r\n\t\t\t<Item name={item.name} >\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tcheckedChildren={item.checkedChildren}\r\n\t\t\t\t\tunCheckedChildren={item.unCheckedChildren}\r\n\t\t\t\t\tdefaultChecked >\r\n\t\t\t\t\t{item.label}\r\n\t\t\t\t</Switch>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\tdisabledDate={(current) => {\r\n\t\t\t\t\t\tif (item.disabledDate) {\r\n\t\t\t\t\t\t\treturn item.disabledDate(current, form);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(value) => form.setFieldsValue(item.name, value)}\r\n\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_year\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker={\"year\"} style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_quarter\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker=\"quarter\" style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_month\") {\r\n\t\tconsole.log(\"date_picker_month\")\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker=\"month\" style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"date_picker_week\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<DatePicker picker={\"week\"} style={{ width: \"100%\" }} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\r\n\tif (item.type === \"rate\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<Rate style={{ backgroundColor: \"white\" }} defaultValue={initialValues[item.name]} />\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"integer\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype={\"number\"}\r\n\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\tdefaultValue={initialValues[item.name]}\r\n\t\t\t\t\tonChange={(e) => console.log(e.target.value)}\r\n\t\t\t\t\t{...item.inputProp}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"number\") {\r\n\t\treturn (\r\n\t\t\t<Item label={item.label} name={item.name}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttype={\"number\"}\r\n\t\t\t\t\tdefaultValue={initialValues[item.name]}\r\n\t\t\t\t\t{...item.inputProp}\r\n\t\t\t\t/>\r\n\t\t\t</Item>\r\n\t\t);\r\n\t}\r\n\tif (item.type === \"render\") {\r\n\t\treturn item.render(form)\r\n\t}\r\n}\r\nexport const FormBuilder = ({\r\n\tformItems,\r\n\tinitialValues = [],\r\n\tonFinish,\r\n\tonFinishFailed,\r\n\textra = () => { },\r\n\tloading,\r\n\tfull = false\r\n}) => {\r\n\tconst [form] = Form.useForm();\r\n\tlet formItemLayout = {\r\n\r\n\t};\r\n\tif (!full) {\r\n\t\tformItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 24 },\r\n\t\t\t\tsm: { span: 5 }\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 24 },\r\n\t\t\t\tsm: { span: 12 }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconst formTailLayout = {};\r\n\r\n\treturn (\r\n\t\t<Form\r\n\t\t\t{...formItemLayout}\r\n\t\t\tname=\"basic\"\r\n\t\t\tform={form}\r\n\t\t\tlayout=\"vertical\"\r\n\t\t\tinitialValues={initialValues}\r\n\t\t\tonFinish={onFinish}\r\n\t\t\tonFinishFailed={onFinishFailed}\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\tformItems.map((item, i) => (\r\n\t\t\t\t\trenderItem(form, initialValues, item)\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\textra(form)\r\n\t\t\t}\r\n\t\t\t<Item {...formTailLayout}>\r\n\t\t\t\t<Button loading={loading} type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\tEnvoyer\r\n        </Button>\r\n\t\t\t</Item>\r\n\t\t</Form>\r\n\t);\r\n};\r\n","import { _prop, _postes, _carGenre, _messages } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"username\",\r\n    label: \"Nom d'utilisateur\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"firstname\",\r\n    label: \"Nom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"lastname\",\r\n    label: \"Prenom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"mail\",\r\n    label: \"Email\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"password\",\r\n    label: \"Mot de pass\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"password\",\r\n  },\r\n  {\r\n    name: \"poste\",\r\n    label: \"Poste\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n    selects: _postes\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"TEL\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  }\r\n]\r\n\r\nexport const roleFormItems = [\r\n  {\r\n    name: \"name\",\r\n    label: \"Designation\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  }\r\n]","import { useAppStore } from \"stores\";\r\nimport * as moment from \"moment\"\r\n\r\nexport const scrollbarWidth = () => {\r\n\tconst scrollDiv = document.createElement('div')\r\n\tscrollDiv.setAttribute('style', 'width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;')\r\n\tdocument.body.appendChild(scrollDiv)\r\n\tconst scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\r\n\tdocument.body.removeChild(scrollDiv)\r\n\treturn scrollbarWidth\r\n}\r\n\r\nexport const hasRole = (user, roleName) => {\r\n\tif (user.username === \"admin\") {\r\n\t\treturn true\r\n\t}\r\n\tlet _hasRole = false\r\n\tuser.roles.map((r, i) => {\r\n\t\tif (roleName === r.name) {\r\n\t\t\t_hasRole = true\r\n\t\t}\r\n\t})\r\n\treturn _hasRole\r\n}\r\n\r\n\r\nexport const _hasRole = (roleName) => {\r\n\tconst { user } = useAppStore()\r\n\tif (user.username === \"admin\") {\r\n\t\treturn true\r\n\t}\r\n\tlet _hasRole = false\r\n\tuser.roles.map((r, i) => {\r\n\t\tif (roleName === r.name) {\r\n\t\t\t_hasRole = true\r\n\t\t}\r\n\t})\r\n\treturn _hasRole\r\n}\r\n\r\nexport const months = [\r\n\t\"JAN\", \"FEV\", \"MARS\", \"AVRIL\", \"MAI\", \"JUIN\", \"JUILLET\", \"AOUT\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"\r\n]\r\nexport const indicateurCastDate = (dateValue) => {\r\n\tlet date = JSON.parse(dateValue)\r\n\tif (date.type == \"month\") {\r\n\t\treturn date.year + \"[\" + months[date.value] + \"]\"\r\n\t}\r\n\tif (date.type == \"quarter\") {\r\n\t\treturn date.year + \"[\" + \"T\" + date.value + \"]\"\r\n\t}\r\n\tif (date.type == \"day\") {\r\n\t\treturn date.value\r\n\t}\r\n\tif (date.type == \"week\") {\r\n\t\treturn date.year + \"[\" + \"S\" + date.value + \"]\"\r\n\t}\r\n\treturn date.year\r\n}\r\n\r\nexport const indicateurCastTypeDate = (type) => {\r\n\tif (type == \"day\") {\r\n\t\treturn \"Journalier\"\r\n\t}\r\n\tif (type == \"week\") {\r\n\t\treturn \"Hebdomadaire\"\r\n\t}\r\n\tif (type == \"month\") {\r\n\t\treturn \"Mensuelle\"\r\n\t}\r\n\tif (type == \"quarter\") {\r\n\t\treturn \"Trimestriel\"\r\n\t}\r\n\tif (type == \"year\") {\r\n\t\treturn \"Annuel\"\r\n\t}\r\n\treturn \"\"\r\n}\r\n\r\nexport const getIndicateurEcart = (row) => {\r\n\tif (row.valeurs?.length !== 0) {\r\n\t\tif (row.indicateur_sueil == \">\") {\r\n\t\t\treturn row?.valeurs[row.valeurs?.length - 1].valeur - row?.seuil\r\n\t\t} else {\r\n\t\t\treturn row?.seuil - row?.valeurs[row.valeurs?.length - 1].valeur\r\n\t\t}\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}","import React, {useState} from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Popover, message, Tooltip, Spin, List, Typography } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _carStateName, _carStates, _marque, _prop } from \"_consts\";\r\nimport { FaInfo, FaPaintBrush } from \"react-icons/fa\"\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\nimport { hasRole } from \"utils\";\r\n\r\nconst InfoCar = ({ row }) => {\r\n  const { api, user } = useAppStore()\r\n  const [visible, setVisible] = React.useState(false)\r\n  const [car, setCar] = React.useState(null)\r\n  const hide = () => {\r\n    setVisible(false)\r\n  }\r\n\r\n  return (\r\n    <Popover\r\n      content={() => (\r\n        <>\r\n          {\r\n            car &&\r\n            <List>\r\n              <List.Item>\r\n                <Typography.Text mark>[PROPRIÉTAIRE]</Typography.Text> {car.prop}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[ANCIEN MATRICULE]</Typography.Text> {car.old_matricule}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[GENRE]</Typography.Text> {car.genre}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[TYPE]</Typography.Text> {car.type}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[PUISSANCE]</Typography.Text> {car.puissance}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[ENERGIE]</Typography.Text> {car.energie}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[CARROSSERIE]</Typography.Text> {car.carrosserie}\r\n              </List.Item>\r\n              <List.Item>\r\n                <Typography.Text mark>[COULEUR]</Typography.Text> {!car.color ? \"/\" : car.color}\r\n              </List.Item>\r\n            </List>\r\n          }\r\n          {\r\n            !car && <Spin />\r\n          }\r\n        </>\r\n      )}\r\n      title={car ? car.code_gps + \" | \" + car.matricule : \"\"}\r\n      trigger=\"click\"\r\n      visible={visible}\r\n      onVisibleChange={(v) => setVisible(v)}\r\n    >\r\n      <Button\r\n        onClick={() => {\r\n          api.get(\"/cars/\" + row.id).then((res) => {\r\n            // alert(JSON.stringify(res.data.data))\r\n            setCar(res.data.data)\r\n          })\r\n        }}\r\n        shape=\"circle\" icon={<FaInfo />} />\r\n    </Popover>\r\n  )\r\n}\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n  const [_params, setParams] = useState(null)\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Genre\",\r\n      dataIndex: \"genre\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      filters: [\r\n        { text: \"V P\", value: \"V P\" },\r\n        { text: \"CAMION\", value: \"CAMION\" },\r\n        { text: \"TRACTEUR\", value: \"TRACTEUR\" },\r\n        { text: \"REMORQUE\", value: \"REMORQUE\" },\r\n        { text: \"BUS\", value: \"BUS\" },\r\n        { text: \"UTILITAIRE\", value: \"UTILITAIRE\" },\r\n        { text: \"MICRO BUS\", value: \"MICRO BUS\" },\r\n        { text: \"V H\", value: \"V H\" },\r\n        { text: \"MOTO\", value: \"MOTO\" },\r\n        { text: \"AMBULANCE\", value: \"AMBULANCE\" },\r\n        { text: \"MOTOCYCLE\", value: \"MOTOCYCLE\" },\r\n      ]\r\n    },\r\n    {\r\n      title: \"Groupe\",\r\n      dataIndex: \"groupName\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n\r\n      filters: [\r\n        { text: 'LEGER', value: 'LEGER' },\r\n        { text: 'LIVRAISON MARCHANDISE', value: 'LIVRAISON MARCHANDISE' },\r\n        { text: 'LOURD', value: 'LOURD' },\r\n        { text: 'TRANSPORT PERSONNEL', value: 'TRANSPORT PERSONNEL' },\r\n      ]\r\n\r\n    },\r\n    {\r\n      title: \"Marque\",\r\n      dataIndex: \"marque\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      filters: _marque.map((m) => ({ text: m.label, value: m.value }))\r\n    },\r\n    {\r\n      title: \"Odometre\",\r\n      dataIndex: \"odometre\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"client\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      dataIndex: \"drivers_fullname\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      render: (text, row, index, action) => {\r\n        return <span style={{ color: !row.client ? \"red\" : \"rgba(0,0,0,.85)\" }}>{row.drivers_fullname}</span>\r\n      }\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"state\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      filters: _carStateName.map((m) => ({ text: m.label, value: m.value }))\r\n\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Info\">\r\n          <InfoCar row={row} />\r\n        </Tooltip>,\r\n\r\n        <>\r\n          {\r\n            hasRole(user, \"MODIFIER_VEHICULE\") &&\r\n            <Tooltip title=\"Modifier véhicule\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/cars/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n        <>\r\n          {\r\n            hasRole(user, \"MODIFIER_STATUS_VEHICULE\") &&\r\n            <Tooltip title=\"Ajouter Status\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/cars/stats/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<FaPaintBrush />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n        <Tooltip title=\"Historiques des décharges\">\r\n          <Button\r\n            onClick={() => {\r\n              history.push(\"/cars/decharges/\" + row.id)\r\n            }}\r\n            shape=\"circle\" icon={<HistoryOutlined />} />\r\n        </Tooltip>,\r\n        <>\r\n          { hasRole(user, \"SUPPRIMER_VEHICULE\") &&\r\n            <Tooltip title=\"Supprimer\">\r\n              <Button\r\n                onClick={() => {\r\n                  api.post(\"/cars/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n                }}\r\n                shape=\"circle\" icon={<DeleteOutlined />} />\r\n            </Tooltip>}\r\n        </>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title={\"Véhicules\"} selectedSiderKey=\"list-cars\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        toolBarRender={(request) => [\r\n          <Tooltip title=\"Exporter fiechier EXCEL\" >\r\n            <div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n              <RiFileExcel2Line\r\n                size={20}\r\n                onClick={() => {\r\n                  api.get(\"/cars?format=excel\",\r\n                    {\r\n                      responseType: 'blob',\r\n                      headers: {\r\n                        'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n                        'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n                      }\r\n                    }\r\n                  ).then((res) => {\r\n                    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                    const link = document.createElement('a');\r\n                    link.href = url;\r\n                    link.setAttribute('download', 'etat_vehicules_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                  })\r\n                }}\r\n              />\r\n            </div>\r\n          </Tooltip>,\r\n        ]}\r\n        search={true}\r\n        size={\"small\"}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          /* if (filters) {\r\n             params[\"filterBy\"] = Object.keys(filters)[0]\r\n             params[\"filter\"] = Object.values(filters)\r\n           }*/\r\n          console.log(filters)\r\n          params[\"filters\"] = filters\r\n          params[\"format\"] = \"json\"\r\n          setParams(params)\r\n          return api.get(\"/cars\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import { _prop, _marque, _carGenre, _messages, _carStateName } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"matricule\",\r\n    label: \"Matricule\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"prop\",\r\n    label: \"Propriétaire\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"old_matricule\",\r\n    label: \"Ancien matricule\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"code_gps\",\r\n    label: \"code GPS\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"genre\",\r\n    label: \"Genre\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"select\",\r\n\t\tselects: _carGenre\r\n  },\r\n  {\r\n    name: \"marque\",\r\n    label: \"Marque\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"type\",\r\n    label: \"Type\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"puissance\",\r\n    label: \"Puissance\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"energie\",\r\n    label: \"Energie\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"carrosserie\",\r\n    label: \"Carrosserie\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"color\",\r\n    label: \"Color\",\r\n    type: \"text\",\r\n  },\r\n\t{\r\n    name: \"nb_places\",\r\n    label: \"Nombre de places\",\r\n    type: \"integer\",\r\n  },\r\n\r\n]\r\n\r\nexport const formItemsCarState = [\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Véhicule\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"name\",\r\n    label: \"Designation\",\r\n    type: \"select\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    selects: _carStateName\r\n  },\r\n  {\r\n    name: \"state_date\",\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n  },\r\n  {\r\n    name: \"observation\",\r\n    label: \"Observation\",\r\n    type: \"textarea\"\r\n  }\r\n]\r\n\r\n\r\nexport const camionRemorqueFormItems = [\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Camion\",\r\n    type: \"search\",\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Remorque\",\r\n    type: \"search\",\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"date\",\r\n    label: \"Date\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"date\",\r\n  },\r\n]","import { _prop, _postes, _carGenre, _messages, _drivers_types } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"firstname\",\r\n    label: \"Nom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"lastname\",\r\n    label: \"Prenom\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"tel\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"code_paie\",\r\n    label: \"Code paie\",\r\n    type: \"integer\",\r\n  },\r\n  {\r\n    name: \"type\",\r\n    label: \"Type\",\r\n    type: \"select\",\r\n    selects: _drivers_types\r\n  }\r\n]","import { _prop, _postes, _carGenre, _messages } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"code\",\r\n    label: \"Code (SAP)\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"designation\",\r\n    label: \"Designation\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"localite\",\r\n    label: \"Localité\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"TEL\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"client_id\",\r\n    label: \"Client hiérarchique\",\r\n    type: \"search\",\r\n    url: \"clients/search\",\r\n    defaultOptionName: \"client\",\r\n    mapOptionToString: c => c?.designation\r\n  },\r\n]","import { _prop, _postes, _carGenre, _messages, _motif_restititions } from \"_consts\";\r\nimport * as moment from \"moment\"\r\nexport const formDechargeItems = [\r\n  {\r\n    name: \"client_id\",\r\n    label: \"Client\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"clients/search\",\r\n    defaultOptionName: \"client\",\r\n    mapOptionToString: c => c?.designation\r\n  },\r\n  {\r\n    name: \"car_id\",\r\n    label: \"Véhicule\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"cars/search\",\r\n    defaultOptionName: \"car\",\r\n    mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n  },\r\n  {\r\n    name: \"date_decharge\",\r\n    label: \"Date décharge\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"date\",\r\n  },\r\n  {\r\n    name: \"date_fin_prestation\",\r\n    label: \"Date fin prestation\",\r\n    type: \"date\",\r\n    disabledDate: (current, form) => current && current < form.getFieldValue(\"date_decharge\")\r\n  }\r\n]\r\n\r\n\r\nexport const formCheckListRestititionItems = [\r\n  {\r\n    name: \"driver_id\",\r\n    label: \"Conducteur\",\r\n    type: \"search\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    url: \"drivers/search\",\r\n    defaultOptionName: \"driver\",\r\n    mapOptionToString: c => c?.firstname + \" \" + c.lastname\r\n  },\r\n  {\r\n    name: \"motif_restitition\",\r\n    label: \"Motif de restitution\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"select\",\r\n    selects: _motif_restititions,\r\n  },\r\n  {\r\n    name: \"date_restitition\",\r\n    label: \"Date restitution\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"date\",\r\n  },\r\n  {\r\n    name: \"niveau_carburant\",\r\n    label: \"Niveau carburant\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"progress\",\r\n  },\r\n  {\r\n    name: \"odometre\",\r\n    label: \"Odometre\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"integer\",\r\n    inputProp: {\r\n      suffix: \"KM\"\r\n    }\r\n  },\r\n  {\r\n    name: \"starts\",\r\n    label: \"Etat de véhicule\",\r\n    type: \"rate\",\r\n  },\r\n  {\r\n    name: \"cle_vehicule\",\r\n    label: \"Nbs clés véhicule\",\r\n    type: \"integer\",\r\n    inputProp: {\r\n      suffix: \"Clé(s)\"\r\n    }\r\n  },\r\n  {\r\n    name: \"carte_grise\",\r\n    label: \"Carte grise\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"assurance\",\r\n    label: \"Assurance\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"assurance_marchandises\",\r\n    label: \"Assurance marchandises\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"scanner\",\r\n    label: \"Scanner\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"permis_circuler\",\r\n    label: \"Permis circuler\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"carnet_enter\",\r\n    label: \"Carnet entretien\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"vignette\",\r\n    label: \"Vignette\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"carte_gpl\",\r\n    label: \"Carte GPL\",\r\n    type: \"checkbox\",\r\n  }\r\n  ,\r\n  {\r\n    name: \"gillet\",\r\n    label: \"Gillet\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"roue_secour\",\r\n    label: \"Roue secour\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"cric\",\r\n    label: \"Cric\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"cle_roue\",\r\n    label: \"Cle roue\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"poste_radio\",\r\n    label: \"Poste radio\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"extincteur\",\r\n    label: \"Extincteur\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"boite_pharm\",\r\n    label: \"Boite pharmacie\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"triangle\",\r\n    label: \"Triangle de présignalisation\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"pochette_cle\",\r\n    label: \"Pochette des clés\",\r\n    type: \"checkbox\",\r\n  },\r\n  {\r\n    name: \"observation_checklist\",\r\n    label: \"observation\",\r\n    type: \"textarea\",\r\n  }\r\n]\r\n\r\nexport const formCheckListItems = [\r\n\r\n]","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n\thide: { display: \"none\" },\r\n\tpage: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\twidth: \"210mm\",\r\n\t\theight: \"297mm\",\r\n\t\tfontSize: \"4mm\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tborder: \"none\",\r\n\t\tcolor: \"black\",\r\n\t},\r\n\tpageHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tborder: \".15mm solid black\",\r\n\t\theight: \"25mm\",\r\n\t\tmargin: \"5mm\",\r\n\t},\r\n\tpageBody: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: \"white\",\r\n\t\tpadding: \"5mm\",\r\n\t\tpaddingTop: \"1mm\",\r\n\t\tpaddingBottom: \"1mm\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tpageFooter: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmargin: \"5mm\",\r\n\t\tmarginTop: \"1mm\",\r\n\t\tfontSize: \"3.3mm\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n};\r\n\r\nexport default class PrintDecharge extends React.Component {\r\n\trender() {\r\n\t\tconst { checklist } = this.props;\r\n\t\treturn (\r\n\t\t\t<div style={styles.page}>\r\n\t\t\t\t<div style={styles.pageHeader}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img style={{ width: \"40mm\" }} src={\"/logo.png\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5.5mm\",\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSPA CONDOR LOGISTICS\r\n            </div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div>DECHARGE</div>\r\n\t\t\t\t\t\t\t<div>{`N°${checklist[\"decharges.id\"]} DL/${moment(checklist[\"decharges.date_decharge\"]).year()}`}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={styles.pageBody}>\r\n\t\t\t\t\t<div style={{ fontSize: \"6mm\", marginBottom: \"2mm\" }}>\r\n\t\t\t\t\t\t<b>Client: </b> {checklist[\"clients.designation\"]} / {checklist[\"clients_mother_designation\"]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Marque:</b> {checklist[\"cars.marque\"]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Matricule:</b> {checklist[\"cars.matricule\"]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Code GPS:</b> {checklist[\"cars.code_gps\"]}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Odometre:</b> {checklist?.odometre}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Nbs Clés de Véhicule:</b> {checklist.cle_vehicule}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<b>Niveau carburant:</b> {checklist.niveau_carburant}%\r\n              </li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginTop: \"2mm\",\r\n\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<b>Date décharge le: {moment(checklist[\"decharges.date_decharge\"]).format(\"DD-MM-Y\")}</b><br />\r\n\t\t\t\t\t\t<u>Je Soussigné Monsieur:</u>{\" \"}\r\n\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{checklist[\"drivers.firstname\"]?.toUpperCase() +\r\n\t\t\t\t\t\t\t\t\" \" +\r\n\t\t\t\t\t\t\t\tchecklist[\"drivers.lastname\"]?.toUpperCase()}\r\n\t\t\t\t\t\t</b>\r\n            , <u>N° TEL:</u> <b>{checklist[\"drivers.tel\"]}</b>\r\n\t\t\t\t\t\t<br />\r\n            Reconnais avoir <u>reçu</u> ce jour{\" \"}\r\n\t\t\t\t\t\t<b>{moment(checklist[\"date_checklist\"])?.format(\"DD-MM-Y\")}</b>:\r\n            <div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: \"4mm\",\r\n\t\t\t\t\t\t\t\tfontSize: \"4.5mm\",\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tmarginLeft: \"5mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tI - <u>Les documents ci-aprés:</u>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"carte_grise\"\r\n\t\t\t\t\t\t\t\ttitle=\"Carte grise\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"assurance\"\r\n\t\t\t\t\t\t\t\ttitle=\"Assurance\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"assurance_marchandises\"\r\n\t\t\t\t\t\t\t\ttitle=\"Assurance marchandises\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document checklist={checklist} name=\"vignette\" title=\"Vignette\" />\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"scanner\"\r\n\t\t\t\t\t\t\t\ttitle=\"Scanner\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"permis_circuler\"\r\n\t\t\t\t\t\t\t\ttitle=\"Permis circuler\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"carnet_enter\"\r\n\t\t\t\t\t\t\t\ttitle=\"Carnet d'entretien\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"carte_gpl\"\r\n\t\t\t\t\t\t\t\ttitle=\"Carte GPL\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: \"4.5mm\",\r\n\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\tmarginLeft: \"5mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tII - <u>Les equipments ci-aprés:</u>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"roue_secour\"\r\n\t\t\t\t\t\t\t\ttitle=\"Roue de secours\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"cle_roue\"\r\n\t\t\t\t\t\t\t\ttitle=\"Clé Roue\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"gillet\"\r\n\t\t\t\t\t\t\t\ttitle=\"Gillet\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"cric\"\r\n\t\t\t\t\t\t\t\ttitle=\"Cric\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"poste_radio\"\r\n\t\t\t\t\t\t\t\ttitle=\"Poste radio\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"extincteur\"\r\n\t\t\t\t\t\t\t\ttitle=\"Extincteur\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"boite_pharm\"\r\n\t\t\t\t\t\t\t\ttitle=\"Boite pharmacie\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"triangle\"\r\n\t\t\t\t\t\t\t\ttitle=\"Triangle\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Document\r\n\t\t\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\t\t\tname=\"pochette_cle\"\r\n\t\t\t\t\t\t\t\ttitle=\"Pochette clés\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tborder: \".2mm solid black\",\r\n\t\t\t\t\t\t\tmarginTop: \"2mm\",\r\n\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t<b>Observations: </b>\r\n\t\t\t\t\t\t</u>{\" \"}\r\n\t\t\t\t\t\t{checklist[\"observation_checklist\"] ? checklist[\"observation_checklist\"] : \"/\"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div style={styles.pageFooter}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\theight: \"10mm\",\r\n\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<b>Le Gestionnaire Administrative Matériel Roulant</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<b>Le Gestionnaire Matériel Roulant</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<b>Le Bénéficiare</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ display: \"flex\", flex: 1, minHeight: \"25mm\" }}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n\t\t\t\t\t\t{\"username: \" + checklist[\"users.username\"]} |{\" \"}\r\n\t\t\t\t\t\t{`Imprimer Le: ${moment().format(\"D-M-yy\")}`} | {\" \"}\r\n\t\t\t\t\t\t{document.location.toString()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Document = ({ checklist, name, title }) => (\r\n\t<div style={{ margin: \"2mm\" }}>\r\n\t\t<input\r\n\t\t\tstyle={{ marginRight: \"2mm\" }}\r\n\t\t\tchecked={checklist[name] == true}\r\n\t\t\ttype=\"checkbox\"\r\n\t\t/>\r\n\t\t<b>{title}</b>\r\n\t</div>\r\n)\r\n","import React, { useRef, useState } from \"react\"\r\nimport { message, Steps } from 'antd';\r\nimport * as moment from \"moment\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formDechargeItems, formCheckListItems } from \"./columns\"\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst { Step } = Steps;\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ step: 0 })\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const decharge = (dataForm) => {\r\n    dataForm[\"date_decharge\"] = dataForm[\"date_decharge\"] ? dataForm[\"date_decharge\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    dataForm[\"date_fin_prestation\"] = dataForm[\"date_fin_prestation\"] ? dataForm[\"date_fin_prestation\"].format(\"yy-M-D\") : null\r\n    setAllData({ ...allData, data: { ...allData.data, ...dataForm }, step: 1 })\r\n  }\r\n\r\n  const checklist = (dataForm) => {\r\n    dataForm[\"date_checklist\"] = dataForm[\"date_checklist\"] ? dataForm[\"date_checklist\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    const postData = {\r\n      ...allData.data,\r\n      ...dataForm\r\n    }\r\n    setLoading(true);\r\n\r\n    api.post(\"/decharges\", postData).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/decharges/show/\" + res.data.data.id)\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n\r\n  }\r\n\r\n  const printDecharge = useRef(null);\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  return (\r\n    <Page title=\"Nauveau decharge\">\r\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <Steps current={allData.step}>\r\n          <Step title=\"Affectation client\" description=\"\" />\r\n          <Step title=\"Checklist Conducteur\" description=\"\" />\r\n        </Steps>\r\n        <div><hr /></div>\r\n        <div style={{ flex: 1, }}>\r\n          {allData.step === 0 &&\r\n            <FormBuilder formItems={formDechargeItems} initialValues={{ date_decharge: moment() }} onFinish={decharge} />\r\n          }\r\n          {allData.step === 1 &&\r\n            <FormBuilder\r\n              loading={loading}\r\n              formItems={[{\r\n                name: \"date_checklist\",\r\n                label: \"Date checklist\",\r\n                type: \"date\",\r\n                disabledDate: (current, form) => current && current < moment(allData.data.date_decharge)\r\n              },\r\n              {\r\n                name: \"driver_id\",\r\n                label: \"Conducteur\",\r\n                type: \"search\",\r\n                rules: [{ required: true, message: _messages.required }],\r\n                url: \"drivers/search\",\r\n                defaultOptionName: \"driver\",\r\n                mapOptionToString: c => c?.firstname + \" \" + c.lastname\r\n              },\r\n              {\r\n                name: \"niveau_carburant\",\r\n                label: \"Niveau carburant\",\r\n                rules: [{ required: true, message: _messages.required }],\r\n                type: \"progress\",\r\n              },\r\n              {\r\n                name: \"odometre\",\r\n                label: \"Odometre\",\r\n                rules: [{ required: true, message: _messages.required }],\r\n                type: \"integer\",\r\n                inputProp: {\r\n                  suffix: \"KM\"\r\n                }\r\n              },\r\n              {\r\n                name: \"starts\",\r\n                label: \"Etat de véhicule\",\r\n                type: \"rate\",\r\n              },\r\n              {\r\n                name: \"cle_vehicule\",\r\n                label: \"Nbs clés véhicule\",\r\n                type: \"integer\",\r\n                inputProp: {\r\n                  suffix: \"Clé(s)\"\r\n                }\r\n              },\r\n              {\r\n                name: \"carte_grise\",\r\n                label: \"Carte grise\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"assurance\",\r\n                label: \"Assurance\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"assurance_marchandises\",\r\n                label: \"Assurance marchandises\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"scanner\",\r\n                label: \"Scanner\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"permis_circuler\",\r\n                label: \"Permis circuler\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"carnet_enter\",\r\n                label: \"Carnet entretien\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"vignette\",\r\n                label: \"Vignette\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"carte_gpl\",\r\n                label: \"Carte GPL\",\r\n                type: \"checkbox\",\r\n              }\r\n                ,\r\n              {\r\n                name: \"gillet\",\r\n                label: \"Gillet\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"roue_secour\",\r\n                label: \"Roue secour\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"cric\",\r\n                label: \"Cric\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"cle_roue\",\r\n                label: \"Cle roue\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"poste_radio\",\r\n                label: \"Poste radio\",\r\n                type: \"checkbox\",\r\n              },\r\n\r\n              {\r\n                name: \"extincteur\",\r\n                label: \"Extincteur\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"boite_pharm\",\r\n                label: \"Boite pharmacie\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"triangle\",\r\n                label: \"Triangle de présignalisation\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"pochette_cle\",\r\n                label: \"Pochette des clés\",\r\n                type: \"checkbox\",\r\n              },\r\n              {\r\n                name: \"observation_checklist\",\r\n                label: \"observation\",\r\n                type: \"textarea\",\r\n              }\r\n              ]} onFinish={checklist}\r\n              initialValues={\r\n                {\r\n                  date_checklist: moment(allData.data[\"date_decharge\"]),\r\n                  assurance: false,\r\n                  assurance_marchandises: false,\r\n                  boite_pharm: false,\r\n                  carnet_enter: false,\r\n                  carte_gpl: false,\r\n                  carte_grise: false,\r\n                  cle_roue: false,\r\n                  cle_vehicule: 1,\r\n                  cric: false,\r\n                  extincteur: false,\r\n                  gillet: false,\r\n                  niveau_carburant: 0,\r\n                  odometre: 0,\r\n                  permis_circuler: false,\r\n                  pochette_cle: false,\r\n                  poste_radio: false,\r\n                  roue_secour: false,\r\n                  scanner: false,\r\n                  starts: 5,\r\n                  triangle: false,\r\n                  vignette: false\r\n                }\r\n              }\r\n            />\r\n          }\r\n        </div>\r\n\r\n\r\n      </div>,\r\n    </Page >\r\n  )\r\n}","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n  hide: { display: \"none\" },\r\n  page: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"210mm\",\r\n    height: \"297mm\",\r\n    fontSize: \"4mm\",\r\n    backgroundColor: \"white\",\r\n    margin: 0,\r\n    padding: 0,\r\n    border: \"none\",\r\n    color: \"black\",\r\n  },\r\n  pageHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    fontWeight: \"bold\",\r\n    backgroundColor: \"white\",\r\n    border: \".15mm solid black\",\r\n    height: \"25mm\",\r\n    margin: \"5mm\",\r\n  },\r\n  pageBody: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n    padding: \"5mm\",\r\n    paddingTop: \"1mm\",\r\n    paddingBottom: \"1mm\",\r\n    flexDirection: \"column\",\r\n  },\r\n  pageFooter: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"5mm\",\r\n    marginTop: \"1mm\",\r\n    fontSize: \"3.3mm\",\r\n    textAlign: \"center\",\r\n  },\r\n};\r\n\r\nexport default class PrintDecharge extends React.Component {\r\n  render() {\r\n    const { decharge } = this.props;\r\n    const checklist = decharge?.restitition?.checklist\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.pageHeader}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"45mm\",\r\n            }}\r\n          >\r\n            <img style={{ width: \"40mm\" }} src={\"/logo.png\"} />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: \"5.5mm\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              SPA CONDOR LOGISTICS\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                textAlign: \"center\",\r\n                border: \".15mm solid black\",\r\n                fontSize: \"5mm\",\r\n              }}\r\n            >\r\n              <div>RESTITUTION (DECHARGE)</div>\r\n              <div>{`N°${decharge[\"decharges.id\"]} DL/${moment(decharge[\"decharges.date_decharge\"]).year()}`}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"space-around\",\r\n              textAlign: \"center\",\r\n              alignItems: \"center\",\r\n              border: \".15mm solid black\",\r\n              width: \"45mm\",\r\n            }}\r\n          >\r\n            <div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n\r\n          </div>\r\n        </div>\r\n        <div style={styles.pageBody}>\r\n          <div style={{ fontSize: \"6mm\", marginBottom: \"2mm\" }}>\r\n            <b>Client: </b> {decharge[\"clients.designation\"]} / {decharge[\"clients_mother_designation\"]}\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>\r\n              <b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n            </u>\r\n            <ul>\r\n              <li>\r\n                <b>Marque:</b> {decharge[\"cars.marque\"]}\r\n              </li>\r\n              <li>\r\n                <b>Matricule:</b> {decharge[\"cars.matricule\"]}\r\n              </li>\r\n              <li>\r\n                <b>Code GPS:</b> {decharge[\"cars.code_gps\"]}\r\n              </li>\r\n              <li>\r\n                <b>Odometre:</b> {checklist?.odometre}\r\n              </li>\r\n              <li>\r\n                <b>Nbs Clés de Véhicule:</b> {checklist.cle_vehicule}\r\n              </li>\r\n              <li>\r\n                <b>Niveau carburant:</b> {checklist.niveau_carburant}%\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div\r\n            style={{\r\n              marginTop: \"2mm\",\r\n              fontSize: \"5mm\",\r\n              border: \".15mm solid black\",\r\n              padding: \"2mm\",\r\n            }}\r\n          >\r\n            <u>Je Soussigné Monsieur:</u>{\" \"}\r\n            <b>\r\n              {\" \"}\r\n              {decharge[\"drivers.firstname\"]?.toUpperCase() +\r\n                \" \" +\r\n                decharge[\"drivers.lastname\"]?.toUpperCase()}\r\n            </b>\r\n            , <u>N° TEL:</u> <b>{decharge[\"drivers.tel\"]}</b>\r\n            <br />\r\n            Reconnais avoir <u>restitué</u> ce jour{\" \"}\r\n            <b>{moment(decharge?.restitition?.date_restitition)?.format(\"D-M-yy\")}</b>:\r\n            <div\r\n              style={{\r\n                marginTop: \"4mm\",\r\n                fontSize: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              I - <u>Les documents ci-aprés:</u>\r\n            </div>\r\n            <div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n              {\" \"}\r\n              {console.dir(checklist)}\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"carte_grise\"\r\n                title=\"Carte grise\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"assurance\"\r\n                title=\"Assurance\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"assurance_marchandises\"\r\n                title=\"Assurance marchandises\"\r\n              />\r\n              <Document checklist={checklist} name=\"vignette\" title=\"Vignette\" />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"scanner\"\r\n                title=\"scanner\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"permis_circuler\"\r\n                title=\"Permis circuler\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"carnet_enter\"\r\n                title=\"carnet_enter\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"carte_gpl\"\r\n                title=\"carte_gpl\"\r\n              />\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginTop: \"4.5mm\",\r\n                fontWeight: \"bold\",\r\n                marginLeft: \"5mm\",\r\n              }}\r\n            >\r\n              II - <u>Les equipments ci-aprés:</u>\r\n            </div>\r\n            <div style={{ marginLeft: \"5mm\", display: \"flex\", flexWrap: \"wrap\" }}>\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"roue_secour\"\r\n                title=\"Roue de secours\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"cle_roue\"\r\n                title=\"clé Roue\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"gillet\"\r\n                title=\"Gillet\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"cric\"\r\n                title=\"Cric\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"poste_radio\"\r\n                title=\"Poste radio\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"extincteur\"\r\n                title=\"Extincteur\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"boite_pharm\"\r\n                title=\"Boite pharmacie\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"triangle\"\r\n                title=\"Triangle\"\r\n              />\r\n              <Document\r\n                checklist={checklist}\r\n                name=\"pochette_cle\"\r\n                title=\"Pochette clés\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              border: \".2mm solid black\",\r\n              marginTop: \"2mm\",\r\n              padding: \"2mm\",\r\n              flex: 1,\r\n            }}\r\n          >\r\n            <u>\r\n              <b>Observations: </b>\r\n            </u>{\" \"}\r\n            {checklist[\"observation\"] ? checklist[\"checklists.observation\"] : \"/\"}<br />\r\n            <ul>\r\n              <li>\r\n                <b>Les Documents non restituer</b>:{\" \"}\r\n                {\r\n                  decharge.carte_grise === 1 &&\r\n                  checklist.carte_grise === 0 &&\r\n                  \"Carte grise, \"\r\n                }\r\n                {\r\n                  decharge.assurance === 1 &&\r\n                  checklist.assurance === 0 &&\r\n                  \"Assurance, \"\r\n                }\r\n                {\r\n                  decharge.assurance_marchandises === 1 &&\r\n                  checklist.assurance_marchandises === 0 &&\r\n                  \"Assurance, \"\r\n                }\r\n                {\r\n                  decharge.vignette === 1 &&\r\n                  checklist.vignette === 0 &&\r\n                  \"Vignatte, \"\r\n                }\r\n                {\r\n                  decharge.scanner === 1 &&\r\n                  checklist.scanner === 0 &&\r\n                  \"Scanner, \"\r\n                }\r\n                {\r\n                  decharge.permis_circuler === 1 &&\r\n                  checklist.permis_circuler === 0 &&\r\n                  \"Permis circuler, \"\r\n                }\r\n                {\r\n                  decharge.carnet_enter === 1 &&\r\n                  checklist.carnet_enter === 0 &&\r\n                  \"Carnet enter, \"\r\n                }\r\n                {\r\n                  decharge.carte_gpl === 1 &&\r\n                  checklist.carte_gpl === 0 &&\r\n                  \"Carte_gpl, \"\r\n                }\r\n\r\n\r\n              </li>\r\n              <li>\r\n                <b>Les Equipments non restituer</b>:{\" \"}\r\n                {\r\n                  decharge.roue_secour === 1 &&\r\n                  checklist.roue_secour === 0 &&\r\n                  \"Roue secour, \"\r\n                }\r\n                {\r\n                  decharge.cle_roue === 1 &&\r\n                  checklist.cle_roue === 0 &&\r\n                  \"Clé Roue, \"\r\n                }\r\n                {\r\n                  decharge.gillet === 1 &&\r\n                  checklist.gillet === 0 &&\r\n                  \"Gillet, \"\r\n                }\r\n                {\r\n                  decharge.cric === 1 &&\r\n                  checklist.cric === 0 &&\r\n                  \"Cric, \"\r\n                }\r\n                {\r\n                  decharge.poste_radio === 1 &&\r\n                  checklist.poste_radio === 0 &&\r\n                  \"Poste radio, \"\r\n                }\r\n                {\r\n                  decharge.extincteur === 1 &&\r\n                  checklist.extincteur === 0 &&\r\n                  \"Extincteur, \"\r\n                }\r\n                {\r\n                  decharge.boite_pharm === 1 &&\r\n                  checklist.boite_pharm === 0 &&\r\n                  \"Boite pharmacier, \"\r\n                }\r\n                {\r\n                  decharge.triangle === 1 &&\r\n                  checklist.triangle === 0 &&\r\n                  \"Triangle, \"\r\n                }\r\n                {\r\n                  decharge.pochette_cle === 1 &&\r\n                  checklist.pochette_cle === 0 &&\r\n                  \"Pochette des clés, \"\r\n                }\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.pageFooter}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flex: 1,\r\n              height: \"10mm\",\r\n              border: \".15mm solid black\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flex: 1,\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Administrative Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Gestionnaire Matériel Roulant</b>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flex: 1,\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                border: \".15mm solid black\",\r\n              }}\r\n            >\r\n              <b>Le Bénéficiare</b>\r\n            </div>\r\n          </div>\r\n          <div style={{ display: \"flex\", flex: 1, minHeight: \"25mm\" }}>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n            <div\r\n              style={{ display: \"flex\", flex: 1, border: \".15mm solid black\" }}\r\n            ></div>\r\n          </div>\r\n          <div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n            {\"username: \" + decharge[\"users.username\"]} |{\" \"}\r\n            {`Imprimer Le: ${moment().format(\"D-M-yy\")}`} | {\" \"}\r\n            {document.location.toString()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Document = ({ checklist, name, title }) => (\r\n\t<div style={{ margin: \"2mm\" }}>\r\n\t\t<input\r\n\t\t\tstyle={{ marginRight: \"2mm\" }}\r\n\t\t\tchecked={checklist[name] == true}\r\n\t\t\ttype=\"checkbox\"\r\n\t\t/>\r\n\t\t<b>{title}</b>\r\n\t</div>\r\n)","import React, { useRef } from \"react\"\r\nimport {\r\n  Button,\r\n  Popconfirm\r\n} from \"antd\"\r\nimport {\r\n  FaPrint,\r\n  FaTrashAlt\r\n} from \"react-icons/fa\"\r\nimport { useReactToPrint } from \"react-to-print\";\r\nexport default ({ component, onDelete, disabledDelete }) => {\r\n\r\n  const printComponent = useRef(null);\r\n  const handlePrintComponent = useReactToPrint({\r\n    content: () => printComponent.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Button icon={<FaPrint />} onClick={handlePrintComponent} />\r\n      <Popconfirm\r\n        title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n        onConfirm={onDelete}\r\n        onCancel={() => { }}\r\n        okText=\"Oui\"\r\n        cancelText=\"No\"\r\n        disabled={disabledDelete}\r\n      >\r\n        <Button icon={<FaTrashAlt />} disabled={disabledDelete} />\r\n\r\n      </Popconfirm>\r\n      {React.cloneElement(component, { ref: printComponent })}\r\n    </>\r\n  )\r\n}","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { message, Steps, Spin } from 'antd';\r\nimport * as moment from \"moment\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formDechargeItems, formCheckListItems } from \"./columns\"\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { mockComponent } from \"react-dom/test-utils\";\r\nconst { Step } = Steps;\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ step: 0 })\r\n  const [loading, setLoading] = useState(false)\r\n  const { params } = useRouteMatch()\r\n  const [dechargeData, setDechargeData] = useState(null)\r\n  const [loadingData, setLoadingData] = useState(true)\r\n  useEffect(() => {\r\n    api.get(\"/decharges/\" + params.id).then((res) => {\r\n      console.log(res.data)\r\n      setDechargeData(res.data.data)\r\n      setLoadingData(false)\r\n    })\r\n  }, [])\r\n\r\n  const decharge = (dataForm) => {\r\n    setLoading(true);\r\n    dataForm[\"date_decharge\"] = dataForm[\"date_decharge\"] ? dataForm[\"date_decharge\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    dataForm[\"date_fin_prestation\"] = dataForm[\"date_fin_prestation\"] ? dataForm[\"date_fin_prestation\"].format(\"yy-M-D\") : null\r\n    dataForm[\"date_checklist\"] = dataForm[\"date_checklist\"] ? dataForm[\"date_checklist\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    api.put(\"/decharges/\" + params.id, dataForm).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/decharges/\")\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n\r\n  const checklist = (dataForm) => {\r\n    const postData = {\r\n      ...allData.data,\r\n      ...dataForm\r\n    }\r\n\r\n    api.put(\"/decharges/\" + params.id, postData).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/decharges/show/\" + res.data.data.id)\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n\r\n  }\r\n\r\n  const printDecharge = useRef(null);\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  if (loadingData || !dechargeData) {\r\n    return (\r\n      <Page title=\"Chargement ...\" withBack={true} >\r\n        <div style={{ marginTop: 40, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n          <Spin size=\"large\" />\r\n        </div>\r\n      </Page>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Page withBack={true} title={\"Modifier Décharge N°(\" + params.id + \") | Véhicule: \" + dechargeData[\"cars.matricule\"]}>\r\n      <FormBuilder\r\n        loading={loading}\r\n        formItems={[\r\n          {\r\n            name: \"client_id\",\r\n            label: \"Client\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"clients/search\",\r\n            defaultOptionName: \"client\",\r\n            mapOptionToString: c => c?.designation\r\n          },\r\n          {\r\n            name: \"car_id\",\r\n            label: \"Véhicule\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"cars/search\",\r\n            defaultOptionName: \"car\",\r\n            mapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n          },\r\n          {\r\n            name: \"date_decharge\",\r\n            label: \"Date décharge\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            type: \"date\",\r\n          },\r\n          {\r\n            name: \"date_fin_prestation\",\r\n            label: \"Date fin prestation\",\r\n            type: \"date\",\r\n            disabledDate: (current, form) => current && current < form.getFieldValue(\"date_decharge\")\r\n          },\r\n          {\r\n            name: \"date_checklist\",\r\n            label: \"Date checklist\",\r\n            type: \"date\",\r\n            disabledDate: (current, form) => current && current < moment(allData.data.date_decharge)\r\n          },\r\n          {\r\n            name: \"driver_id\",\r\n            label: \"Conducteur\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"drivers/search\",\r\n            defaultOptionName: \"driver\",\r\n            mapOptionToString: c => c?.firstname + \" \" + c.lastname\r\n          },\r\n          {\r\n            name: \"niveau_carburant\",\r\n            label: \"Niveau carburant\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            type: \"progress\",\r\n          },\r\n          {\r\n            name: \"odometre\",\r\n            label: \"Odometre\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            type: \"integer\",\r\n            inputProp: {\r\n              suffix: \"KM\"\r\n            }\r\n          },\r\n          {\r\n            name: \"starts\",\r\n            label: \"Etat de véhicule\",\r\n            type: \"rate\",\r\n          },\r\n          {\r\n            name: \"cle_vehicule\",\r\n            label: \"Nbs clés véhicule\",\r\n            type: \"integer\",\r\n            inputProp: {\r\n              suffix: \"Clé(s)\"\r\n            }\r\n          },\r\n          {\r\n            name: \"carte_grise\",\r\n            label: \"Carte grise\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"assurance\",\r\n            label: \"Assurance\",\r\n            type: \"checkbox\",\r\n          },\r\n          ,\r\n          {\r\n            name: \"assurance_marchandises\",\r\n            label: \"Assurance marchandises\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"scanner\",\r\n            label: \"Scanner\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"permis_circuler\",\r\n            label: \"Permis circuler\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"carnet_enter\",\r\n            label: \"Carnet entretien\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"vignette\",\r\n            label: \"Vignette\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"carte_gpl\",\r\n            label: \"Carte GPL\",\r\n            type: \"checkbox\",\r\n          }\r\n          ,\r\n          {\r\n            name: \"gillet\",\r\n            label: \"Gillet\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"roue_secour\",\r\n            label: \"Roue secour\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"cric\",\r\n            label: \"Cric\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"cle_roue\",\r\n            label: \"Cle roue\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"poste_radio\",\r\n            label: \"Poste radio\",\r\n            type: \"checkbox\",\r\n          },\r\n\r\n          {\r\n            name: \"extincteur\",\r\n            label: \"Extincteur\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"boite_pharm\",\r\n            label: \"Boite pharmacie\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"triangle\",\r\n            label: \"Triangle de présignalisation\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"pochette_cle\",\r\n            label: \"Pochette des clés\",\r\n            type: \"checkbox\",\r\n          },\r\n          {\r\n            name: \"observation_checklist\",\r\n            label: \"observation\",\r\n            type: \"textarea\",\r\n          }\r\n        ]}\r\n        onFinish={decharge}\r\n        initialValues={\r\n          {\r\n            client_id: dechargeData[\"client_id\"],\r\n            client: dechargeData[\"client\"],\r\n            car_id: dechargeData[\"car_id\"],\r\n            car: dechargeData[\"car\"],\r\n            driver_id: dechargeData[\"driver_id\"],\r\n            driver: dechargeData[\"driver\"],\r\n            date_decharge: moment(dechargeData[\"decharges.date_decharge\"]),\r\n            date_checklist: moment(dechargeData[\"date_checklist\"]),\r\n            assurance: dechargeData.assurance,\r\n            assurance_marchandises: dechargeData.assurance_marchandises,\r\n            boite_pharm: dechargeData.boite_pharm,\r\n            carnet_enter: dechargeData.carnet_enter,\r\n            carte_gpl: dechargeData.carte_gpl,\r\n            carte_grise: dechargeData.carte_grise,\r\n            cle_roue: dechargeData.cle_roue,\r\n            cle_vehicule: dechargeData.cle_vehicule,\r\n            cric: dechargeData.cric,\r\n            extincteur: dechargeData.extincteur,\r\n            gillet: dechargeData.gillet,\r\n            niveau_carburant: dechargeData.niveau_carburant,\r\n            odometre: dechargeData.odometre,\r\n            permis_circuler: dechargeData.permis_circuler,\r\n            pochette_cle: dechargeData.pochette_cle,\r\n            poste_radio: dechargeData.poste_radio,\r\n            roue_secour: dechargeData.roue_secour,\r\n            scanner: dechargeData.scanner,\r\n            starts: dechargeData.starts,\r\n            triangle: dechargeData.triangle,\r\n            vignette: dechargeData.vignette,\r\n            observation_checklist: dechargeData[\"observation_checklist\"],\r\n          }\r\n        }\r\n      />\r\n    </Page >\r\n  )\r\n}","import React, { useRef, useState } from \"react\"\r\nimport { Select, Spin } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\nimport { useAppStore } from \"stores\";\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nexport default ({ url, query_string, mapOptionToString, mapOptionToKey, placeholder, onChange, style, defaultOption, disabled }) => {\r\n  const [fetching, setFetching] = useState(false)\r\n  const [data, setData] = useState([])\r\n  const [value, setValue] = useState([])\r\n  const [lastFetchId, setLastFetchId] = useState(0)\r\n  const { api, user } = useAppStore()\r\n  window.data = data\r\n  const fetchData = value => {\r\n    console.log('fetching data', value);\r\n    //lastFetchId += 1;\r\n    setLastFetchId(lastFetchId + 1)\r\n    const fetchId = lastFetchId;\r\n    setData([])\r\n    setFetching(true)\r\n    api.get(url + \"?data=\" + value)\r\n      .then(res => {\r\n        if (fetchId !== lastFetchId) {\r\n          // for fetch callback order\r\n          return;\r\n        }\r\n        const data = res.data.data.map(option => ({\r\n          text: mapOptionToString(option),\r\n          value: mapOptionToKey(option),\r\n        }));\r\n        setData(data)\r\n        setFetching(false)\r\n      });\r\n  };\r\n\r\n  const handleChange = value => {\r\n    setData([])\r\n    setValue(value)\r\n    setFetching(false)\r\n    onChange(value)\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      mode=\"multiple\"\r\n      labelInValue\r\n      value={value}\r\n      placeholder={placeholder}\r\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\r\n      filterOption={false}\r\n      onSearch={fetchData}\r\n      onChange={handleChange}\r\n      style={style}\r\n    >\r\n      {data.map((d, i) => (\r\n        <Option key={i}>{d.text}</Option>\r\n      ))}\r\n    </Select>\r\n  );\r\n\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { Button, message, Transfer, Form, Skeleton } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nimport SearchInput from \"components/SearchInput\";\r\nimport { groupBy } from \"lodash\";\r\n\r\nconst mockData = [];\r\nfor (let i = 0; i < 20; i++) {\r\n  mockData.push({\r\n    key: i.toString(),\r\n    matricule: `content${i + 1}`,\r\n    description: `description of content${i + 1}`,\r\n  });\r\n}\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  window.api = api\r\n  const [roles, setRoles] = useState([])\r\n  const [data, setData] = useState({\r\n    user_id: null,\r\n    roles_id: [],\r\n    loadingRoles: true,\r\n    loadingUserRoles: false,\r\n  })\r\n  const [selectedKeys, setSelectedKey] = useState([])\r\n  window.data = data\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  };\r\n  const formTailLayout = {\r\n  };\r\n\r\n  const affecte = () => {\r\n    if (data.user_id && data.roles_id) {\r\n      api.post(\"/auth/users/roles\", {\r\n        user_id: data.user_id,\r\n        roles_id: data.roles_id\r\n      }).then((res) => {\r\n        message.info(\"Bien ajouter\")\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"roles\").then(({ data }) => {\r\n      const _roles = data.data.map(role => ({ ...role, key: role.id }))\r\n      setData({ ...data, loadingRoles: false })\r\n      setRoles(_roles)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (data.user_id) {\r\n      setData({ ...data, loadingUserRoles: true })\r\n      api.get(\"auth/users/\" + data.user_id + \"/roles/\").then((res) => {\r\n        const roles_id = res.data.data.map(c => c.id)\r\n        setData({ ...data, roles_id, loadingUserRoles: false })\r\n      })\r\n    }\r\n  }, [data.user_id])\r\n\r\n  const handleChange = (nextTargetKeys, direction, moveKeys) => {\r\n    setData({ ...data, roles_id: nextTargetKeys })\r\n  };\r\n\r\n  const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n    setSelectedKey([...sourceSelectedKeys, ...targetSelectedKeys])\r\n  };\r\n\r\n\r\n  return (\r\n    <Page title=\"Affecté des vehicules au utilisateur\" selectedSiderKey=\"user-roles-users\">\r\n      <Form\r\n        {...formItemLayout}\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        onFinish={affecte}\r\n      >\r\n\r\n        <Form.Item label={\"Utilisateur\"} name={\"user_id\"}>\r\n          <SearchInput\r\n            url=\"auth/users/search\"\r\n            style={{ width: 200 }}\r\n            mapOptionToString={c => c.firstname + \" \" + c.lastname}\r\n            onSelect={(value, option) => {\r\n              setData({ ...data, user_id: option.id })\r\n            }}\r\n            onChange={(value, option) => {\r\n              if (option) {\r\n                setData({ ...data, user_id: option.id })\r\n              } else {\r\n                setData({ ...data, user_id: null })\r\n              }\r\n            }}\r\n            placeholder=\"Rechercher un utilisateur ...\"\r\n          />\r\n        </Form.Item>\r\n\r\n        {data.user_id && (() => {\r\n          if (data.loadingRoles || data.loadingUserRoles) {\r\n            return <Skeleton />\r\n          } else {\r\n            return <Form.Item label={\"Roles affecté\"} name={\"rolesId\"}>\r\n              <Transfer\r\n                showSearch={true}\r\n                dataSource={roles}\r\n                titles={['Tout', 'Affecté']}\r\n                targetKeys={data.roles_id}\r\n                selectedKeys={selectedKeys}\r\n                onChange={handleChange}\r\n                onSelectChange={handleSelectChange}\r\n                render={item => item.name}\r\n                style={{ marginBottom: 16 }}\r\n                listStyle={{\r\n                  minWidth: 250,\r\n                  height: 300,\r\n                }}\r\n                disabled={false}\r\n              />\r\n            </Form.Item>\r\n          }\r\n        })()}\r\n\r\n\r\n        <Form.Item {...formTailLayout} >\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Envoyer\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Page>\r\n  )\r\n}","import { _prop, _postes, _carGenre, _messages } from \"_consts\";\r\n\r\nexport const formItems = [\r\n  {\r\n    name: \"code\",\r\n    label: \"Code (SAP)\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"designation\",\r\n    label: \"Designation\",\r\n    rules: [{ required: true, message: _messages.required }],\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"localite\",\r\n    label: \"Localité\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"tel\",\r\n    label: \"TEL\",\r\n    type: \"text\",\r\n  },\r\n  {\r\n    name: \"client_id\",\r\n    label: \"Client hiérarchique\",\r\n    type: \"search\",\r\n    url: \"clients/search\",\r\n    defaultOptionName: \"client\",\r\n    mapOptionToString: c => c?.designation\r\n  },\r\n]","import React from \"react\"\r\nimport {\r\n\tSelect,\r\n\tSpin\r\n} from \"antd\"\r\n\r\nimport { useAppStore } from \"stores\"\r\nexport default ({ mission }) => {\r\n\tconst [state, setState] = React.useState(mission.missionvls_state)\r\n\tconst [loading, setLoading] = React.useState(false)\r\n\tconst { api, user } = useAppStore()\r\n\r\n\tconst _onChange = (value) => {\r\n\t\tsetLoading(true)\r\n\t\tapi.post(\"/missionvls/change_state/\" + mission.id, { state: value })\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetState(value)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t}\r\n\tif (loading) {\r\n\t\treturn <Spin />\r\n\t}\r\n\treturn (\r\n\t\t<Select onChange={_onChange} style={{ width: 120 }} placeholder=\"Selectioné\" defaultValue={state} >\r\n\t\t\t<Select.Option value={\"EN ATTENTE\"}>EN ATTENTE</Select.Option>\r\n\t\t\t<Select.Option value={\"EN COURS\"}>EN COURS</Select.Option>\r\n\t\t\t<Select.Option value={\"ANNULE\"}>ANNULE</Select.Option>\r\n\t\t\t<Select.Option value={\"FIN MISSION\"}>FIN MISSION</Select.Option>\r\n\t\t</Select >\r\n\t)\r\n}","import React, { useState } from 'react';\r\nimport { Drawer, Button , Tooltip} from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default () => {\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Calcule GPS\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<GiGps />} />\r\n\t\t\t</Tooltip>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Basic Drawer\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t>\r\n\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t<p>Some contents...</p>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};","export default __webpack_public_path__ + \"static/media/decompte.9043e45b.png\";","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport decompte from \"./decompte.png\"\r\nconst styles = {\r\n\thide: { display: \"none\" },\r\n\tpage: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\twidth: \"210mm\",\r\n\t\theight: \"297mm\",\r\n\t\tfontSize: \"4mm\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tborder: \"none\",\r\n\t\tcolor: \"black\",\r\n\t},\r\n\tpageHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\tfontWeight: \"bold\",\r\n\t\tbackgroundColor: \"white\",\r\n\t\tborder: \".15mm solid black\",\r\n\t\theight: \"25mm\",\r\n\t\tmargin: \"5mm\",\r\n\t},\r\n\tpageBody: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: \"white\",\r\n\t\tpadding: \"5mm\",\r\n\t\tpaddingTop: \"1mm\",\r\n\t\tpaddingBottom: \"1mm\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tpageFooter: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmargin: \"5mm\",\r\n\t\tmarginTop: \"1mm\",\r\n\t\tfontSize: \"3.3mm\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n};\r\n\r\nexport default class PrintMission extends React.Component {\r\n\trender() {\r\n\t\tconst { mission } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div style={styles.page}>\r\n\t\t\t\t\t<div style={styles.pageHeader}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img style={{ width: \"40mm\" }} src={\"/logo.png\"} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tfontSize: \"5.5mm\",\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSPA CONDOR LOGISTICS\r\n            </div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div>ORDRE DE MISSION</div>\r\n\t\t\t\t\t\t\t\t<div>{`N°${mission[\"id\"]} M/${moment(mission[\"date_depart_mission\"]).year()}`}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\twidth: \"45mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: \"6mm\" }}>Version 01</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={styles.pageBody}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Mission: </b>\r\n\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>N° Demande(commande):</b> {mission.numero ? mission.numero : \"/\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Destination:</b> <u style={{ fontSize: \"6mm\" }}>{mission.destinations}</u>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Client:</b> <u>{mission.client.designation}</u>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Date de Départ:</b> {moment(mission.date_depart_mission).format(\"DD-MM-Y\")}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Date de Retour:</b> {mission.date_arrivee_mission ? moment(mission.date_arrivee_mission).format(\"DD-MM-Y\") : \"/\"}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"1mm\"\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Véhicule: </b>\r\n\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Marque:</b> {mission.car.marque}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Matricule:</b> {mission.car.matricule}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<b>Code GPS:</b> {mission.car.code_gps}\r\n\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontSize: \"5mm\",\r\n\t\t\t\t\t\t\t\tborder: \".15mm solid black\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"1mm\"\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"6mm\" }}>Conducteurs: </b>\r\n\t\t\t\t\t\t\t</u>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t{mission.driver1.firstname.toUpperCase() + \" \" + mission.driver1.lastname.toUpperCase() + \", C/P : \" + mission.driver1.code_paie}\r\n\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmission.driver2 &&\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t{mission.driver2.firstname.toUpperCase() + \" \" + mission.driver2.lastname.toUpperCase() + \", C/P : \" + mission.driver2.code_paie}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tborder: \".2mm solid black\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"2mm\",\r\n\t\t\t\t\t\t\t\tpadding: \"2mm\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<u>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: \"5mm\" }}>Observation: </b>\r\n\t\t\t\t\t\t\t</u>{\" \"}\r\n\t\t\t\t\t\t\t{mission.observation ? mission.observation : \"/\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div style={styles.pageFooter}>\r\n\t\t\t\t\t\t<div style={{ border: \".15mm solid black\", padding: \"1mm\" }}>\r\n\t\t\t\t\t\t\t{`Imprimer Le: ${moment().format(\"D-M-yy\")}`} | {\" \"}\r\n\t\t\t\t\t\t\t{document.location.toString()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twidth: \"210mm\",\r\n\t\t\t\t\t\theight: \"297mm\",\r\n\t\t\t\t\t\tfontSize: \"4mm\",\r\n\t\t\t\t\t\tbackgroundColor: \"white\",\r\n\t\t\t\t\t\tborder: \"none\",\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\ttextAlign: \"center\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}>\r\n\t\t\t\t\t<img style={{ width: \"100%\" }} src={decompte} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Document = ({ checklist, name, title }) => {\r\n\tif (checklist[name] == true) {\r\n\t\treturn (\r\n\t\t\t<div style={{ margin: \"2mm\" }}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tstyle={{ marginRight: \"2mm\" }}\r\n\t\t\t\t\tchecked={checklist[name] == true}\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t/>\r\n\t\t\t\t<b>{title}</b>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <></>;\r\n\t}\r\n};\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Slog\",\r\n\t\t\tdataIndex: \"slog\",\r\n\t\t\tsorter: true,\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des axes stratigique\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_axes\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"processu_ids\"] = dataForm[\"processu_ids\"].map(o => o.id)\r\n\t\tapi.post(\"/smi_objectifs\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Nouvel élément\">\r\n\t\t\t\t<Button onClick={showDrawer} icon={<PlusOutlined />}>Nouvel élément</Button>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Objectif opérationnel\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\r\n\t\t\t\t<FormBuilder\r\n\t\t\t\t\tfull\r\n\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\tlabel: \"intitulé\",\r\n\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"axe_id\",\r\n\t\t\t\t\t\t\tlabel: \"Axe\",\r\n\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\turl: \"smi_axes/search\",\r\n\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\tdefaultOptionName: \"axe\",\r\n\t\t\t\t\t\t\tmapOptionToString: c => c?.slog + \" | \" + c?.name\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"processu_ids\",\r\n\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\ttype: \"debounceSelect\",\r\n\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tinitialValues={{\r\n\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonFinish={add}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Axe\",\r\n\t\t\tdataIndex: \"axe.slog\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.axe?.slog\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tlet pTexts = \"\"\r\n\t\t\t\trow?.processus.map(p => {\r\n\t\t\t\t\tpTexts += p.slog + \", \"\r\n\t\t\t\t})\r\n\t\t\t\treturn pTexts\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_OBJECTIF_OP\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_objectifs/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des objectifs opérationnels\">\r\n\t\t\t{\r\n\t\t\t\thasRole(user, \"AJOUTER_OBJECTIF_OP\") &&\r\n\t\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t\t<AddObjetif />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_objectis\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Slog\",\r\n\t\t\tdataIndex: \"slog\",\r\n\t\t\tsorter: true,\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des processus\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_processus\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default ({ reload }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"type\"] = dataForm[\"type\"] ? 1 : 0\r\n\t\tdataForm[\"domaine\"] = \"qualite\"\r\n\t\tapi.post(\"/smi_indicateurs\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); reload() })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Nouvel élément\">\r\n\t\t\t\t<Button onClick={showDrawer} icon={<PlusOutlined />}>Ajouter</Button>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle=\"Indicateur\"\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={420}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\tlabel: \"intitulé\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"objectif_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Objectif operationnel\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_objectifs/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"objectif\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.name\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"processu_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"domaine\",\r\n\t\t\t\t\t\t\t\tlabel: \"Domaine\",\r\n\t\t\t\t\t\t\t\ttype: \"selectmultipless\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Qualité\", value: \"qualite\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Environnement\", value: \"environnement\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Santé & Securité\", value: \"sante\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\tlabel: \"Description\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"type\",\r\n\t\t\t\t\t\t\t\tlabel: \"intra processus\",\r\n\t\t\t\t\t\t\t\ttype: \"boolean\",\r\n\t\t\t\t\t\t\t\tunCheckedChildren: \"Intra processus\",\r\n\t\t\t\t\t\t\t\tcheckedChildren: \"Exta processus\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"mesure\",\r\n\t\t\t\t\t\t\t\tlabel: \"Unité de mesure\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Heures\", value: \"heures\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Jours\", value: \"jours\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Nombre\", value: \"nombre\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Dinars\", value: \"dinars\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"%\", value: \"%\" }\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"seuil\",\r\n\t\t\t\t\t\t\t\tlabel: \"Critère de performance\",\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"indicateur_sueil\",\r\n\t\t\t\t\t\t\t\tlabel: \"Sens indicateur / Critère de performance \",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \">\", value: \">\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"=\", value: \"=\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"<\", value: \"<\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"methode_calcul\",\r\n\t\t\t\t\t\t\t\tlabel: \"Méthode de calcul\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"frequence\",\r\n\t\t\t\t\t\t\t\tlabel: \"Frequence\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Journalier\", value: \"day\" },\r\n\t\t\t\t\t\t\t\t\t//\t\t\t\t\t\t\t\t{ label: \"Hebdomadaire\", value: \"week\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Mensuelle\", value: \"month\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Trimestriel\", value: \"quarter\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Annuel\", value: \"year\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"mode_calcul\",\r\n\t\t\t\t\t\t\t\tlabel: \"Mode Calcul\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Somme\", value: \"somme\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Moyene\", value: \"moyene\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Resultat comulé\", value: \"comule\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\n\r\nexport default ({ title, reload, indicateur_id, frequence }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tif (!dataForm[\"date\"]) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tdataForm[\"indicateur_id\"] = indicateur_id\r\n\t\tif (frequence == \"day\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].format(\"yy-M-D\"),\r\n\t\t\t\ttype: \"day\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"week\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].week(),\r\n\t\t\t\ttype: \"week\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"month\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].month(),\r\n\t\t\t\ttype: \"month\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"quarter\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].quarter(),\r\n\t\t\t\ttype: \"quarter\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (frequence == \"year\") {\r\n\t\t\tdataForm[\"date\"] = {\r\n\t\t\t\tvalue: dataForm[\"date\"].year(),\r\n\t\t\t\ttype: \"year\",\r\n\t\t\t\tyear: dataForm[\"date\"].year()\r\n\t\t\t}\r\n\t\t}\r\n\t\tdataForm[\"date\"] = JSON.stringify(dataForm[\"date\"])\r\n\t\tapi.post(\"/smi_indicateurs/create_valeur\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); reload() })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\r\n\tlet type = \"date\"\r\n\tif (frequence == \"week\") {\r\n\t\ttype = \"date_picker_week\"\r\n\t}\r\n\tif (frequence == \"month\") {\r\n\t\ttype = \"date_picker_month\"\r\n\t}\r\n\tif (frequence == \"quarter\") {\r\n\t\ttype = \"date_picker_quarter\"\r\n\t}\r\n\tif (frequence == \"year\") {\r\n\t\ttype = \"date_picker_year\"\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Ajouter une valeur\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<PlusOutlined />}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={420}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date\",\r\n\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"valeur\",\r\n\t\t\t\t\t\t\t\tlabel: \"Valeur\",\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"comment\",\r\n\t\t\t\t\t\t\t\tlabel: \"Commentaire\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React from \"react\"\r\nimport {\r\n\tPopover,\r\n\tTypography,\r\n\tSpace,\r\n\tDescriptions\r\n} from \"antd\"\r\n\r\nconst Text = Typography.Text\r\nexport default ({ indicateur, children }) => {\r\n\treturn (\r\n\t\t<Popover placement=\"topRight\" content={\r\n\t\t\t<Descriptions  bordered>\r\n\t\t\t\t{[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Description\",\r\n\t\t\t\t\t\tdescription: indicateur.description\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Methode de calcul\",\r\n\t\t\t\t\t\tdescription: indicateur.methode_calcul\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Mode de calcul\",\r\n\t\t\t\t\t\tdescription: indicateur.mode_calcul\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Domaine\",\r\n\t\t\t\t\t\tdescription: indicateur.domaine\r\n\t\t\t\t\t}\r\n\t\t\t\t].map((i) => (\r\n\t\t\t\t\t<Descriptions.Item span={3} label={i.title}>{i.description}</Descriptions.Item>\r\n\t\t\t\t))}\r\n\t\t\t</Descriptions>\r\n\r\n\t\t}\r\n\t\t trigger=\"click\"\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Popover>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\n\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport moment from 'moment';\r\n\r\nexport default ({ reload, addButton, indicateurv_id }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"indicateurv_id\"] = indicateurv_id\r\n\t\tdataForm[\"date_prevu\"] = dataForm[\"date_prevu\"] ? dataForm[\"date_prevu\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdataForm[\"date\"] = dataForm[\"date\"] ? dataForm[\"date\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tapi.post(\"/smi_conformites\", dataForm).then((res) => { message.info(\"Bien ajouter\"); onClose(); reload() })\r\n\t\t//console.log(dataForm)\r\n\t}\r\n\twindow.addButton = addButton\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"Ajouter non-conformité\">\r\n\t\t\t\t{\r\n\t\t\t\t\taddButton &&\r\n\t\t\t\t\taddButton(showDrawer)\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\t!addButton &&\r\n\t\t\t\t\t<Button onClick={showDrawer} icon={<PlusOutlined />}>Ajouter</Button>\r\n\t\t\t\t}\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle=\"Non Conformité\"\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={420}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\tlabel: \"intitulé\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"nature\",\r\n\t\t\t\t\t\t\t\tlabel: \"Nature de la non-conformité\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Produit/service acheté\", value: \"Produit/service achete\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Reclamation client\", value: \"Reclamation client\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Plainte\", value: \"Plainte\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Accident/incident\", value: \"Accident/incident\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Impact environnemental\", value: \"Impact environnemental\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Non atteinte d'un objectif\", value: \"Non atteinte d'un objectif\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Inspection\", value: \"Inspection\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Règlementation\", value: \"Reglementation\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Autres\", value: \"Autres\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"nature_label\",\r\n\t\t\t\t\t\t\t\tlabel: \"Libellé de la nature\",\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date non-conformité\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\tlabel: \"Description\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"processu_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"domaine\",\r\n\t\t\t\t\t\t\t\tlabel: \"Domaine\",\r\n\t\t\t\t\t\t\t\ttype: \"selectmultiple\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{ label: \"Qualité\", value: \"qualite\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Environnement\", value: \"environnement\" },\r\n\t\t\t\t\t\t\t\t\t{ label: \"Santé & Securité\", value: \"sante\" },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date_prevu\",\r\n\t\t\t\t\t\t\t\tlabel: \"Délais prévu\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t\t//disabledDate: (current, form) => current && current < form.getFieldValue(\"date\"),\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tdate: moment(),\r\n\t\t\t\t\t\t\tdate_prevu: moment()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select, Tag } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tInfoOutlined,\r\n\tCheckCircleTwoTone,\r\n\tCloseCircleTwoTone\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole, getIndicateurEcart } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\nimport AddIndicateur from \"./components/AddIndicateur\";\r\nimport AddIndicateurv from \"./components/AddIndicateurv\";\r\nimport HistoryIndicateurv from \"./components/HistoryIndicateurv\";\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport IndicateurInfo from \"./components/IndicateurInfo\";\r\nimport AddNonConformite from \"./components/AddNonConformite\";\r\nconst months = [\r\n\t\"JAN\",\r\n\t\"FEV\",\r\n\t\"MAR\",\r\n\t\"AVR\",\r\n\t\"MAI\",\r\n\t\"JUN\",\r\n\t\"JUI\",\r\n\t\"AOUT\",\r\n\t\"SEP\",\r\n\t\"OCT\",\r\n\t\"NOV\",\r\n\t\"DEC\"\r\n]\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.processu?.slog\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Objectif\",\r\n\t\t\tdataIndex: \"objectif\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.objectif?.name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Indicateur\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Critère de performance\",\r\n\t\t\tdataIndex: \"seuil\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.indicateur_sueil + \" à \" + row?.seuil + \" \" + row?.mesure\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Fréquence\",\r\n\t\t\tdataIndex: \"frequence\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn indicateurCastTypeDate(row.frequence)\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Résultat\",\r\n\t\t\tdataIndex: \"valeur\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.valeurs?.length !== 0) {\r\n\t\t\t\t\treturn row?.valeurs[row.valeurs?.length - 1].valeur + \" \" + row?.mesure\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"-\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Ecart\",\r\n\t\t\tdataIndex: \"valeur\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tconst ecart = getIndicateurEcart(row);\r\n\t\t\t\tif (!ecart) {\r\n\t\t\t\t\treturn \"Acucun valeur\"\r\n\t\t\t\t}\r\n\t\t\t\tif (ecart > 0) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button type=\"text\" block={true} title={ecart} icon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />} >{\" \" + ecart}</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<AddNonConformite\r\n\t\t\t\t\t\t\tindicateurv_id={1}\r\n\t\t\t\t\t\t\treload={() => { }}\r\n\t\t\t\t\t\t\taddButton={(onClick) => (<Button onClick={onClick} type=\"text\" block={true} title={ecart} icon={<CloseCircleTwoTone twoToneColor=\"#ff5722\" />} >{\" \" + ecart}</Button>)} />\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: \"Date de la valeur\",\r\n\t\t\tdataIndex: \"date\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.valeurs?.length !== 0) {\r\n\t\t\t\t\treturn indicateurCastDate(row?.valeurs[row.valeurs?.length - 1].date)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"-\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<IndicateurInfo indicateur={row} ><Button shape=\"circle\" icon={<InfoOutlined />} /></IndicateurInfo>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"AJOUTER_VALEUR_INDICATEUR\") &&\r\n\t\t\t\t\t\t<AddIndicateurv reload={() => action.reload()} title={row.name} frequence={row.frequence} indicateur_id={row.id} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t//<HistoryIndicateurv reload={() => action.reload()} mesure={row?.mesure} indicateur_id={row.id} valeurs={row?.valeurs} title={\"Historique des valeurs\"} />,\r\n\t\t\t\t<Tooltip title=\"Historique des valeurs\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => history.push(\"/smi/qualite/indicateurs/\" + row.id)}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<HistoryOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_INDICATEUR\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_indicateurs/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Objectifs & indicateurs\">\r\n\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t{\r\n\t\t\t\t\thasRole(user, \"AJOUTER_INDICATEUR\") &&\r\n\t\t\t\t\t<AddIndicateur reload={() => actionRef.current.reload()} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_indicateurs\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React from 'react';\r\nimport { Line } from '@ant-design/charts';\r\nimport { indicateurCastDate } from \"utils\"\r\nexport default ({ valeurs }) => {\r\n\tconst [data, setData] = React.useState([])\r\n\tReact.useEffect(() => {\r\n\t\tconst d = valeurs?.map((v) => {\r\n\t\t\treturn {\r\n\t\t\t\tyear: indicateurCastDate(v.date),\r\n\t\t\t\tvalue: v?.valeur\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetData(d)\r\n\t}, [valeurs])\r\n\r\n\treturn <Line\r\n\t\txField='year'\r\n\t\tyField='value'\r\n\t\tpoint={{\r\n\t\t\tsize: 5,\r\n\t\t\tshape: 'diamond',\r\n\t\t}}\r\n\t\tdata={data}\r\n\t/>;\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { Gauge, Liquid, measureTextWidth } from '@ant-design/charts';\r\nimport { Card, Spin } from 'antd';\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport Text from 'antd/lib/typography/Text';\r\nimport { CaretUpOutlined, CaretDownOutlined, MinusOutlined } from \"@ant-design/icons\"\r\nexport default ({ lastValeur, beforeLastValeur, indicateur, loading }) => {\r\n\tvar config = {\r\n\t\tpercent: lastValeur?.valeur / 100,\r\n\t\trange: {\r\n\t\t\tticks: [0, 1 / 3, 2 / 3, 1],\r\n\t\t\tcolor: indicateur.indicateur_sueil == \"<\" ? ['#30BF78', '#FAAD14', '#F4664A'] : ['#F4664A', '#FAAD14', '#30BF78'],\r\n\t\t},\r\n\t\tindicator: {\r\n\t\t\tpointer: { style: { stroke: '#D0D0D0' } },\r\n\t\t\tpin: { style: { stroke: '#D0D0D0' } },\r\n\t\t},\r\n\t\tstatistic: {\r\n\t\t\tcontent: {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tfontSize: '20px',\r\n\t\t\t\t\tlineHeight: '20px',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<Card title={indicateur.name} style={{ width: 250, height: 250 }} >\r\n\t\t\t\t<Spin style={{ alignSelf: \"center\" }} />\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\tif (!lastValeur) {\r\n\t\treturn (\r\n\t\t\t<Card title={indicateur.name} style={{ width: 250, height: 250 }} >\r\n\t\t\t\tAucun valeur trouver\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<Card title={indicateur.name} style={{width: 250, height: 250, }} >\r\n\t\t\t<Gauge height={150} width={150} {...config} />\r\n\t\t\t<Card.Meta\r\n\t\t\t\ttitle={<a>{indicateurCastDate(lastValeur.date)}</a>}\r\n\t\t\t\tdescription={\r\n\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n\t\t\t\t\t\t<Text>\r\n\t\t\t\t\t\t\t{`Seuil: ${indicateur.seuil} ${indicateur.mesure}  |  ${indicateurCastTypeDate(JSON.parse(lastValeur.date).type)}`}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbeforeLastValeur &&\r\n\t\t\t\t\t\t\t<div style={{ color: (lastValeur.valeur - beforeLastValeur.valeur) >= 0 ? \"green\" : \"red\" }}>\r\n\t\t\t\t\t\t\t\t<Text style={{ color: (lastValeur.valeur - beforeLastValeur.valeur) >= 0 ? \"green\" : \"red\" }}>{Math.abs(lastValeur.valeur - beforeLastValeur.valeur)} {indicateur.mesure} </Text>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t(lastValeur.valeur - beforeLastValeur.valeur) > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<CaretUpOutlined />\r\n\t\t\t\t\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t\t\t\t\t(lastValeur.valeur - beforeLastValeur.valeur) == 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MinusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t: <CaretDownOutlined />\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t);\r\n};","import React from \"react\"\r\nimport { useAppStore } from \"stores\";\r\nimport {\r\n\tTag,\r\n\tmessage,\r\n\tPopconfirm,\r\n\tButton,\r\n\tDivider,\r\n\tStatistic,\r\n\tCard,\r\n\tRow,\r\n\tCol,\r\n\tSpin,\r\n\tTypography,\r\n\tCollapse\r\n} from \"antd\"\r\n\r\nimport {\r\n\tArrowUpOutlined,\r\n\tArrowDownOutlined\r\n} from \"@ant-design/icons\"\r\nimport IndicateursvChart from \"./components/IndicateursvChart\";\r\nimport GaugeIndicateur from \"./components/GaugeIndicateur\";\r\nimport Page from \"components/Page\";\r\n\r\nconst { Panel } = Collapse;\r\n\r\nconst Indicateur = ({ indicateur }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [loading, setLoading] = React.useState(true)\r\n\tconst [valeurs, setValeurs] = React.useState([])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tapi.get(\"smi_indicateurs/\" + indicateur.id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetValeurs(res?.data?.data?.data)\r\n\t\t\t\t//console.log(res.data.data.data)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t}, [indicateur])\r\n\r\n\tlet lastValeur = null\r\n\tif (valeurs?.length >= 1) {\r\n\t\tlastValeur = valeurs[valeurs?.length - 1]\r\n\t}\r\n\tlet beforeLastValeur = null\r\n\tif (valeurs?.length >= 2) {\r\n\t\tbeforeLastValeur = valeurs[valeurs?.length - 2]\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Page >\r\n\t\t\t<GaugeIndicateur loading={loading} beforeLastValeur={beforeLastValeur} lastValeur={lastValeur} indicateur={indicateur} />\r\n\t\t</Page>\r\n\t)\r\n}\r\n\r\nconst Processu = ({ p }) => {\r\n\treturn (\r\n\t\t<Row gutter={18}>\r\n\r\n\t\t\t{\r\n\t\t\t\tp?.indicateurs?.map((i) => (\r\n\t\t\t\t\t<Indicateur indicateur={i} />\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [processus, setProcessus] = React.useState([])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tapi.get(\"smi_processus\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProcessus(res.data.data)\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Page title=\"Tableau de board QHSE\" >\r\n\t\t\t<Collapse defaultActiveKey={['0']}>\r\n\t\t\t\t{\r\n\t\t\t\t\tprocessus.map((p, index) => (\r\n\t\t\t\t\t\t<Panel header={p.name} key={index} extra={<div><b>{p.indicateurs.length}</b> INDICATEURS</div>}>\r\n\t\t\t\t\t\t\t<Processu p={p} />\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</Collapse>\r\n\t\t</Page>\r\n\t)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tprocessus.map((p) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Processu p={p} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\"\r\n\r\n\r\nimport {\r\n\tuseRouteMatch,\r\n\tuseHistory\r\n} from \"react-router-dom\"\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined\r\n} from '@ant-design/icons';\r\nimport { Button, Tooltip, message, Popconfirm, Select, Tag } from \"antd\";\r\n\r\nimport Page from \"components/Page\"\r\n\r\nimport { useAppStore } from \"stores\"\r\nimport { Spin } from \"antd\"\r\n\r\nimport IndicateursvChart from \"./components/IndicateursvChart\"\r\nimport { indicateurCastDate, indicateurCastTypeDate, hasRole } from \"utils\"\r\n\r\nexport default () => {\r\n\tconst history = useHistory()\r\n\tconst { params } = useRouteMatch()\r\n\tconst { api, user } = useAppStore()\r\n\tconst [data, setData] = React.useState(null)\r\n\tconst [loading, setLoading] = React.useState(true)\r\n\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Date\",\r\n\t\t\tdataIndex: \"date\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn indicateurCastDate(row.date)\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valeur\",\r\n\t\t\tdataIndex: \"valeur\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Comment\",\r\n\t\t\tdataIndex: \"comment\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t//<HistoryIndicateurv reload={() => action.reload()} mesure={row?.mesure} indicateur_id={row.id} valeurs={row?.valeurs} title={\"Historique des valeurs\"} />,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_INDICATEURV\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_indicateurvs/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\r\n\treturn (\r\n\t\t<Page withBack={true} title={\"Historique des valeurs\"} >\r\n\t\t\t{data &&\r\n\t\t\t\t<div style={{ height: 120 }}>\r\n\t\t\t\t\t<IndicateursvChart valeurs={data} />\r\n\t\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<ProTable\r\n\t\t\t\t\tactionRef={actionRef}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tsearch={true}\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\tellipsis={true}\r\n\t\t\t\t\trequest={(p, sort, filters) => {\r\n\t\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\t\tp[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\t\tp[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\t\tp[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\t\tp[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn api.get(\"/smi_indicateurs/\" + params.id, { params: p }).then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(res.data.data.data)\r\n\t\t\t\t\t\t\tsetData(res.data.data.data)\r\n\t\t\t\t\t\t\treturn res.data.data\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\t\tpageSize: 5\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message, Form, Divider, Progress, Typography } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tMinusCircleOutlined,\r\n\tInfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder, renderItem } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Item from 'antd/lib/list/Item';\r\n\r\n\r\nconst Text = Typography.Text\r\nexport default ({ title, reload, indicateur_id, frequence, row }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst postData = (dataForm) => {\r\n\t\tconsole.log(dataForm)\r\n\t\tif (dataForm[\"correctives\"] && dataForm[\"correctives\"].length > 0) {\r\n\t\t\tdataForm[\"correctives\"] = dataForm[\"correctives\"].map(c => ({\r\n\t\t\t\taction: c.action,\r\n\t\t\t\techeance: c.echeance.format(\"yy-M-D\"),\r\n\t\t\t\tusers: c.users\r\n\t\t\t}))\r\n\t\t}\r\n\t\tapi.post(\"/smi_conformites/correcte/\" + row.id, dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\t//onClose();\r\n\t\t\t//reload()\r\n\t\t})\r\n\t}\r\n\tconst add = (dataForm) => {\r\n\t\tif (dataForm[\"avancement\"] == 100 && dataForm[\"date_cloture\"]) {\r\n\t\t\tif (row?.actions?.length > 0) {\r\n\t\t\t\tlet isAcs = true\r\n\t\t\t\trow?.actions.forEach(a => {\r\n\t\t\t\t\tif (a.avancement < 100) {\r\n\t\t\t\t\t\tisAcs = false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (!isAcs) {\r\n\t\t\t\t\tmessage.warn(\"Aucune NC cloturée sans realiser les AC(s) ratachées\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataForm[\"date_cloture\"] = dataForm[\"date_cloture\"].format(\"yy-M-D\")\r\n\t\t\tconsole.log(\"post data with date_cloture and avancemetn 100\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tif (!dataForm[\"date_cloture\"] && dataForm[\"avancement\"] != 100 && dataForm[\"avancement\"] != 0) {\r\n\t\t\tdataForm[\"date_cloture\"] = null\r\n\t\t\tconsole.log(\"post data with date_cloture of null\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tmessage.warn(\"Error !\")\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"TRAITEMENT DU PROBLÈME\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={\"TRAITEMENT DU PROBLÈME\"}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={\"50%\"}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Form.List\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"corrections\"\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue={row?.corrections ? JSON.parse(row?.corrections) : [\"\"]}\r\n\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidator: async (_, names) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!names || names.length < 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn Promise.reject(new Error('At least 2 passengers'));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{(fields, { add, remove }, { errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.map((field, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={index === 0 ? 'Actions correction' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={field.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger={['onChange', 'onBlur']}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: \"Veuillez saisir la correction ou supprimer ce champ.\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"Action correction\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.length > 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusCircleOutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"absolute\", right: -15, top: \"50%\", color: \"#999\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(field.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => add()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAjouter une correction\r\n              \t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.ErrorList errors={errors} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.List>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.List\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"correctives\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(fields, { add, remove }, { errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(fields.length !== 0 || row.actions.length !== 0) && renderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (row?.actions?.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider plain>{`Il ya ${row?.actions?.length} action(s) courrective(s)`}</Divider>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", backgroundColor: \"#fafafa\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 2 }}>Intitule</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>Date echeance</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>Responsables</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>Avancement</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row?.actions?.map((a) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 2 }}>{a.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>{a.date_echeance}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}>{a.users}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ border: \"1px lightgray solid\", padding: 3, flex: 1 }}><Progress steps={5} percent={a?.avancement} /></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoCircleOutlined /><Text style={{ marginLeft: 5 }} type=\"secondary\">On peut le gérer les AC dans la section Plan d'action.</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider plain>{`Nécessite une action corrective (AC)?`}</Divider>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.map((field, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={field.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={field.key} style={{ display: \"flex\", flexDirection: \"column\", border: \"1px lightgray dashed\", padding: 5, borderRadius: 3, position: \"relative\" }} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderItem(form, [], { ...field, label: \"Action proposées\", name: [field.name, \"action\"], fieldKey: [field.fieldKey, 'action'], type: \"textarea\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderItem(form, [], { ...field, label: \"Echéance\", name: [field.name, \"echeance\"], fieldKey: [field.fieldKey, 'echeance'], type: \"date\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...field,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"selectmultiple\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"Responsables\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: [field.name, \"users\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusCircleOutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"absolute\", right: -15, top: \"50%\", color: \"#999\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(field.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => add()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAjouter une action corrective (AC)\r\n              \t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.ErrorList errors={errors} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.List>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\tif (form.getFieldValue(\"correctives\")?.length !== 0 || row.actions.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\treturn renderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"render\",\r\n\t\t\t\t\t\t\t\t\t\t\trender: (form) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.form = form\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn renderItem(form, [], {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"causes\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"Analyse des causes(identification de la (des) cause(s)) si il ya AC\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"divider\",\r\n\t\t\t\t\t\t\t\ttext: \"\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"avancement\",\r\n\t\t\t\t\t\t\t\tlabel: \"Avancement\",\r\n\t\t\t\t\t\t\t\ttype: \"progress\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date_cloture\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date cloture\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tdate_cloture: row?.date_cloture ? moment(row?.date_cloture) : null,\r\n\t\t\t\t\t\t\tavancement: row?.avancement,\r\n\t\t\t\t\t\t\tcauses: row?.causes\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React from \"react\"\r\nimport {\r\n\tPopover,\r\n\tTypography,\r\n\tSpace,\r\n\tDescriptions\r\n} from \"antd\"\r\n\r\nconst Text = Typography.Text\r\nexport default ({ nonconformite, children }) => {\r\n\treturn (\r\n\t\t<Popover placement=\"topRight\" content={\r\n\t\t\t<Descriptions  bordered>\r\n\t\t\t\t{[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Description\",\r\n\t\t\t\t\t\tdescription: nonconformite.description\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"Domaine\",\r\n\t\t\t\t\t\tdescription: nonconformite.domaine\r\n\t\t\t\t\t}\r\n\t\t\t\t].map((i) => (\r\n\t\t\t\t\t<Descriptions.Item span={3} label={i.title}>{i.description}</Descriptions.Item>\r\n\t\t\t\t))}\r\n\t\t\t</Descriptions>\r\n\r\n\t\t}\r\n\t\t trigger=\"click\"\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Popover>\r\n\t)\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Select, Tag, Progress } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tInfoOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\nimport AddIndicateur from \"./components/AddIndicateur\";\r\nimport AddIndicateurv from \"./components/AddIndicateurv\";\r\nimport HistoryIndicateurv from \"./components/HistoryIndicateurv\";\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport AddNonConformite from \"./components/AddNonConformite\";\r\nimport EditNonConformite from \"./components/EditNonConformite\";\r\nimport NonConformiteInfo from \"./components/NonConformiteInfo\";\r\nconst months = [\r\n\t\"JAN\",\r\n\t\"FEV\",\r\n\t\"MAR\",\r\n\t\"AVR\",\r\n\t\"MAI\",\r\n\t\"JUN\",\r\n\t\"JUI\",\r\n\t\"AOUT\",\r\n\t\"SEP\",\r\n\t\"OCT\",\r\n\t\"NOV\",\r\n\t\"DEC\"\r\n]\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\thideInSearch: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"intitulé\",\r\n\t\t\tdataIndex: \"name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Nature de la non-conformité\",\r\n\t\t\tdataIndex: \"nature\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Libellé de la nature\",\r\n\t\t\tdataIndex: \"nature_label\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: \"description\",\r\n\t\t\tdataIndex: \"Description\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.objectif?.name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date non-conformité\",\r\n\t\t\tdataIndex: \"date\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.processu?.slog\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Avancement\",\r\n\t\t\tdataIndex: \"avancement\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn <Progress steps={5} percent={row?.avancement} />\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row?.createdby?.username\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<NonConformiteInfo nonconformite={row} ><Button shape=\"circle\" icon={<InfoOutlined />} /></NonConformiteInfo>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"EDIT_NON_CONFORMITE\") &&\r\n\t\t\t\t\t\t<EditNonConformite reload={() => action.reload()} title={row.name} frequence={row.frequence} indicateur_id={row.id} row={row} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_INDICATEUR\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_conformites/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"Liste des non-conformités\">\r\n\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t{\r\n\t\t\t\t\thasRole(user, \"AJOUTER_INDICATEUR\") &&\r\n\t\t\t\t\t<AddNonConformite reload={() => actionRef.current.reload()} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_conformites\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message, Form, Divider, Progress, Typography } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tMinusCircleOutlined,\r\n\tInfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder, renderItem } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\n\r\nconst Text = Typography.Text\r\nexport default ({ title, reload, indicateur_id, frequence, row }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst postData = (dataForm) => {\r\n\r\n\t\tapi.post(\"/smi_actions/correcte/\" + row.id, dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\t//onClose();\r\n\t\t\t//reload()\r\n\t\t})\r\n\t}\r\n\tconst add = (dataForm) => {\r\n\t\tif (dataForm[\"avancement\"] == 100 && dataForm[\"date_cloture\"]) {\r\n\t\t\tdataForm[\"date_cloture\"] = dataForm[\"date_cloture\"].format(\"yy-M-D\")\r\n\t\t\tconsole.log(\"post data with date_cloture and avancemetn 100\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tif (!dataForm[\"date_cloture\"] && dataForm[\"avancement\"] != 100 && dataForm[\"avancement\"] != 0) {\r\n\t\t\tdataForm[\"date_cloture\"] = null\r\n\t\t\tconsole.log(\"post data with date_cloture of null\")\r\n\t\t\treturn postData(dataForm)\r\n\t\t}\r\n\t\tmessage.warn(\"Error !\")\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"TRAITEMENT ACTION\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />}\r\n\t\t\t\t/>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={\"TRAITEMENT ACTION\"}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={\"50%\"}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"avancement\",\r\n\t\t\t\t\t\t\t\tlabel: \"Avancement\",\r\n\t\t\t\t\t\t\t\ttype: \"progress\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"date_cloture\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date cloture\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"observation\",\r\n\t\t\t\t\t\t\t\tlabel: \"Observation\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"state\",\r\n\t\t\t\t\t\t\t\tlabel: \"Etat de action\",\r\n\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\tselects: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlabel: \"Anullée\", value: \"Anullée\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\tdate_cloture: row?.date_cloture ? moment(row?.date_cloture) : null,\r\n\t\t\t\t\t\t\tavancement: row?.avancement,\r\n\t\t\t\t\t\t\tobservation: row?.observation\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Drawer, Button, Tooltip, message, Form, Divider, Progress, Select, Typography } from 'antd';\r\nimport { GiGps } from \"react-icons/gi\";\r\nimport * as moment from \"moment\"\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tMinusCircleOutlined,\r\n\tInfoCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { FormBuilder, renderItem } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useAppStore } from \"stores\";\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\n\r\nconst Text = Typography.Text\r\nexport default ({ title, reload, indicateur_id, frequence, row }) => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\treload()\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\r\n\t}, [visible])\r\n\r\n\tconst postData = (dataForm) => {\r\n\r\n\t\tapi.post(\"/smi_actions/\", dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\tonClose();\r\n\t\t\treload()\r\n\t\t})\r\n\t}\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"echeance\"] = dataForm[\"echeance\"] ? dataForm[\"echeance\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\treturn postData(dataForm)\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Tooltip title=\"AJOUTER ACTION\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t>Ajouter</Button>\r\n\t\t\t</Tooltip>\r\n\t\t\t{\r\n\t\t\t\tvisible &&\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={\"AJOUTER ACTION\"}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tclosable={false}\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\twidth={\"50%\"}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<FormBuilder\r\n\t\t\t\t\t\tfull\r\n\t\t\t\t\t\tformItems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"processu_id\",\r\n\t\t\t\t\t\t\t\toptionLabelProp: \"slog\",\r\n\t\t\t\t\t\t\t\tlabel: \"Processus\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_processus/search\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"processu\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.slog\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"action\",\r\n\t\t\t\t\t\t\t\tlabel: \"Intitulé\",\r\n\t\t\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"conformite_id\",\r\n\t\t\t\t\t\t\t\tlabel: \"Non-conformité (AC)\",\r\n\t\t\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\t\t\turl: \"smi_conformites/search\",\r\n\t\t\t\t\t\t\t\tdefaultOptionName: \"conformite\",\r\n\t\t\t\t\t\t\t\tmapOptionToString: c => c?.name\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: \"echeance\",\r\n\t\t\t\t\t\t\t\tlabel: \"Date echeance\",\r\n\t\t\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"selectmultiple\",\r\n\t\t\t\t\t\t\t\tname: \"users\",\r\n\t\t\t\t\t\t\t\tlabel: \"Responsables\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\techeance: row?.date_cloture ? moment(row?.date_cloture) : null,\r\n\t\t\t\t\t\t\tavancement: row?.avancement,\r\n\t\t\t\t\t\t\tobservation: row?.observation\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFinish={add}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Drawer>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, Progress, Tag, Typography } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined,\r\n\tPlusOutlined,\r\n\tInfoOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport AddObjetif from \"./components/AddObjetif\";\r\nimport AddIndicateur from \"./components/AddIndicateur\";\r\nimport AddIndicateurv from \"./components/AddIndicateurv\";\r\nimport HistoryIndicateurv from \"./components/HistoryIndicateurv\";\r\nimport { indicateurCastDate, indicateurCastTypeDate } from \"utils\"\r\nimport IndicateurInfo from \"./components/IndicateurInfo\";\r\nimport EditAction from \"./components/EditAction\";\r\nimport AddAction from \"./components/AddAction\";\r\nconst months = [\r\n\t\"JAN\",\r\n\t\"FEV\",\r\n\t\"MAR\",\r\n\t\"AVR\",\r\n\t\"MAI\",\r\n\t\"JUN\",\r\n\t\"JUI\",\r\n\t\"AOUT\",\r\n\t\"SEP\",\r\n\t\"OCT\",\r\n\t\"NOV\",\r\n\t\"DEC\"\r\n]\r\n\r\nexport default () => {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"ID\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\thideInSearch: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Intitulé\",\r\n\t\t\tdataIndex: \"actions_name\",\r\n\t\t\tcopyable: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Processus\",\r\n\t\t\tdataIndex: \"processus_slog\",\r\n\t\t\thideInSearch: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Type\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row.conformites_name ?\r\n\t\t\t\t\t<Tooltip title={\"NC: \" + row?.conformites_name}>\r\n\t\t\t\t\t\t<Tag color=\"blue\">AC</Tag>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Tag color=\"green\">AA</Tag>\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date echeance\",\r\n\t\t\tdataIndex: \"actions_date_echeance\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Responsables\",\r\n\t\t\tdataIndex: \"actions_users\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn JSON.parse(row?.actions_users)?.map((a, i) => (\r\n\t\t\t\t\t<Tag>{a}</Tag>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Avancement\",\r\n\t\t\tdataIndex: \"actions_avancement\",\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn <Progress steps={5} percent={row?.actions_avancement} />\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdbys_username\",\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Accepter par\",\r\n\t\t\tdataIndex: \"acceptedbys_username\",\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SMI_EDIT_ACTION\") &&\r\n\t\t\t\t\t\t<EditAction row={row} reload={() => action.reload()} title={row.name} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SMI_VALIDER_ACTION\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Elle est efficase?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_actions/accepte/\" + row.id).then(() => { message.info(\"Bien ajouter\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<FaCheck />} />\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SMI_SUPPRIMER_ACTION\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/smi_actions/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Supprimer\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title=\"AC & AA\">\r\n\t\t\t<div style={{ marginBottom: 15 }}>\r\n\t\t\t\t{\r\n\t\t\t\t\thasRole(user, \"AJOUTER_INDICATEUR\") &&\r\n\t\t\t\t\t<AddAction reload={() => actionRef.current.reload()} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn api.get(\"/smi_actions\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React from \"react\"\r\nimport { Menu } from 'antd';\r\nimport { MailOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\r\n\r\nimport { useHistory, Route } from \"react-router-dom\"\r\nimport Axes from \"./qualite/Axes\";\r\nimport ObjectifsOperationnels from \"./qualite/ObjectifsOperationnels\";\r\nimport Processus from \"./qualite/Processus\";\r\nimport Indicateurs from \"./qualite/Indicateurs\";\r\nimport { _hasRole } from \"utils\";\r\nimport Dashboard from \"./qualite/Dashboard\";\r\nimport IndicateursHistory from \"./qualite/IndicateursHistory\";\r\nimport NonConformite from \"./qualite/NonConformite\";\r\nimport Actions from \"./qualite/Actions\";\r\nconst { SubMenu } = Menu;\r\n\r\nexport default () => {\r\n\tconst history = useHistory()\r\n\tconst [current, setCurrent] = React.useState(\"mail\")\r\n\r\n\r\n\tconst handleClick = e => {\r\n\t\tsetCurrent(e.key)\r\n\t\thistory.push(\"/smi/qualite/\" + e.key)\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\"\r\n\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\tzIndex: 10,\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tboxShadow: \"0 1px 4px rgba(0,21,41,.08)\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<SubMenu key=\"annuaire\" title=\"Annuaire\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_hasRole(\"SMI_AXES\") &&\r\n\t\t\t\t\t\t<Menu.Item key=\"axes_strategiques\">Les axes stratégiques</Menu.Item>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{_hasRole(\"SMI_OBJECTIFS_OP\") && <Menu.Item key=\"objectifs_operationnel\">Les objectifs opérationnels</Menu.Item>}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_hasRole(\"SMI_PROCESSUS\") &&\r\n\t\t\t\t\t\t<Menu.Item key=\"processus\">Les processus</Menu.Item>\r\n\t\t\t\t\t}\r\n\t\t\t\t</SubMenu>\r\n\t\t\t\t<SubMenu key=\"pilotage\" title=\"Pilotage\">\r\n\t\t\t\t\t{_hasRole(\"SMI_DASHBOARD\") && <Menu.Item key=\"dashboard\">Tableau de bord</Menu.Item>}\r\n\t\t\t\t\t{_hasRole(\"SMI_INDICATEURS\") && <Menu.Item key=\"indicateurs\">Indicateurs & valeurs</Menu.Item>}\r\n\t\t\t\t\t{_hasRole(\"RMA\") && <Menu.Item key=\"rma\">RMA</Menu.Item>}\r\n\t\t\t\t</SubMenu>\r\n\t\t\t\t<SubMenu key=\"amelioration\" title=\"Amélioration\">\r\n\t\t\t\t\t<Menu.Item key=\"plans_actions\">Plan d'actions</Menu.Item>\r\n\t\t\t\t\t<Menu.Item key=\"non_conformites\">Non-conformités</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t\t<SubMenu key=\"documentation\" title=\"Documentation\">\r\n\t\t\t\t\t<Menu.Item key=\"documentation_vigueur\">Documentation en vigueur</Menu.Item>\r\n\t\t\t\t\t<Menu.Item key=\"gestion_documentaire\">Gestion documentaire</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t</Menu>\r\n\t\t\t<div style={{ paddingTop: 50 }}>\r\n\t\t\t\t<Route path=\"/smi/qualite/axes_strategiques\" >\r\n\t\t\t\t\t<Axes />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/smi/qualite/objectifs_operationnel\" >\r\n\t\t\t\t\t<ObjectifsOperationnels />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/smi/qualite/processus\" >\r\n\t\t\t\t\t<Processus />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path=\"/smi/qualite/indicateurs\" >\r\n\t\t\t\t\t<Indicateurs />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path=\"/smi/qualite/indicateurs/:id\" >\r\n\t\t\t\t\t<IndicateursHistory />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"/smi/qualite/dashboard\" >\r\n\t\t\t\t\t<Dashboard />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t//Non Conformité\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<Route exact path=\"/smi/qualite/non_conformites\" >\r\n\t\t\t\t\t<NonConformite />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path=\"/smi/qualite/plans_actions\" >\r\n\t\t\t\t\t<Actions />\r\n\t\t\t\t</Route>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}","import {\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  LaptopOutlined,\r\n  NotificationOutlined,\r\n  DashboardOutlined,\r\n\tApartmentOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { FaCarAlt, FaBell, FaUserFriends, FaClipboardList } from \"react-icons/fa\";\r\nimport { RiSteeringFill } from \"react-icons/ri\";\r\nimport { GiPathDistance, GiSteeringWheel } from \"react-icons/gi\";\r\n\r\nimport Dashboard from \"pages/Dashboard\"\r\n\r\nimport ListUsers from \"pages/Users/List\"\r\nimport AddUser from \"pages/Users/Add\"\r\nimport EditUser from \"pages/Users/Edit\"\r\n\r\nimport ListCars from \"pages/Cars/List\"\r\nimport AddCars from \"pages/Cars/Add\"\r\nimport EditCars from \"pages/Cars/Edit\"\r\n\r\nimport ListDrivers from \"pages/Drivers/List\"\r\nimport AddDriver from \"pages/Drivers/Add\"\r\nimport EditDriver from \"pages/Drivers/Edit\"\r\n\r\nimport ListClients from \"pages/Clients/List\"\r\nimport AddClient from \"pages/Clients/Add\"\r\nimport EditClient from \"pages/Clients/Edit\"\r\n\r\nimport AddDecharge from \"pages/Decharges/Add\"\r\nimport ListDecharges from \"pages/Decharges/List\"\r\nimport ShowDecharge from \"pages/Decharges/Show\"\r\nimport EditDecharge from \"pages/Decharges/Edit\"\r\nimport RestititionDecharge from \"pages/Decharges/RestititionDecharge\"\r\nimport DechargeHistory from \"pages/Decharges/DechargeHistory\"\r\nimport ChecklistDecharge from \"pages/Decharges/ChecklistDecharge\"\r\n\r\nimport UserCars from 'pages/Users/UserCars';\r\nimport ListeDechargeRestititions from 'pages/Decharges/ListeDechargeRestititions';\r\nimport CarDecharges from 'pages/Cars/CarDecharges';\r\nimport ListCarsState from 'pages/Cars/ListCarsState';\r\nimport AddCarState from 'pages/Cars/AddCarState';\r\nimport GroupCar from 'pages/Cars/GroupCar';\r\n\r\n\r\nimport AddVLMission from \"pages/Missions/AddVL\"\r\nimport ListRoles from 'pages/Users/ListRoles';\r\nimport AddRole from 'pages/Users/AddRole';\r\nimport UsersRoles from \"pages/Users/UsersRoles\"\r\nimport CamionRemorque from 'pages/Cars/CamionRemorque';\r\n\r\nimport ListPeremptions from 'pages/Peremptions/List';\r\nimport AddPeremptions from 'pages/Peremptions/Add';\r\nimport EditPeremptions from 'pages/Peremptions/Edit';\r\nimport ListAlertsPeremptions from 'pages/Peremptions/ListAlerts';\r\nimport ChangeCarState from 'pages/Cars/ChangeCarState';\r\nimport EditCarState from 'pages/Cars/EditCarState';\r\nimport Notifications from 'pages/Users/Notifications';\r\nimport ListVL from 'pages/Missions/ListVL';\r\nimport ListMiseDispositionVL from 'pages/Clients/ListMiseDispositionVL';\r\nimport ShowVL from \"pages/Missions/ShowVL\"\r\nimport EditVL from 'pages/Missions/EditVL';\r\nimport SMIQualite from 'pages/QHSE/SMIQualite';\r\nimport Axes from 'pages/QHSE/qualite/Axes';\r\n\r\nexport default {\r\n  appName: \"GPark v1.0.0\",\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'dashboard',\r\n      label: \"Tableau de bord\",\r\n      role: \"DASHBOARD\",\r\n      component: Dashboard,\r\n      icon: <DashboardOutlined />,\r\n      authority: [\"dashboard\"],\r\n      hideInSide: true,\r\n      exact: true\r\n    },\r\n    {\r\n      path: '/dashboard',\r\n      name: 'dashboard',\r\n      label: \"Tableau de bord\",\r\n      role: \"DASHBOARD\",\r\n      component: Dashboard,\r\n      icon: <DashboardOutlined />,\r\n      authority: [\"dashboard\"],\r\n    },\r\n    {\r\n      path: '/notifications',\r\n      name: 'Notifications',\r\n      label: \"Notifications\",\r\n      component: Notifications,\r\n      icon: <DashboardOutlined />,\r\n      authority: [\"dashboard\"],\r\n      hideInSide: true,\r\n    },\r\n    // users \r\n    {\r\n      name: 'users',\r\n      label: \"Utilisateurs\",\r\n      icon: <UserOutlined />,\r\n      role: \"UTILISATEURS\",\r\n      routes: [\r\n        {\r\n          path: '/users/add',\r\n          name: 'add-user',\r\n          label: 'Ajouter utilisateur',\r\n          component: AddUser,\r\n        },\r\n        {\r\n          path: '/users',\r\n          name: 'list-users',\r\n          label: 'Liste des utilisateurs',\r\n          component: ListUsers,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/users/edit/:id',\r\n          name: 'edit-user',\r\n          label: \"Modifier l'utilisateur\",\r\n          component: EditUser,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/users/cars',\r\n          name: 'user-cars-users',\r\n          label: 'utilisateurs <> véhicules',\r\n          component: UserCars,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/roles/add',\r\n          name: 'add-roles',\r\n          label: 'Ajouter role',\r\n          component: AddRole,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/roles',\r\n          name: 'list-roles',\r\n          label: 'Liste des roles',\r\n          component: ListRoles,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/users/roles',\r\n          name: 'users-roles',\r\n          label: 'Utilisateurs <> Roles',\r\n          component: UsersRoles,\r\n          exact: true\r\n        },\r\n      ]\r\n    },\r\n    // cars\r\n    {\r\n      name: 'cars',\r\n      label: \"Véhicules\",\r\n      role: \"LISTE_VEHICULES\",\r\n      icon: <FaCarAlt style={{ marginRight: 10 }} />,\r\n      routes: [\r\n        {\r\n          path: '/cars/add',\r\n          name: 'add-cars',\r\n          label: 'Ajouter véhicule',\r\n          role: \"AJOUTER_VEHICULE\",\r\n          component: AddCars,\r\n        },\r\n        {\r\n          path: '/cars',\r\n          name: 'list-cars',\r\n          label: 'Liste des véhicules',\r\n          component: ListCars,\r\n          role: \"LISTE_VEHICULES\",\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/cars/groups',\r\n          name: 'groups-cars',\r\n          label: 'Groupes <> vehicules',\r\n          component: GroupCar,\r\n          role: \"VEHICULES_GROUPES\",\r\n        },\r\n        {\r\n          path: '/cars_state',\r\n          name: 'status-cars',\r\n          label: 'véhicules > Status',\r\n          component: ListCarsState,\r\n          role: \"STATUS_VEHICULES\",\r\n          exact: true\r\n\r\n        },\r\n        {\r\n          path: '/cars_state/add',\r\n          name: 'add-status-cars',\r\n          label: 'Ajouter status',\r\n          role: \"MODIFIER_STATUS_VEHICULE\",\r\n          component: AddCarState,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/cars_state/edit/:id',\r\n          name: 'edit-status-cars',\r\n          label: 'Modifier status d\\'une véhicule',\r\n          role: \"MODIFIER_STATUS_VEHICULE\",\r\n          component: EditCarState,\r\n          hideInSide: true,\r\n        },\r\n        {\r\n          path: '/cars/stats/edit/:id',\r\n          name: 'edit-car-state',\r\n          label: 'Modifier Status véhicule',\r\n          role: \"MODIFIER_STATUS_VEHICULE\",\r\n          component: ChangeCarState,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/cars/edit/:id',\r\n          name: 'edit-cars',\r\n          label: 'Modifier véhicule',\r\n          role: \"MODIFIER_VEHICULE\",\r\n          component: EditCars,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/cars/decharges/:car_id',\r\n          name: 'decharges-car',\r\n          label: 'Decharge',\r\n          component: CarDecharges,\r\n          hideInSide: true\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      name: \"peremptions\",\r\n      label: \"Péremptions\",\r\n      icon: <FaBell style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_PEREMPTIONS\",\r\n      routes: [\r\n        {\r\n          path: '/peremptions/add',\r\n          name: 'add-peremption',\r\n          label: 'Ajouter péremption',\r\n          role: \"AJOUTER_PEREMPTIONS\",\r\n          component: AddPeremptions,\r\n        },\r\n        {\r\n          path: '/peremptions/',\r\n          name: 'list-peremptions',\r\n          label: 'Liste péremptions',\r\n          role: \"LISTE_PEREMPTIONS\",\r\n          component: ListPeremptions,\r\n        },\r\n\r\n        {\r\n          path: '/peremptions/edit/:id',\r\n          name: 'edit-peremption',\r\n          label: \"Modifier péremption\",\r\n          role: \"MODIFIER_PEREMPTIONS\",\r\n          component: EditPeremptions,\r\n          hideInSide: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'drivers',\r\n      label: \"Conducteurs\",\r\n      icon: <GiSteeringWheel style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_CONDUCTEURS\",\r\n      routes: [\r\n        {\r\n          path: '/drivers/add',\r\n          name: 'add-driver',\r\n          label: 'Ajouter conducteur',\r\n          role: \"AJOUTER_CONDUCTEUR\",\r\n          component: AddDriver,\r\n        },\r\n        {\r\n          path: '/drivers',\r\n          name: 'list-drivers',\r\n          label: 'Liste des conducteurs',\r\n          role: \"LISTE_CONDUCTEURS\",\r\n          component: ListDrivers,\r\n          exact: true\r\n        },\r\n\r\n        {\r\n          path: '/drivers/edit/:id',\r\n          name: 'edit-driver',\r\n          label: \"Modifier conducteur\",\r\n          role: \"MODIFIER_CONDUCTEUR\",\r\n          component: EditDriver,\r\n          hideInSide: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'clients',\r\n      label: \"Clients\",\r\n      icon: <FaUserFriends style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_CLIENTS\",\r\n      routes: [\r\n        {\r\n          path: '/clients/add',\r\n          name: 'add-client',\r\n          label: 'Ajouter client',\r\n          role: \"AJOUTER_CLIENT\",\r\n          component: AddClient,\r\n        },\r\n        {\r\n          path: '/clients',\r\n          name: 'list-clients',\r\n          label: 'Liste des clients',\r\n          role: \"LISTE_CLIENTS\",\r\n          component: ListClients,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/mise_disposition_vl',\r\n          name: 'list-mise-a-disposition-vl',\r\n          label: 'Mise à disposition VL',\r\n          role: \"LISTE_MISE_DISPOSITION_VL\",\r\n          component: ListMiseDispositionVL,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/clients/edit/:id',\r\n          name: 'edit-client',\r\n          label: \"Modifier client\",\r\n          role: \"MODIFIER_CLIENT\",\r\n          component: EditClient,\r\n          hideInSide: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'decharges',\r\n      label: \"Decharges\",\r\n      icon: <FaClipboardList style={{ marginRight: 10 }} />,\r\n      role: \"LISTE_DECHARGES\",\r\n      routes: [\r\n        {\r\n          path: '/decharges/add',\r\n          name: 'add-decharge',\r\n          label: 'Ajouter decharge',\r\n          component: AddDecharge,\r\n          role: \"AJOUTER_DECHARGE\",\r\n        },\r\n        {\r\n          path: '/decharges',\r\n          name: 'list-decharges',\r\n          label: 'Etat décharges',\r\n          component: ListDecharges,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/decharges/show/:id',\r\n          name: 'show-decharge',\r\n          label: \"Affiche decharge\",\r\n          component: ShowDecharge,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/edit/:id',\r\n          name: 'edit-decharge',\r\n          label: \"Modifier décharge\",\r\n          component: EditDecharge,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/restitition/:id',\r\n          name: 'restitition-decharge',\r\n          label: \"Restitution decharge\",\r\n          component: RestititionDecharge,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/restititions',\r\n          name: 'restititions-decharge',\r\n          label: \"Décharges restituer\",\r\n          role: \"LISTE_DECHARGES_RESTITUER\",\r\n          component: ListeDechargeRestititions,\r\n        },\r\n        {\r\n          path: '/decharges/history/:car_id',\r\n          name: 'history-decharge',\r\n          label: \"History decharge\",\r\n          component: DechargeHistory,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/decharges/checklist/:id',\r\n          name: 'add-checklist-decharge',\r\n          label: \"Checklist decharge\",\r\n          component: ChecklistDecharge,\r\n          hideInSide: true\r\n        },\r\n      ]\r\n    },\r\n\r\n    {\r\n      name: 'missions',\r\n      label: \"Missions\",\r\n      role: \"LISTE_MISSIONS_VL\",\r\n      icon: <GiPathDistance style={{ marginRight: 10 }} />,\r\n      routes: [\r\n        {\r\n          path: '/missions_vl/add',\r\n          name: 'add-mission-vl',\r\n          label: 'Ajouter mission VL',\r\n          role: \"AJOUTER_MISSION_VL\",\r\n          component: AddVLMission,\r\n        },\r\n\t\t\t\t{\r\n          path: '/missions_vl/edit/:id',\r\n          name: 'edit-missions-vl',\r\n          label: \"Modifier mission\",\r\n          role: \"MODIFIER_MISSION_VL\",\r\n          component: EditVL,\r\n          hideInSide: true\r\n        },\r\n        {\r\n          path: '/missions_vl',\r\n          name: 'list-missions-vl',\r\n          role: \"LISTE_MISSIONS_VL\",\r\n          label: 'List missions VL',\r\n          component: ListVL,\r\n          exact: true\r\n        },\r\n        {\r\n          path: '/missions_vl/show/:id',\r\n          name: 'show-missions-vl',\r\n         // role: \"LISTE_MISSIONS_VL\",\r\n          label: 'Show missions VL',\r\n          component: ShowVL,\r\n          hideInSide: true\r\n        },\r\n      ]\r\n    },\r\n\t\t{\r\n      name: 'smi',\r\n      label: \"SMI\",\r\n      role: \"SMI\",\r\n      icon: <ApartmentOutlined style={{ marginRight: 10 }} />,\r\n      routes: [\r\n        {\r\n          path: '/smi/qualite',\r\n          name: 'qualite',\r\n          label: 'Portail Qualité',\r\n          role: \"SMI_QUALITE\",\r\n          component: SMIQualite,\r\n        }\r\n      ]\r\n    },\r\n\r\n  ]\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { hasRole } from \"utils\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"title\",\r\n      sorter: true,\r\n      render: (text, row, index, action) => {\r\n        return row.title + \" | \" + row.sub_title\r\n      }\r\n    },\r\n    {\r\n      title: \"Date Creéation\",\r\n      dataIndex: \"created_at\",\r\n      valueType: \"dateTime\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"<>\",\r\n      dataIndex: \"is_read\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n      render: (text, row, index, action) => {\r\n        return row.is_read ? \"DEJA VU\" : \"Non vu\"\r\n      }\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Button\r\n          onClick={() => {\r\n            api.post(\"/notifications/\" + row.id).then(() => {\r\n              history.push(row.url)\r\n            })\r\n          }}\r\n          shape=\"circle\" icon={<EyeOutlined />}\r\n        />\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Notifications\" selectedSiderKey=\"list-notifiactions\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/notifications\", { params }).then((res) => res.data)\r\n        }}\r\n\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n\r\n  const add = (data) => {\r\n    api.post(\"/auth/users\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau Utilisateur\"  selectedSiderKey=\"add-users\">\r\n      <FormBuilder formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Nom d'utilisateur\",\r\n      dataIndex: \"username\",\r\n      copyable: true,\r\n      filters: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Nom\",\r\n      dataIndex: \"firstname\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Prénom\",\r\n      dataIndex: \"lastname\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Poste\",\r\n      dataIndex: \"poste\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"mail\",\r\n      valueType: \"email\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Creéation\",\r\n      dataIndex: \"created_at\",\r\n      valueType: \"dateTime\",\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Tel\",\r\n      dataIndex: \"tel\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <a\r\n          onClick={() => {\r\n            api.post(\"auth/users/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n          }}\r\n        >\r\n          Supprimer\r\n      </a>,\r\n        <a\r\n          onClick={() => {\r\n            history.push(\"/users/edit/\" + row.id)\r\n          }}\r\n        >\r\n          Modifier\r\n      </a>\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Utilisateurs\" selectedSiderKey=\"list-users\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filter) => {\r\n          console.log(sort)\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          return api.get(\"/auth/users\", { params, sort }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n\r\n  const edit = (data) => {\r\n    api.put(\"/auth/users/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/auth/users/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie l'utilisateur\" selectedSiderKey=\"list-users\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Button, message, Transfer, Form, Skeleton } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\nimport SearchInput from \"components/SearchInput\";\r\nimport { groupBy } from \"lodash\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const [cars, setCars] = useState([])\r\n  const [data, setData] = useState({\r\n    user_id: null,\r\n    cars_id: [],\r\n    loadingCars: true,\r\n    loadingUserCars: false,\r\n    carGroupe: \"vh\"\r\n  })\r\n  const [selectedKeys, setSelectedKey] = useState([])\r\n  window.data = data\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 12 },\r\n    },\r\n  };\r\n  const formTailLayout = {\r\n  };\r\n\r\n  const affecte = () => {\r\n    if (data.user_id && data.cars_id) {\r\n      api.post(\"/auth/users/cars\", {\r\n        user_id: data.user_id,\r\n        cars_id: data.cars_id\r\n      }).then((res) => {\r\n        message.info(\"Bien ajouter\")\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data.user_id) {\r\n      setData({ ...data, loadingUserCars: true })\r\n      api.get(\"auth/users/cars/\" + data.user_id).then((res) => {\r\n        const cars_id = res.data.data.map(c => c.id)\r\n        setData({ ...data, cars_id, loadingUserCars: false })\r\n      })\r\n    }\r\n  }, [data.user_id])\r\n\r\n  useEffect(() => {\r\n    api.get(\"allcars\").then((res) => {\r\n      const _cars = res.data.data.map(car => ({ ...car, id: Number.parseInt(car.id) }))\r\n      setData({ ...data, loadingCars: false })\r\n      setCars(_cars)\r\n    })\r\n  }, [data.carGroupe])\r\n\r\n\r\n\r\n  const handleChange = (nextTargetKeys, direction, moveKeys) => {\r\n    setData({ ...data, cars_id: nextTargetKeys })\r\n  };\r\n\r\n  const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n    setSelectedKey([...sourceSelectedKeys, ...targetSelectedKeys])\r\n  };\r\n\r\n\r\n  return (\r\n    <Page title=\"Affecté des vehicules au utilisateur\" selectedSiderKey=\"user-cars-users\">\r\n      <Form\r\n        {...formItemLayout}\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        onFinish={affecte}\r\n      >\r\n\r\n        <Form.Item label={\"Utilisateur\"} name={\"user_id\"}>\r\n          <SearchInput\r\n            url=\"auth/users/search\"\r\n            style={{ width: 200 }}\r\n            mapOptionToString={c => c.firstname + \" \" + c.lastname}\r\n            onSelect={(value, option) => {\r\n              setData({ ...data, user_id: option.id })\r\n            }}\r\n            onChange={(value, option) => {\r\n              if (option) {\r\n                setData({ ...data, user_id: option.id })\r\n              } else {\r\n                setData({ ...data, user_id: null })\r\n              }\r\n            }}\r\n            placeholder=\"Rechercher ...\"\r\n          />\r\n        </Form.Item>\r\n\r\n        {\r\n          (data.loadingCars || data.loadingUserCars) &&\r\n          <Skeleton />\r\n        }\r\n\r\n        {!(data.loadingCars || data.loadingUserCars) && data.user_id &&\r\n          < Form.Item label={\"Véhicules affecté\"} name={\"carsId\"}>\r\n            <Transfer\r\n              rowKey={record => record.id}\r\n              showSearch={true}\r\n              dataSource={cars}\r\n              titles={['Tout', 'Affecté']}\r\n              targetKeys={data.cars_id}\r\n              selectedKeys={selectedKeys}\r\n              onChange={handleChange}\r\n              onSelectChange={handleSelectChange}\r\n              render={item => item.code_gps + \" | \" + item.matricule}\r\n              style={{ marginBottom: 16 }}\r\n              listStyle={{\r\n                width: 250,\r\n                height: 300,\r\n              }}\r\n              disabled={false}\r\n            />\r\n          </Form.Item>\r\n        }\r\n\r\n\r\n        <Form.Item {...formTailLayout} >\r\n          <Button type=\"primary\" onClick={affecte}>\r\n            Envoyer\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Page >\r\n  )\r\n}","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { roleFormItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom\";\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const add = (data) => {\r\n    data[\"name\"] = data[\"name\"].toUpperCase()\r\n    api.post(\"/roles\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/roles\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau Role\">\r\n      <FormBuilder formItems={roleFormItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"designantion\",\r\n      dataIndex: \"name\",\r\n      copyable: true,\r\n      filters: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <a\r\n          onClick={() => {\r\n            api.post(\"roles/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n          }}\r\n        >\r\n          Supprimer\r\n      </a>\r\n      ]\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Page title=\"Roles\" >\r\n      <ProTable\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filter) => {\r\n          console.log(sort)\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          return api.get(\"roles\", { params, sort }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { Form, Input, Button, Checkbox, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _prop, _messages, _carGenre, _marque } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n\r\n  const add = (data) => {\r\n    api.post(\"/cars\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau véhicule\" selectedSiderKey=\"add-cars\">\r\n      <FormBuilder formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Popconfirm, Tooltip } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaInfo, FaPaintBrush } from \"react-icons/fa\"\r\n\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"matricule\",\r\n      dataIndex: \"matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"code_gps\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"name\",\r\n      hideInSearch: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Observation\",\r\n      dataIndex: \"observation\",\r\n      hideInSearch: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Date status\",\r\n      dataIndex: \"state_date\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"createdby\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Popconfirm\r\n          title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n          onConfirm={() => {\r\n            api.post(\"/cars_state/delete/\" + row.id).then(() => {\r\n              message.info(\"Bien Supprimé\");\r\n              action.reload();\r\n            })\r\n          }}\r\n          onCancel={() => { }}\r\n          okText=\"Oui\"\r\n          cancelText=\"No\"\r\n        >\r\n          <Button\r\n            shape=\"circle\" icon={<DeleteOutlined />} />\r\n        </Popconfirm>,\r\n        <>\r\n          {\r\n            hasRole(user, \"MODIFIER_STATUS_VEHICULE\") &&\r\n            <Tooltip title=\"Modifier status véhicule\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/cars_state/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title={\"Status des véhicules\"} selectedSiderKey=\"list-cars\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/cars_state\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { Form, Input, Button, Checkbox, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _prop, _messages, _carGenre, _marque } from \"_consts\";\r\n\r\nimport { formItemsCarState } from \"./columns\"\r\nimport {useHistory} from \"react-router-dom\"\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const add = (data) => {\r\n    data[\"state_date\"] = data[\"state_date\"] ? data[\"state_date\"].format(\"YYYY-MM-DD HH:mm:ss\") : null\r\n    api.post(\"/cars_state\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/cars_state\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Changement statut de véhicule\">\r\n      <FormBuilder formItems={formItemsCarState} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import React, { useState, useEffect } from \"react\"\r\nimport { Form, Input, Button, Checkbox, message, Spin } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\n\r\nimport { formItemsCarState } from \"./columns\"\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport * as moment from \"moment\"\r\nimport { _prop, _marque, _carGenre, _messages, _carStateName } from \"_consts\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const { params } = useRouteMatch()\r\n  const [data, setData] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingData, setLoadingData] = useState(true)\r\n\r\n\r\n\r\n  const edit = (postData) => {\r\n    setLoading(true)\r\n    postData[\"state_date\"] = postData[\"state_date\"] ? postData[\"state_date\"].format(\"YYYY-MM-DD HH:mm:ss\") : null\r\n    api.put(\"/cars_state/\" + params.id, postData).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      //history.push(\"/cars_state\")\r\n      setLoading(false)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/cars_state/\" + params.id).then((res) => {\r\n      setData(res.data.data)\r\n      setLoadingData(false)\r\n    })\r\n  }, [])\r\n\r\n\r\n\r\n  if (loadingData || !data) {\r\n    return <div style={{height: 200,display: \"flex\", justifyContent: \"center\", alignItems:\"center\"}}>\r\n      <Spin size=\"large\" />\r\n    </div>\r\n  }\r\n  return (\r\n    <Page withBack={true} title=\"Modifier statut de véhicule\">\r\n      <FormBuilder\r\n        initialValues={{\r\n          car_id: data?.car_id,\r\n          car: data?.car,\r\n          state_date: moment(data?.state_date),\r\n          name: data?.name,\r\n          observation: data?.observation\r\n        }}\r\n        formItems={[\r\n          {\r\n            name: \"car_id\",\r\n            label: \"Véhicule\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"cars/search\",\r\n            defaultOptionName: \"car\",\r\n            mapOptionToString: c => c?.matricule + \" | \" + c?.marque,\r\n            disabled: true\r\n          },\r\n          {\r\n            name: \"name\",\r\n            label: \"Designation\",\r\n            type: \"select\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            selects: _carStateName\r\n          },\r\n          {\r\n            name: \"state_date\",\r\n            label: \"Date\",\r\n            type: \"date\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n          },\r\n          {\r\n            name: \"observation\",\r\n            label: \"Observation\",\r\n            type: \"textarea\"\r\n          }\r\n        ]}\r\n        onFinish={edit}\r\n        loading={loading}\r\n      />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Form, Input, Button, Skeleton, message } from 'antd';\r\nimport {\r\n  ArrowLeftOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { _postes, _prop, _marque, _carGenre, _messages, _carStateName } from \"_consts\";\r\n\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n\r\n\r\n  const edit = (postData) => {\r\n    setLoading(true)\r\n    postData[\"state_date\"] = postData[\"state_date\"] ? postData[\"state_date\"].format(\"YYYY-MM-DD HH:mm:ss\") : null\r\n    api.post(\"/cars_state\", postData).then((res) => {\r\n      history.push(\"/cars_state\")\r\n      message.info(\"Bien ajouter\")\r\n    }).catch(() => {\r\n      setLoading(false)\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    api.get(\"/cars/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title={\"Ajouter Status : \" + data.matricule} selectedSiderKey=\"list-cars\">\r\n      <FormBuilder\r\n        formItems={[\r\n          {\r\n            name: \"car_id\",\r\n            label: \"Véhicule\",\r\n            type: \"search\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            url: \"cars/search\",\r\n            defaultOptionName: \"car\",\r\n            mapOptionToString: c => c?.matricule + \" | \" + c?.marque,\r\n            disabled: true\r\n          },\r\n          {\r\n            name: \"name\",\r\n            label: \"Designation\",\r\n            type: \"select\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n            selects: _carStateName\r\n          },\r\n          {\r\n            name: \"state_date\",\r\n            label: \"Date\",\r\n            type: \"date\",\r\n            rules: [{ required: true, message: _messages.required }],\r\n          },\r\n          {\r\n            name: \"observation\",\r\n            label: \"Observation\",\r\n            type: \"textarea\"\r\n          }\r\n        ]}\r\n        initialValues={{\r\n          car_id: data.id,\r\n          car: data\r\n        }}\r\n        onFinish={edit}\r\n      />\r\n    </Page>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Form, Input, Button, Skeleton, message } from 'antd';\r\nimport {\r\n  ArrowLeftOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n\r\n  const edit = (data) => {\r\n    api.put(\"/cars/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    api.get(\"/cars/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title={\"Modifie véhicule : \" + data.matricule} selectedSiderKey=\"list-cars\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n    EyeOutlined,\r\n    ToTopOutlined,\r\n    DeleteOutlined,\r\n    HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nexport default function () {\r\n    const { api } = useAppStore()\r\n    const history = useHistory()\r\n    const { params } = useRouteMatch()\r\n    const car_id = params.car_id\r\n    const columns = [\r\n        {\r\n            title: \"Matricule\",\r\n            dataIndex: \"matricule\",\r\n            copyable: true,\r\n            sorter: true,\r\n        },\r\n        {\r\n            title: \"Code GPS\",\r\n            dataIndex: \"code_gps\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Client\",\r\n            dataIndex: \"clients.designation\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Conducteur\",\r\n            dataIndex: \"drivers_fullname\",\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Date Décharge\",\r\n            dataIndex: \"date_decharge\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Date Restitution\",\r\n            dataIndex: \"restititions.date_restitition\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Date Fin Prestation\",\r\n            dataIndex: \"date_fin_prestation\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"Cree par\",\r\n            dataIndex: \"username\",\r\n            sorter: true,\r\n            hideInSearch: true\r\n        },\r\n        {\r\n            title: \"option\",\r\n            valueType: \"option\",\r\n            dataIndex: \"id\",\r\n            render: (text, row, index, action) => [\r\n                <Tooltip title=\"Afficher\">\r\n                    <Button\r\n                        onClick={() => {\r\n                            history.push(\"/decharges/show/\" + row.id)\r\n                        }}\r\n                        shape=\"circle\" icon={<EyeOutlined />} />\r\n                </Tooltip>,\r\n            ]\r\n        }\r\n    ];\r\n    const actionRef = React.useRef()\r\n    return (\r\n        <Page withBack={true} title={\"Décharges\"} selectedSiderKey=\"list-cars\">\r\n            <ProTable\r\n                actionRef={actionRef}\r\n                size=\"small\"\r\n                search={true}\r\n                columns={columns}\r\n                ellipsis={true}\r\n                request={(params, sort, filters) => {\r\n                    if (sort) {\r\n                        params[\"sortBy\"] = Object.keys(sort)[0]\r\n                        params[\"sort\"] = Object.values(sort)[0]\r\n                    }\r\n                    if (filters) {\r\n                        params[\"filterBy\"] = Object.keys(filters)[0]\r\n                        params[\"filter\"] = Object.values(filters)\r\n                    }\r\n                    return api.get(\"/cars/decharges/\" + car_id, { params }).then((res) => res.data)\r\n                }}\r\n                pagination={{\r\n                    defaultCurrent: 1,\r\n                    pageSize: 10\r\n                }}\r\n            />\r\n        </Page>\r\n    );\r\n}\r\n\r\n","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const add = (data) => {\r\n    api.post(\"/clients\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/clients\")\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau client(Structure)\" selectedSiderKey=\"add-clients\">\r\n      <FormBuilder formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Code (SAP)\",\r\n      dataIndex: \"code\",\r\n      copyable: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"designation\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Localité\",\r\n      dataIndex: \"localite\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"TEL\",\r\n      dataIndex: \"tel\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      copyable: true\r\n    },\r\n    {\r\n      title: \"Client Hierachique\",\r\n      dataIndex: [\"client\", \"designation\"],\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <>\r\n          { hasRole(user, \"SUPPRIMER_CLIENT\") &&\r\n            <Tooltip title=\"Supprimer\">\r\n              <Button\r\n                onClick={() => {\r\n                  api.post(\"/clients/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n                }}\r\n                shape=\"circle\" icon={<DeleteOutlined />} />\r\n            </Tooltip>}\r\n        </>,\r\n        <>\r\n          {hasRole(user, \"MODIFIER_CLIENT\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/clients/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Clients\" selectedSiderKey=\"list-clients\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filter) => {\r\n          console.log(sort)\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          return api.get(\"/clients\", { params, sort }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n  const edit = (data) => {\r\n    api.put(\"/clients/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/clients\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/clients/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie client\" selectedSiderKey=\"list-clients\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { Loading3QuartersOutlined } from \"@ant-design/icons\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [loading, setLoading] = useState(false)\r\n  const add = (data) => {\r\n    setLoading(true);\r\n    api.post(\"/drivers\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/drivers\")\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau conducteur\" selectedSiderKey=\"add-drivers\">\r\n      <FormBuilder loading={loading} formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { hasRole } from \"utils\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Nom\",\r\n      dataIndex: \"firstname\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Prénom\",\r\n      dataIndex: \"lastname\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"TEL\",\r\n      dataIndex: \"tel\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      copyable: true\r\n    },\r\n    {\r\n      title: \"Code paie\",\r\n      dataIndex: \"code_paie\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"type\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Creéation\",\r\n      dataIndex: \"created_at\",\r\n      valueType: \"dateTime\",\r\n      hideInSearch: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        ,\r\n        <>\r\n          { hasRole(user, \"SUPPRIMER_CONDUCTEUR\") &&\r\n            <Tooltip title=\"Supprimer\">\r\n              <Popconfirm\r\n                title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n                onConfirm={() => {\r\n                  api.post(\"/drivers/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n                }}\r\n                onCancel={() => { }}\r\n                okText=\"Oui\"\r\n                cancelText=\"No\"\r\n              >\r\n                <Button\r\n\r\n                  shape=\"circle\" icon={<DeleteOutlined />}\r\n                />\r\n              </Popconfirm>\r\n            </Tooltip>}\r\n        </>,\r\n        <>\r\n          {hasRole(user, \"MODIFIER_CONDUCTEUR\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/drivers/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Conducteurs\" selectedSiderKey=\"list-drivers\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/drivers\", { params }).then((res) => res.data.data)\r\n        }}\r\n\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n\r\n  const edit = (data) => {\r\n    api.put(\"/drivers/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/drivers\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/drivers/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie conducteur\" selectedSiderKey=\"list-drivers\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import React, { useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const add = (data) => {\r\n    setLoading(true);\r\n    api.post(\"/clients\", data).then((res) => {\r\n      message.info(\"Bien ajouter\")\r\n      history.push(\"/clients\")\r\n    }).catch(() => {\r\n      setLoading(false);\r\n    })\r\n  }\r\n  return (\r\n    <Page title=\"Nauveau client(Structure)\" selectedSiderKey=\"add-clients\">\r\n      <FormBuilder loading={loading} formItems={formItems} onFinish={add} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Input, message, Tooltip, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Code (SAP)\",\r\n      dataIndex: \"code\",\r\n      copyable: true,\r\n      hideInSearch: true,\r\n      sorter: true\r\n    },\r\n    {\r\n      title: \"Designation\",\r\n      dataIndex: \"designation\",\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Localité\",\r\n      dataIndex: \"localite\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"TEL\",\r\n      dataIndex: \"tel\",\r\n      sorter: true,\r\n      hideInSearch: true,\r\n      copyable: true\r\n    },\r\n    {\r\n      title: \"Client Hierachique\",\r\n      dataIndex: [\"client_h_designation\"],\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <>\r\n          {\r\n            hasRole(user, \"SUPPRIMER_CLIENT\") &&\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n              onConfirm={() => {\r\n                api.post(\"/clients/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Tooltip title=\"Supprimer\">\r\n                <Button\r\n                  shape=\"circle\" icon={<DeleteOutlined />} />\r\n              </Tooltip>\r\n            </Popconfirm>\r\n          }\r\n        </>,\r\n\r\n        <>\r\n          {hasRole(user, \"MODIFIER_CLIENT\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/clients/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  return (\r\n    <Page title=\"Clients\" selectedSiderKey=\"list-clients\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/clients\", { params }).then((res) => res.data.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, DatePicker } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck } from 'react-icons/fa';\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst [date1, setDate1] = React.useState(moment().startOf('month'))\r\n\tconst [date2, setDate2] = React.useState(moment())\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Matricule\",\r\n\t\t\tdataIndex: \"cars_matricule\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Code GPS\",\r\n\t\t\tdataIndex: \"cars_code_gps\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Client\",\r\n\t\t\tdataIndex: \"clients_designation\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.clients_mother_designation) {\r\n\t\t\t\t\treturn row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn row.clients_designation\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date Décharge\",\r\n\t\t\tdataIndex: \"decharges_date_decharge\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date Fin Prestation\",\r\n\t\t\tdataIndex: \"decharges_date_fin_prestation\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date restitution\",\r\n\t\t\tdataIndex: \"restititions_date_restitition\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valider par\",\r\n\t\t\tdataIndex: \"acceptedby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<Tooltip title=\"Afficher\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push(\"/decharges/show/\" + row.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<EyeOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title={\"Mise à disposition VL\"}>\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"date1\"] = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"date2\"] = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"format\"] = \"json\"\r\n\t\t\t\t\treturn api.get(\"/mise_disposition_vl\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div style={{ flex: 1, display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date1\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate1(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date1}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date2\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate2(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date2}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n\t\t\t\t\t\t<RiFileExcel2Line\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst d1 = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tconst d2 = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tapi.get(`/mise_disposition_vl?format=excel&date1=${d1}&date2=${d2}`,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tresponseType: 'blob',\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconst url = window.URL.createObjectURL(new Blob([res.data]));\r\n\t\t\t\t\t\t\t\t\tconst link = document.createElement('a');\r\n\t\t\t\t\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\t\t\t\t\tlink.setAttribute('download', 'etat_vehicules_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n\t\t\t\t\t\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\t\t\t\t\t\tlink.click();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n  const { params } = useRouteMatch()\r\n  const { api } = useAppStore()\r\n  const [loading, setLoading] = useState(true)\r\n  const [data, setData] = useState({})\r\n  const history = useHistory()\r\n  const edit = (data) => {\r\n    api.put(\"/clients/\" + params.id, data).then((res) => {\r\n      message.info(\"Bien modifier\")\r\n      history.push(\"/clients\")\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.get(\"/clients/\" + params.id).then(({ data }) => {\r\n      setData(data.data)\r\n      setLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Page withBack={true} loading={loading} title=\"Modifie client\" selectedSiderKey=\"list-clients\">\r\n      <FormBuilder formItems={formItems} initialValues={data} onFinish={edit} />\r\n    </Page>\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined,\r\n  EditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck } from 'react-icons/fa';\r\n\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n  const actionRef = React.useRef()\r\n  window.actionRef = actionRef\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"cars_matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"clients_designation\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: false,\r\n      render: (text, row, index, action) => {\r\n        if (row.clients_mother_designation) {\r\n          return row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n        } else {\r\n          return row.clients_designation\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      dataIndex: \"drivers_fullname\",\r\n      sorter: true,\r\n      copyable: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Décharge\",\r\n      dataIndex: \"date_decharge\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Fin Prestation\",\r\n      dataIndex: \"date_fin_prestation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"createdby_username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Valider par\",\r\n      dataIndex: \"acceptedby_username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Afficher\">\r\n          <Button\r\n            onClick={() => {\r\n              history.push(\"/decharges/show/\" + row.id)\r\n            }}\r\n            shape=\"circle\" icon={<EyeOutlined />} />\r\n        </Tooltip>,\r\n        <>\r\n          {hasRole(user, \"VALIDER_DECHARGE\") &&\r\n\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir valider?\"\r\n              onConfirm={() => {\r\n                api.post(\"/decharges/accepte/\" + row.id).then(() => {\r\n                  message.success(\"Decharge validée!\")\r\n                  actionRef.current.reload()\r\n                })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n              disabled={row.acceptedby_username}\r\n            >\r\n              <Tooltip title=\"Valider\">\r\n                <Button\r\n                  disabled={row.acceptedby_username}\r\n                  shape=\"circle\" icon={<FaCheck />} />\r\n              </Tooltip>\r\n            </Popconfirm>\r\n          }\r\n        </>,\r\n        <>\r\n          {hasRole(user, \"MODIFIER_DECHARGE\") &&\r\n            <Tooltip title=\"Modifier\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/decharges/edit/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n\r\n        <>\r\n          {\r\n            hasRole(user, \"DECHARGE_CHANGER_CONDUCTEUR\") &&\r\n            <Tooltip title=\"Change conducteur\">\r\n              <Button\r\n                onClick={() => {\r\n                  history.push(\"/decharges/checklist/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<FaUserEdit />} />\r\n            </Tooltip>\r\n          }\r\n        </>,\r\n        <>\r\n          {\r\n            hasRole(user, \"RESTITUER_DECHARGE\") && <Tooltip title=\"Restitution\">\r\n              <Button\r\n                disabled={row[\"restititions.id\"]}\r\n                onClick={() => {\r\n                  history.push(\"/decharges/restitition/\" + row.id)\r\n                }}\r\n                shape=\"circle\" icon={<ToTopOutlined />} />\r\n            </Tooltip>}\r\n        </>,\r\n\r\n        <>\r\n          {\r\n            hasRole(user, \"SUPPRIMER_DECHARGE\") &&\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n              onConfirm={() => {\r\n                api.post(\"/decharges/delete/\" + row.id).then(() => {\r\n                  message.info(\"Bien Supprimé\"); action.reload();\r\n                })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button\r\n                shape=\"circle\" icon={<DeleteOutlined />}\r\n              />\r\n            </Popconfirm>\r\n          }\r\n        </>\r\n\r\n      ]\r\n    }\r\n  ];\r\n  return (\r\n    <Page title={\"Décharges\"} selectedSiderKey=\"list-cars\">\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/decharges\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Divider, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport PrintRestitition from \"components/PrintRestitition\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport Print from \"components/Print\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const { params } = useRouteMatch()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ step: 0 })\r\n  window.allData = allData\r\n\r\n  useEffect(() => {\r\n    api.get(\"decharges/\" + params.id).then((res) => {\r\n      setAllData({ ...allData, decharge: res.data.data })\r\n    })\r\n  }, [params])\r\n\r\n\r\n\r\n  const printDecharge = useRef(null);\r\n  const handlePrintDecharge = useReactToPrint({\r\n    content: () => printDecharge.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n\r\n  const printRestitition = useRef(null);\r\n  const handlePrintRestitition = useReactToPrint({\r\n    content: () => printRestitition.current,\r\n    onBeforeGetContent: async () => { },\r\n  });\r\n  return (\r\n    <Page withBack={true} loading={!allData.decharge} title={\"Affiche decharge n° \" + params.id}>\r\n\r\n      {\r\n        allData?.decharge?.restitition &&\r\n        <>\r\n          <Divider orientation=\"left\"><h1><b>Restitution (Decharge)</b></h1></Divider>\r\n          <Print\r\n            component={<PrintRestitition ref={printRestitition} decharge={allData?.decharge} />}\r\n            disabledDelete={true}\r\n          />\r\n        </>\r\n      }\r\n      {\r\n        allData?.decharge?.checklists.reverse().map((checklist, i) => (\r\n          <>\r\n            <Divider orientation=\"left\"><h1><b>Chcklist Le:</b> {checklist.date_checklist}:</h1></Divider>\r\n            <Print\r\n              component={\r\n                <PrintDecharge checklist={{\r\n                  ...allData?.decharge,\r\n                  ...checklist,\r\n                  \"drivers.firstname\": checklist.driver.firstname,\r\n                  \"drivers.lastname\": checklist.driver.lastname\r\n                }}\r\n                />\r\n              }\r\n              onDelete={() => {\r\n                api.post(\"decharges/checklist/delete/\" + checklist.id).then(() => {\r\n                  history.push(\"/decharges\")\r\n                  message.info(\"Checklist est supprimer\")\r\n                })\r\n              }}\r\n              disabledDelete={i === (allData?.decharge?.checklists.length - 1)}\r\n            />\r\n          </>\r\n        ))\r\n      }\r\n    </Page >\r\n  )\r\n}","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { message, Card, Divider } from 'antd';\r\nimport * as moment from \"moment\"\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { formDechargeItems, formCheckListRestititionItems } from \"./columns\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const { params } = useRouteMatch()\r\n  const history = useHistory()\r\n  const [allData, setAllData] = useState({ decharge: null })\r\n  window.allData = allData\r\n  useEffect(() => {\r\n    api.get(\"decharges/\" + params.id).then((res) => {\r\n      const driver = {\r\n        id: res.data.data[\"drivers.id\"],\r\n        firstname: res.data.data[\"drivers.firstname\"],\r\n        lastname: res.data.data[\"drivers.lastname\"],\r\n      }\r\n      setAllData({ ...allData, decharge: res.data.data, driver })\r\n\r\n    })\r\n  }, [])\r\n\r\n  const restitition = (data) => {\r\n    data[\"car_id\"] = allData.decharge[\"cars.id\"]\r\n    data[\"decharge_id\"] = allData.decharge[\"decharges.id\"]\r\n    data[\"date_restitition\"] = data[\"date_restitition\"] ? data[\"date_restitition\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n    data[\"date_checklist\"] = data[\"date_restitition\"]\r\n    api.post(\"decharges/restitition/\" + params.id, data).then((res) => {\r\n      message.success(\"Bien Ajouter\")\r\n      history.push(\"/decharges/show/\" + params.id)\r\n    })\r\n  }\r\n  return (\r\n    <Page withBack={true} loading={!allData.decharge} title={\"Restitition (Décharge)\"}>\r\n      <Card\r\n        title={`Decharge N° ${allData.decharge && allData.decharge[\"decharges.id\"]}, Le ${allData.decharge && moment(allData.decharge[\"decharges.date_decharge\"]).format(\"DD-MM-Y\")}`}\r\n        extra={<Link to={`/decharges/show/${allData.decharge && allData.decharge[\"decharges.id\"]}`}>Plus d'info</Link>}\r\n      >\r\n        <p><b>Client:</b> {allData.decharge && allData.decharge[\"clients.designation\"]}</p>\r\n        <p><b>Marque véhicule:</b> {allData.decharge && allData.decharge[\"cars.marque\"]}</p>\r\n        <p><b>Matricule véhicule:</b> {allData.decharge && allData.decharge[\"cars.matricule\"]}</p>\r\n        <p><b>Code GPS:</b> {allData.decharge && allData.decharge[\"cars.code_gps\"]}</p>\r\n      </Card>\r\n      <Divider orientation=\"left\"><h1>Chcklist de restitition:</h1></Divider>\r\n      {allData.decharge &&\r\n\r\n        <FormBuilder\r\n          formItems={formCheckListRestititionItems} onFinish={restitition}\r\n          initialValues={\r\n            {\r\n              driver: allData.driver,\r\n              driver_id: allData.driver && allData.driver.id,\r\n              odometre: allData?.decharge && allData.decharge.odometre,\r\n              date_restitition: moment(),\r\n              assurance: allData.decharge.assurance,\r\n              assurance_marchandises: allData.decharge.assurance_marchandises,\r\n              boite_pharm: allData.decharge.boite_pharm,\r\n              carnet_enter: allData.decharge.carnet_enter,\r\n              carte_gpl: allData.decharge.carte_gpl,\r\n              carte_grise: allData.decharge.carte_grise,\r\n              cle_roue: allData.decharge.cle_roue,\r\n              cle_vehicule: allData.decharge.cle_vehicule,\r\n              cric: allData.decharge.cric,\r\n              extincteur: allData.decharge.extincteur,\r\n              gillet: allData.decharge.gillet,\r\n              niveau_carburant: allData.decharge.niveau_carburant,\r\n              permis_circuler: allData.decharge.permis_circuler,\r\n              pochette_cle: allData.decharge.pochette_cle,\r\n              poste_radio: allData.decharge.poste_radio,\r\n              roue_secour: allData.decharge.roue_secour,\r\n              scanner: allData.decharge.scanner,\r\n              starts: allData.decharge.starts,\r\n              triangle: allData.decharge.triangle,\r\n              vignette: allData.decharge.vignette\r\n            }\r\n          }\r\n        />\r\n      }\r\n    </Page >\r\n  )\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { hasRole } from \"utils\";\r\n\r\n\r\nexport default function () {\r\n  const { api, user } = useAppStore()\r\n  const history = useHistory()\r\n  const routeMatch = useRouteMatch()\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"cars_matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: false\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"clients_designation\",\r\n      copyable: true,\r\n      sorter: true,\r\n      hideInSearch: false,\r\n      render: (text, row, index, action) => {\r\n        if (row.clients_mother_designation) {\r\n          return row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n        } else {\r\n          return row.clients_designation\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      copyable: true,\r\n      dataIndex: \"drivers_fullname\",\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Décharge\",\r\n      dataIndex: \"date_decharge\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Fin Prestation\",\r\n      dataIndex: \"date_fin_prestation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Restitution\",\r\n      dataIndex: \"restititions.date_restitition\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Afficher\">\r\n          <Button\r\n            onClick={() => {\r\n              console.log(row)\r\n              history.push(\"/decharges/show/\" + row[\"id\"])\r\n            }}\r\n            shape=\"circle\" icon={<EyeOutlined />} />\r\n        </Tooltip>,\r\n        <>\r\n          {\r\n            hasRole(user, \"SUPPRIMER_DECHARGE_RESTIUER\") &&\r\n            <Popconfirm\r\n              title=\"Êtes-vous sûr de vouloir supprimer?\"\r\n              onConfirm={() => {\r\n                api.post(\"/decharges/restititions/delete/\" + row[\"restititions.id\"]).then(() => {\r\n                  message.info(\"Bien Supprimé\"); action.reload();\r\n                })\r\n              }}\r\n              onCancel={() => { }}\r\n              okText=\"Oui\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button shape=\"circle\" icon={<DeleteOutlined />} />\r\n            </Popconfirm >\r\n          }\r\n        </>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  return (\r\n    <Page title={\"Décharges Restituer\"} >\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          console.log(routeMatch)\r\n          return api.get(\"/decharges/restititions/\", { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n  EyeOutlined,\r\n  ToTopOutlined,\r\n  DeleteOutlined,\r\n  HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nexport default function () {\r\n  const { api } = useAppStore()\r\n  const history = useHistory()\r\n  const routeMatch = useRouteMatch()\r\n  const columns = [\r\n    {\r\n      title: \"Matricule\",\r\n      dataIndex: \"matricule\",\r\n      copyable: true,\r\n      sorter: true,\r\n    },\r\n    {\r\n      title: \"Code GPS\",\r\n      dataIndex: \"code_gps\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Client\",\r\n      dataIndex: \"clients.designation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Conducteur\",\r\n      dataIndex: \"drivers_fullname\",\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Décharge\",\r\n      dataIndex: \"date_decharge\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Fin Prestation\",\r\n      dataIndex: \"date_fin_prestation\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Date Restitition\",\r\n      dataIndex: \"restititions.date_restitition\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"Cree par\",\r\n      dataIndex: \"username\",\r\n      sorter: true,\r\n      hideInSearch: true\r\n    },\r\n    {\r\n      title: \"option\",\r\n      valueType: \"option\",\r\n      dataIndex: \"id\",\r\n      render: (text, row, index, action) => [\r\n        <Tooltip title=\"Afficher\">\r\n          <Button\r\n            onClick={() => {\r\n              history.push(\"/decharges/show/\" + row.id)\r\n            }}\r\n            shape=\"circle\" icon={<EyeOutlined />} />\r\n        </Tooltip>,\r\n        <Tooltip title=\"Supprimer\">\r\n          <Button\r\n            onClick={() => {\r\n              //api.post(\"/decharges/delete/\" + row.id).then(() => { message.info(\"Bien Supprimé\"); action.reload(); })\r\n            }}\r\n            shape=\"circle\" icon={<DeleteOutlined />} />\r\n        </Tooltip>\r\n      ]\r\n    }\r\n  ];\r\n  const actionRef = React.useRef()\r\n  return (\r\n    <Page withBack={true} title={\"Historique CheckList\"}>\r\n      <ProTable\r\n        actionRef={actionRef}\r\n        size=\"small\"\r\n        search={true}\r\n        columns={columns}\r\n        ellipsis={true}\r\n        request={(params, sort, filters) => {\r\n          if (sort) {\r\n            params[\"sortBy\"] = Object.keys(sort)[0]\r\n            params[\"sort\"] = Object.values(sort)[0]\r\n          }\r\n          if (filters) {\r\n            params[\"filterBy\"] = Object.keys(filters)[0]\r\n            params[\"filter\"] = Object.values(filters)\r\n          }\r\n          return api.get(\"/decharges/history/\" + routeMatch.params.car_id, { params }).then((res) => res.data)\r\n        }}\r\n        pagination={{\r\n          defaultCurrent: 1,\r\n          pageSize: 10\r\n        }}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\n\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { message, Card, Divider } from \"antd\";\r\nimport * as moment from \"moment\";\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { FormBuilder } from \"components/UIBuilder\";\r\nimport { formCheckListItems, formCheckListRestititionItems } from \"./columns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintDecharge from \"components/PrintDecharge\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nexport default function () {\r\n  const { api } = useAppStore();\r\n  const { params } = useRouteMatch();\r\n  const history = useHistory();\r\n  const [allData, setAllData] = useState({ decharge: null });\r\n  window.allData = allData;\r\n  useEffect(() => {\r\n    api.get(\"decharges/\" + params.id).then((res) => {\r\n      setAllData({ ...allData, decharge: res.data.data });\r\n    });\r\n  }, []);\r\n\r\n  const addChecklist = (data) => {\r\n    data[\"car_id\"] = allData.decharge[\"cars.id\"];\r\n    data[\"decharge_id\"] = allData.decharge[\"decharges.id\"];\r\n    data[\"date_checklist\"] = data[\"date_checklist\"]\r\n      ? data[\"date_checklist\"].format(\"yy-M-D\")\r\n      : moment().format(\"yy-M-D\");\r\n    api.post(\"decharges/checklist/\" + params.id, data).then((res) => {\r\n      message.success(\"Bien Ajouter\");\r\n      history.push(\"/decharges/show/\" + params.id);\r\n    });\r\n  };\r\n  return (\r\n    <Page\r\n      withBack={true}\r\n      loading={!allData.decharge}\r\n      title={\"Changement de conducteur\"}\r\n    >\r\n      <Card\r\n        title={`Decharge N° ${allData.decharge && allData.decharge[\"decharges.id\"]\r\n          }, Le ${allData.decharge &&\r\n          moment(allData.decharge[\"decharges.date_decharge\"]).format(\"DD-MM-Y\")\r\n          }`}\r\n        extra={\r\n          <Link\r\n            to={`/decharges/show/${allData.decharge && allData.decharge[\"decharges.id\"]\r\n              }`}\r\n          >\r\n            Plus d'info\r\n          </Link>\r\n        }\r\n      >\r\n        <p>\r\n          <b>Client:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"clients.designation\"]}\r\n        </p>\r\n        <p>\r\n          <b>Marque véhicule:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"cars.marque\"]}\r\n        </p>\r\n        <p>\r\n          <b>Matricule véhicule:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"cars.matricule\"]}\r\n        </p>\r\n        <p>\r\n          <b>Code GPS:</b>{\" \"}\r\n          {allData.decharge && allData.decharge[\"cars.code_gps\"]}\r\n        </p>\r\n      </Card>\r\n      <Divider orientation=\"left\">\r\n        <h1>Chcklist:</h1>\r\n      </Divider>\r\n      {\r\n        allData.decharge &&\r\n        <FormBuilder\r\n          formItems={[\r\n            {\r\n              name: \"date_checklist\",\r\n              label: \"Date checklist\",\r\n              type: \"date\",\r\n              disabledDate: (current, form) =>\r\n                current &&\r\n                current < moment(allData.decharge.checklists[0].date_checklist)\r\n            },\r\n            {\r\n              name: \"driver_id\",\r\n              label: \"Conducteur\",\r\n              type: \"search\",\r\n              rules: [{ required: true, message: _messages.required }],\r\n              url: \"drivers/search\",\r\n              defaultOptionName: \"driver\",\r\n              mapOptionToString: (c) => c?.firstname + \" \" + c.lastname\r\n            },\r\n            {\r\n              name: \"niveau_carburant\",\r\n              label: \"Niveau carburant\",\r\n              rules: [{ required: true, message: _messages.required }],\r\n              type: \"progress\"\r\n            },\r\n            {\r\n              name: \"odometre\",\r\n              label: \"Odometre\",\r\n              rules: [{ required: true, message: _messages.required }],\r\n              type: \"integer\",\r\n              inputProp: {\r\n                suffix: \"KM\"\r\n              }\r\n            },\r\n            {\r\n              name: \"starts\",\r\n              label: \"Etat de véhicule\",\r\n              type: \"rate\"\r\n            },\r\n            {\r\n              name: \"cle_vehicule\",\r\n              label: \"Nbs clés véhicule\",\r\n              type: \"integer\",\r\n              inputProp: {\r\n                suffix: \"Clé(s)\"\r\n              }\r\n            },\r\n            {\r\n              name: \"carte_grise\",\r\n              label: \"Carte grise\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"assurance\",\r\n              label: \"Assurance\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"assurance_marchandises\",\r\n              label: \"Assurance marchandises\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"scanner\",\r\n              label: \"Scanner\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"permis_circuler\",\r\n              label: \"Permis circuler\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"carnet_enter\",\r\n              label: \"Carnet entretien\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"vignette\",\r\n              label: \"Vignette\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"carte_gpl\",\r\n              label: \"Carte GPL\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"gillet\",\r\n              label: \"Gillet\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"roue_secour\",\r\n              label: \"Roue secour\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"cric\",\r\n              label: \"Cric\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"cle_roue\",\r\n              label: \"Cle roue\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"poste_radio\",\r\n              label: \"Poste radio\",\r\n              type: \"checkbox\"\r\n            },\r\n\r\n            {\r\n              name: \"extincteur\",\r\n              label: \"Extincteur\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"boite_pharm\",\r\n              label: \"Boite pharmacie\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"triangle\",\r\n              label: \"Triangle de présignalisation\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"pochette_cle\",\r\n              label: \"Pochette des clés\",\r\n              type: \"checkbox\"\r\n            },\r\n            {\r\n              name: \"observation_checklist\",\r\n              label: \"Observation\",\r\n              type: \"textarea\"\r\n            }\r\n          ]}\r\n          onFinish={addChecklist}\r\n          initialValues={{\r\n            odometre: allData.decharge.odometre,\r\n            assurance: allData.decharge.assurance,\r\n            assurance_marchandises: allData.decharge.assurance_marchandises,\r\n            boite_pharm: allData.decharge.boite_pharm,\r\n            carnet_enter: allData.decharge.carnet_enter,\r\n            carte_gpl: allData.decharge.carte_gpl,\r\n            carte_grise: allData.decharge.carte_grise,\r\n            cle_roue: allData.decharge.cle_roue,\r\n            cle_vehicule: allData.decharge.cle_vehicule,\r\n            cric: allData.decharge.cric,\r\n            extincteur: allData.decharge.extincteur,\r\n            gillet: allData.decharge.gillet,\r\n            niveau_carburant: allData.decharge.niveau_carburant,\r\n            permis_circuler: allData.decharge.permis_circuler,\r\n            pochette_cle: allData.decharge.pochette_cle,\r\n            poste_radio: allData.decharge.poste_radio,\r\n            roue_secour: allData.decharge.roue_secour,\r\n            scanner: allData.decharge.scanner,\r\n            starts: allData.decharge.starts,\r\n            triangle: allData.decharge.triangle,\r\n            vignette: allData.decharge.vignette\r\n          }}\r\n        />\r\n      }\r\n    </Page>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport { message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport * as moment from \"moment\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SearchMultipleInput from \"components/SearchMultipleInput\"\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\twindow.api = api\r\n\tconst history = useHistory()\r\n\tconst add = (dataForm) => {\r\n\t\tdataForm[\"type\"] = \"VL\"\r\n\t\tdataForm[\"date_bon_mission\"] = dataForm[\"date_bon_mission\"] ? dataForm[\"date_bon_mission\"].format(\"yy-M-D\") : null\r\n\t\tdataForm[\"date_depart_mission\"] = dataForm[\"date_depart_mission\"] ? dataForm[\"date_depart_mission\"].format(\"yy-M-D\") : null\r\n\t\tdataForm[\"date_arrivee_mission\"] = dataForm[\"date_arrivee_mission\"] ? dataForm[\"date_arrivee_mission\"].format(\"yy-M-D\") : null\r\n\t\tapi.post(\"/missionvls\", dataForm).then((res) => {\r\n\t\t\tmessage.info(\"Bien ajouter\")\r\n\t\t\thistory.push(\"/missions_vl\")\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<Page title=\"Nouvelle mission VL\">\r\n\t\t\t<FormBuilder\r\n\t\t\t\tformItems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"numero\",\r\n\t\t\t\t\t\tlabel: \"Numero bon commande\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_bon_mission\",\r\n\t\t\t\t\t\tlabel: \"Date d'effet(Bon commande)\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"car_id\",\r\n\t\t\t\t\t\tlabel: \"Véhicule\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\t//\tquery_string: \"groupe=leger\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"client_id\",\r\n\t\t\t\t\t\tlabel: \"Client\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"clients/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"client\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.designation\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"depart_id\",\r\n\t\t\t\t\t\tlabel: \"Départ\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cities/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"depart\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.wilaya_name + \" - \" + c?.daira_name + \" - \" + c?.commune_name\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"destinations\",\r\n\t\t\t\t\t\tlabel: \"Destination\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver1_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 1\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"driver1\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver2_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 2\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\tdefaultOptionName: \"driver2\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_depart_mission\",\r\n\t\t\t\t\t\tlabel: \"Date depart\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_bon_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_arrivee_mission\",\r\n\t\t\t\t\t\tlabel: \"Date arrivée\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_depart_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"Observation\",\r\n\t\t\t\t\t\tlabel: \"observation\",\r\n\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\tdate_bon_mission: moment(),\r\n\t\t\t\t\tdate_depart_mission: moment(),\r\n\t\t\t\t\tdepart_id: 1158,\r\n\t\t\t\t\tdepart: {\r\n\t\t\t\t\t\t\"id\": 1158,\r\n\t\t\t\t\t\t\"wilaya_name\": \"Bordj Bou Arreridj\",\r\n\t\t\t\t\t\t\"daira_name\": \"Bordj Bou Arreridj\",\r\n\t\t\t\t\t\t\"commune_name\": \"Bordj Bou Arreridj\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonFinish={add}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { message } from 'antd';\r\nimport * as moment from \"moment\"\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { FormBuilder } from \"components/UIBuilder\"\r\nimport { _postes, _messages } from \"_consts\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { formItems } from \"./columns\"\r\n\r\nexport default function () {\r\n\tconst { params } = useRouteMatch()\r\n\tconst { api } = useAppStore()\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [data, setData] = useState({})\r\n\tconst history = useHistory()\r\n\r\n\tconst edit = (data) => {\r\n\t\tdata[\"type\"] = \"VL\"\r\n\t\tdata[\"date_arrivee\"] = data[\"date_arrivee\"] ? data[\"date_arrivee\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_arrivee_destination\"] = data[\"date_arrivee_destination\"] ? data[\"date_arrivee_destination\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_arrivee_mission\"] = data[\"date_arrivee_mission\"] ? data[\"date_arrivee_mission\"].format(\"yy-M-D\") : null\r\n\t\tdata[\"date_depart\"] = data[\"date_depart\"] ? data[\"date_depart\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_depart_destination\"] = data[\"date_depart_destination\"] ? data[\"date_depart_destination\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_depart_mission\"] = data[\"date_depart_mission\"] ? data[\"date_depart_mission\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\tdata[\"date_bon_mission\"] = data[\"date_bon_mission\"] ? data[\"date_bon_mission\"].format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\r\n\t\tapi.put(\"/missionvls/\" + params.id, data).then((res) => {\r\n\t\t\tmessage.info(\"Bien modifier\")\r\n\t\t\thistory.push(\"/missions_vl\")\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/missionvls/\" + params.id).then(({ data }) => {\r\n\t\t\tsetData(data.data)\r\n\t\t\tsetLoading(false)\r\n\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Page withBack={true} loading={loading} title=\"Modifie Mission VL\" selectedSiderKey=\"list-drivers\">\r\n\t\t\t<FormBuilder\r\n\t\t\t\tformItems={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"numero\",\r\n\t\t\t\t\t\tlabel: \"Numero bon commande\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_bon_mission\",\r\n\t\t\t\t\t\tlabel: \"Date d'effet(Bon commande)\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"car_id\",\r\n\t\t\t\t\t\tlabel: \"Véhicule\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cars/search\",\r\n\t\t\t\t\t\tquery_string: \"groupe=leger\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"car\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.matricule + \" | \" + c?.marque\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"client_id\",\r\n\t\t\t\t\t\tlabel: \"Client\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"clients/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"client\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.designation\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"depart_id\",\r\n\t\t\t\t\t\tlabel: \"Départ\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"cities/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"depart\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.wilaya_name + \" - \" + c?.daira_name + \" - \" + c?.commune_name\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"destinations\",\r\n\t\t\t\t\t\tlabel: \"Destination\",\r\n\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver1_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 1\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\tdefaultOptionName: \"driver1\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"driver2_id\",\r\n\t\t\t\t\t\tlabel: \"Conducteur 2\",\r\n\t\t\t\t\t\ttype: \"search\",\r\n\t\t\t\t\t\turl: \"drivers/search\",\r\n\t\t\t\t\t\tdefaultOptionName: \"driver2\",\r\n\t\t\t\t\t\tmapOptionToString: c => c?.firstname + \" \" + c?.lastname + \" | C/P: \" + c?.code_paie\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_depart_mission\",\r\n\t\t\t\t\t\tlabel: \"Date depart\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_bon_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"date_arrivee_mission\",\r\n\t\t\t\t\t\tlabel: \"Date arrivée\",\r\n\t\t\t\t\t\trules: [{ required: true, message: _messages.required }],\r\n\t\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\t\tdisabledDate: (current, form) => current && current < form.getFieldValue(\"date_depart_mission\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"Observation\",\r\n\t\t\t\t\t\tlabel: \"observation\",\r\n\t\t\t\t\t\ttype: \"textarea\",\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tdate_arrivee: moment(data[\"date_arrivee\"]),\r\n\t\t\t\t\tdate_arrivee_destination: moment(data[\"date_arrivee_destination\"]),\r\n\t\t\t\t\tdate_arrivee_mission: data[\"date_arrivee_mission\"] ? moment(data[\"date_arrivee_mission\"]) : null,\r\n\t\t\t\t\tdate_bon_mission: moment(data[\"date_bon_mission\"]),\r\n\t\t\t\t\tdate_depart: moment(data[\"date_depart\"]),\r\n\t\t\t\t\tdate_depart_destination: moment(data[\"date_depart_destination\"]),\r\n\t\t\t\t\tdate_depart_mission: data[\"date_depart_mission\"] ? moment(data[\"date_depart_mission\"]) : null,\r\n\t\t\t\t\tcreated_at: moment(data[\"created_at\"]),\r\n\t\t\t\t\tupdated_at: moment(data[\"updated_at\"]),\r\n\t\t\t\t}}\r\n\t\t\t\tonFinish={edit}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t)\r\n\r\n}","import * as React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button, Tooltip, message, Popconfirm, DatePicker } from \"antd\";\r\n\r\nimport ProTable from \"@ant-design/pro-table\";\r\nimport {\r\n\tEyeOutlined,\r\n\tPrinterOutlined,\r\n\tToTopOutlined,\r\n\tDeleteOutlined,\r\n\tHistoryOutlined,\r\n\tEditOutlined\r\n} from '@ant-design/icons';\r\nimport { FaUserEdit, FaCheck, FaPaintBrush, FaInfo } from 'react-icons/fa';\r\nimport Page from \"components/Page\";\r\nimport { useAppStore } from \"stores\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { _prop } from \"_consts\";\r\nimport { hasRole } from \"utils\";\r\nimport ChangeState from \"./components/ChangeState\"\r\nimport CalcGPS from \"./components/CalcGPS\"\r\nimport { RiFileExcel2Line } from \"react-icons/ri\";\r\n\r\nexport default function () {\r\n\tconst { api, user } = useAppStore()\r\n\tconst history = useHistory()\r\n\tconst actionRef = React.useRef()\r\n\tconst [date1, setDate1] = React.useState(moment().startOf('month'))\r\n\tconst [date2, setDate2] = React.useState(moment())\r\n\r\n\tconst [loadingDownload, setLoadingDownload] = React.useState(false)\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Matricule\",\r\n\t\t\tdataIndex: \"cars_matricule\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Code GPS\",\r\n\t\t\tdataIndex: \"cars_code_gps\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Client\",\r\n\t\t\tdataIndex: \"clients_designation\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: false,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\tif (row.clients_mother_designation) {\r\n\t\t\t\t\treturn row.clients_designation + \" / \" + row.clients_mother_designation\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn row.clients_designation\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Conducteur\",\r\n\t\t\tdataIndex: \"driver1s_fullname\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Depart\",\r\n\t\t\tdataIndex: \"driver1s_fullname\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => {\r\n\t\t\t\treturn row.departs_wilaya_name\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Destinations\",\r\n\t\t\tdataIndex: \"destinations\",\r\n\t\t\tcopyable: true,\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date départ\",\r\n\t\t\tdataIndex: \"missions_date_depart_mission\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Date arrivee\",\r\n\t\t\tdataIndex: \"missions_date_arrivee_mission\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Status\",\r\n\t\t\tdataIndex: \"missionvls_state\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (text, row, index, action) => (<ChangeState mission={row} />)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Cree par\",\r\n\t\t\tdataIndex: \"createdby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Valider par\",\r\n\t\t\tdataIndex: \"acceptedby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"GPS par\",\r\n\t\t\tdataIndex: \"gpsby_username\",\r\n\t\t\tsorter: true,\r\n\t\t\thideInSearch: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"option\",\r\n\t\t\tvalueType: \"option\",\r\n\t\t\tdataIndex: \"id\",\r\n\t\t\trender: (text, row, index, action) => [\r\n\t\t\t\t<Tooltip title=\"Afficher\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thistory.push(\"/missions_vl/show/\" + row.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshape=\"circle\" icon={<PrinterOutlined />} />\r\n\t\t\t\t</Tooltip>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"MODIFIER_GPS_MISSION_VL\") &&\r\n\t\t\t\t\t\t<CalcGPS />\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{hasRole(user, \"VALIDER_MISSION_VL\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir valider?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/missionvls/accepte/\" + row.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tmessage.success(\"Mission validée!\")\r\n\t\t\t\t\t\t\t\t\tactionRef.current.reload()\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t\tdisabled={row.acceptedby_username}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Valider\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={row.acceptedby_username}\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<FaCheck />} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{hasRole(user, \"MODIFIER_MISSION_VL\") &&\r\n\t\t\t\t\t\t<Tooltip title=\"Modifier\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thistory.push(\"/missions_vl/edit/\" + row.id)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<EditOutlined />} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>,\r\n\t\t\t\t<>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thasRole(user, \"SUPPRIMER_MISSION_VL\") &&\r\n\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\ttitle=\"Êtes-vous sûr de vouloir supprimer?\"\r\n\t\t\t\t\t\t\tonConfirm={() => {\r\n\t\t\t\t\t\t\t\tapi.post(\"/missionvls/delete/\" + row.id).then(() => {\r\n\t\t\t\t\t\t\t\t\tmessage.info(\"Bien Supprimé\"); action.reload();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonCancel={() => { }}\r\n\t\t\t\t\t\t\tokText=\"Oui\"\r\n\t\t\t\t\t\t\tcancelText=\"No\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tshape=\"circle\" icon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Page title={\"Missions VL\"} selectedSiderKey=\"list-cars\">\r\n\t\t\t<ProTable\r\n\t\t\t\tactionRef={actionRef}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tsearch={true}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tellipsis={true}\r\n\t\t\t\trequest={(params, sort, filters) => {\r\n\t\t\t\t\tif (sort) {\r\n\t\t\t\t\t\tparams[\"sortBy\"] = Object.keys(sort)[0]\r\n\t\t\t\t\t\tparams[\"sort\"] = Object.values(sort)[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters) {\r\n\t\t\t\t\t\tparams[\"filterBy\"] = Object.keys(filters)[0]\r\n\t\t\t\t\t\tparams[\"filter\"] = Object.values(filters)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams[\"date1\"] = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\tparams[\"date2\"] = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\treturn api.get(\"/missionvls\", { params }).then((res) => res.data)\r\n\t\t\t\t}}\r\n\t\t\t\tpagination={{\r\n\t\t\t\t\tdefaultCurrent: 1,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t}}\r\n\r\n\t\t\t\ttoolBarRender={(action) => [\r\n\t\t\t\t\t<div style={{ flex: 1, display: \"flex\", flexDirection: \"row\" }}>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date1\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate1(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date1}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tplaceholder=\"date2\"\r\n\t\t\t\t\t\t\tformat=\"DD/MM/YYYY\"\r\n\t\t\t\t\t\t\tonChange={(value) => { setDate2(value); action.reload() }}\r\n\t\t\t\t\t\t\tvalue={date2}\r\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div style={{ cursor: \"pointer\", \"marginTop\": 7 }} >\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tloading={loadingDownload}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\ticon={<RiFileExcel2Line size={20} />}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst d1 = date1 ? date1.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tconst d2 = date2 ? date2.format(\"yy-M-D\") : moment().format(\"yy-M-D\")\r\n\t\t\t\t\t\t\t\tsetLoadingDownload(true)\r\n\t\t\t\t\t\t\t\tapi.get(`/missionvls?format=excel&date1=${d1}&date2=${d2}`,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tresponseType: 'blob',\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Disposition': `attachment; filename=etat_vehicules.xlsx`,\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t).then((res) => {\r\n\t\t\t\t\t\t\t\t\tconst url = window.URL.createObjectURL(new Blob([res.data]));\r\n\t\t\t\t\t\t\t\t\tconst link = document.createElement('a');\r\n\t\t\t\t\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\t\t\t\t\tlink.setAttribute('download', 'etat_missions_vl_' + moment().format(\"DD_MM_YYYY__HH_MM\") + '.xlsx');\r\n\t\t\t\t\t\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\t\t\t\t\t\tlink.click();\r\n\t\t\t\t\t\t\t\t\tsetLoadingDownload(false)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n}\r\n\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Divider, message } from 'antd';\r\n\r\nimport Page from \"components/Page\"\r\nimport { useAppStore } from \"stores\";\r\n\r\nimport { _postes, _messages } from \"_consts\";\r\n\r\nimport PrintMission from \"components/PrintMission\";\r\nimport PrintRestitition from \"components/PrintRestitition\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport Print from \"components/Print\"\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport default function () {\r\n\tconst { api } = useAppStore()\r\n\tconst { params } = useRouteMatch()\r\n\tconst history = useHistory()\r\n\tconst [mission, setMission] = useState({ step: 0 })\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"missionvls/\" + params.id).then((res) => {\r\n\t\t\tsetMission(res.data.data)\r\n\t\t})\r\n\t}, [params])\r\n\r\n\r\n\r\n\tconst printMission = useRef(null);\r\n\tconst handlePrintMission = useReactToPrint({\r\n\t\tcontent: () => printMission.current,\r\n\t\tonBeforeGetContent: async () => { },\r\n\t});\r\n\r\n\tconst printRestitition = useRef(null);\r\n\tconst handlePrintRestitition = useReactToPrint({\r\n\t\tcontent: () => printRestitition.current,\r\n\t\tonBeforeGetContent: async () => { },\r\n\t});\r\n\treturn (\r\n\t\t<Page withBack={true} loading={!mission} title={\"Affiche mission n° \" + params.id}>\r\n\t\t\t{\r\n\t\t\t\tmission.car &&\r\n\t\t\t\t<Print\r\n\t\t\t\t\tdisabledDelete={true}\r\n\t\t\t\t\tcomponent={\r\n\t\t\t\t\t\t<PrintMission mission={mission} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\tapi.post(\"missionvls/delete/\" + mission.id).then(() => {\r\n\t\t\t\t\t\t\thistory.push(\"/mission\")\r\n\t\t\t\t\t\t\tmessage.info(\"Checklist est supprimer\")\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t}\r\n\t\t</Page >\r\n\t)\r\n}","import { Layout, Menu } from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  LaptopOutlined,\r\n  NotificationOutlined\r\n} from '@ant-design/icons';\r\nimport config from \"config\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { hasRole } from 'utils';\r\nimport { useAppStore } from 'stores';\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nexport default () => {\r\n  const history = useHistory()\r\n  const { user } = useAppStore()\r\n  const { selectedSiderKey } = useAppStore()\r\n  return (\r\n    <Sider\r\n      width={200}\r\n      style={{\r\n        overflow: 'auto',\r\n        height: 'calc(100vh - 32px)',\r\n        marginTop: 32,\r\n        position: 'fixed',\r\n        left: 0,\r\n        //    background: \"linear-gradient(0deg, rgba(42, 32, 132, 1) 0%, rgba(48, 83, 209, 1) 37%, rgba(42, 32, 132, 1) 100%)\"\r\n      }}\r\n    >\r\n      <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={selectedSiderKey}>\r\n        {\r\n          config.routes.map((r, i) => {\r\n            if (r.role) {\r\n              if (r.routes) {\r\n                return (\r\n                  hasRole(user, r.role) ? <SubMenu key={r.name} icon={r.icon} title={r.label}>\r\n                    {\r\n                      r.routes.map((rr, ii) => {\r\n                        if (rr.role) {\r\n                          return hasRole(user, rr.role) ? (\r\n                            rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                          ) : null\r\n                        } else {\r\n                          return rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                        }\r\n                      })\r\n                    }\r\n                  </SubMenu> : null\r\n                )\r\n              } else {\r\n                return hasRole(user, r.role) ? (r.hideInSide ? undefined : <Menu.Item onClick={() => history.push(r.path)} key={r.name} icon={r.icon}>{r.label}</Menu.Item>) : null\r\n              }\r\n            } else {\r\n              if (r.routes) {\r\n                return (\r\n                  <SubMenu key={r.name} icon={r.icon} title={r.label}>\r\n                    {\r\n                      r.routes.map((rr, ii) => {\r\n                        if (rr.role) {\r\n                          return hasRole(user, rr.role) ? (\r\n                            rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                          ) : null\r\n                        } else {\r\n                          return (\r\n                            rr.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(rr.path)} key={rr.name}>{rr.label}</Menu.Item>\r\n                          )\r\n                        }\r\n                      })\r\n                    }\r\n                  </SubMenu>\r\n                )\r\n              } else {\r\n                return r.hideInSide ? undefined : <Menu.Item  onClick={() => history.push(r.path)} key={r.name} icon={r.icon}>{r.label}</Menu.Item>\r\n              }\r\n            }\r\n          })\r\n        }\r\n      </Menu>\r\n    </Sider>\r\n  )\r\n}","import React from \"react\"\r\nimport {\r\n\tBrowserRouter,\r\n\tRoute,\r\n\tSwitch,\r\n\tLink\r\n} from \"react-router-dom\"\r\nimport { Layout } from 'antd';\r\n\r\nimport NotFound from \"components/NotFound\"\r\n\r\nimport Header from \"containers/Header\"\r\nimport Side from \"containers/Side\"\r\n\r\nimport config from \"config\"\r\nimport { useAppStore } from 'stores';\r\nimport { hasRole } from \"utils\";\r\n\r\nconst { Content } = Layout;\r\n\r\nexport default function () {\r\n\tconst { user } = useAppStore()\r\n\tconst t = []\r\n\tfor (let i = 0; i < 100; i++) {\r\n\t\tt.push(i)\r\n\t}\r\n\tconst renderSubMenuRoutes = (routes) => {\r\n\t\treturn (\r\n\t\t\t<Switch>\r\n\t\t\t\t{routes.map((r, i) => {\r\n\t\t\t\t\tif (r.role) {\r\n\t\t\t\t\t\treturn hasRole(user, r.role) ?\r\n\t\t\t\t\t\t\t<Route key={i} exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn <Route key={i} exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</Switch>\r\n\t\t)\r\n\t}\r\n\tconst renderRoutes = () => {\r\n\t\treturn config.routes.map((r, i) => {\r\n\t\t\tif (r.role) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\thasRole(user, r.role) ? <Switch>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tr.routes ?\r\n\t\t\t\t\t\t\t\trenderSubMenuRoutes(r.routes) :\r\n\t\t\t\t\t\t\t\t<Route exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Switch> : null\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tr.routes ?\r\n\t\t\t\t\t\t\t\trenderSubMenuRoutes(r.routes) :\r\n\t\t\t\t\t\t\t\t<Route exact={r.exact} component={r.component} path={r.path} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Layout>\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\twidth: 200,\r\n\t\t\t\t\theight: 32,\r\n\t\t\t\t\tbackgroundColor: \"white\",\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\tpaddingBottom: 5,\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\tdisplay: \"flex\", justifyContent: \"center\",\r\n\t\t\t\t\t\talignItems: \"center\", flex: 1\r\n\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//<img alt=\"\" style={{ height: 36 }} src=\"gpark_logo2.png\" />\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Side />\r\n\t\t\t\t<Layout style={{ marginLeft: 200, overflowY: \"scroll\" }}>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Content style={{ paddingTop: 32 }}>\r\n\t\t\t\t\t\t{renderRoutes()}\r\n\t\t\t\t\t</Content>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\t\t</BrowserRouter >\r\n\t)\r\n}","import React, { useState } from \"react\"\r\nimport { Form, Input, Button, Checkbox, message, Divider } from 'antd';\r\n\r\n\r\nimport { useHistory, useLocation } from \"react-router-dom\"\r\nimport { useAppStore } from \"stores\"\r\nimport useApi from \"useApi\";\r\nimport * as _consts from \"_consts\"\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n  },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8,\r\n    span: 16,\r\n  },\r\n};\r\n\r\n\r\nexport default function Login() {\r\n  let history = useHistory();\r\n  let { api, setToken } = useApi()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const onFinish = (values) => {\r\n    setLoading(true)\r\n    api\r\n      .post(\"auth/login\", values)\r\n      .then(({ data }) => {\r\n        setToken(data.data.token);\r\n        document.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false)\r\n      });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n\r\n      <Form\r\n        layout=\"vertical\"\r\n        name=\"basic\"\r\n        initialValues={{\r\n        }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        style={{\r\n          width: 400,\r\n          padding: 20,\r\n          borderRadius: 5\r\n        }}\r\n\r\n      >\r\n        <div style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}>\r\n          <img alt=\"Gpark\" style={{ height: 72, width: 72 }} src=\"gpark_logo.png\" />\r\n        </div>\r\n        <Divider />\r\n        <h1 style={{ fontSize: 30, fontWeight: 700 }}>Se connecter à G P A R K</h1>\r\n        <Form.Item\r\n          label=\"Nom d'utilisateur\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: _consts._messages[\"required\"],\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Mot de pass\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: _consts._messages[\"required\"],\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Divider />\r\n        <Form.Item >\r\n          <Button loading={loading} type=\"primary\" style={{ width: \"100%\" }} htmlType=\"submit\">\r\n            Connecté\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\nimport { Spin } from 'antd';\n\nimport { AppProvider } from \"./stores\";\n\nimport Main from \"containers/Main\";\nimport Login from 'containers/Login';\n\nimport useApi from 'useApi';\n\nexport default function App() {\n  const [isLoadingUser, setIsLoadingUser] = useState(true);\n  const [user, setUser] = useState(null);\n  const { api, setToken, token } = useApi();\n  const [selectedSiderKey, setSelectedSiderKey] = useState(\"\")\n  const loadCurentUser = () => {\n    let isSubscribed = true;\n    setIsLoadingUser(true);\n    api\n      .get(\"/auth/me\")\n      .then(({ data }) => {\n        if (isSubscribed) {\n          setUser(data.data);\n          setIsLoadingUser(false);\n        }\n      })\n      .catch(() => {\n        if (isSubscribed) {\n          setUser(null);\n          setIsLoadingUser(false);\n        }\n      });\n    return () => (isSubscribed = false);\n  }\n\n  useEffect(loadCurentUser, [token]);\n  //useEffect(loadCurentUser, [user, api]);\n\n  if (isLoadingUser) {\n    return (\n      <div\n        style={{\n          flex: 1,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Spin size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <AppProvider value={{ user, setUser, api, setToken, selectedSiderKey, setSelectedSiderKey }}>\n      {user ? <Main /> : <Login />}\n    </AppProvider>\n  )\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ConfigProvider } from 'antd';\nimport frFR from 'antd/lib/locale/fr_FR';\n\nimport 'antd/dist/antd.css';\n//import \"@ant-design/pro-table/dist/protable.css\";\nimport '@ant-design/pro-table/dist/table.css';\n\n//import 'react-perfect-scrollbar/dist/css/styles.css';\nimport './index.css';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <ConfigProvider locale={frFR}>\n    <App />\n  </ConfigProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}